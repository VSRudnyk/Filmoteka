parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"clu1":[function(require,module,exports) {

},{"./../images/background/background-mob.jpg":[["background-mob.e5afa49b.jpg","MDH8"],"MDH8"],"./../images/background/background-tab.jpg":[["background-tab.c7fb763f.jpg","d8fQ"],"d8fQ"],"./../images/background/background-desk.jpg":[["background-desk.9336281a.jpg","VRi0"],"VRi0"],"./../images/background/library-mob.jpg":[["library-mob.b3d8f4c0.jpg","plET"],"plET"],"./../images/background/library-tab.jpg":[["library-tab.41596111.jpg","zdKu"],"zdKu"],"./../images/background/library-desk.jpg":[["library-desk.186b6a69.jpg","NUxf"],"NUxf"],"./../images/background/background-mob2x.jpg":[["background-mob2x.6f01e277.jpg","Mr6H"],"Mr6H"],"./../images/background/background-tab2x.jpg":[["background-tab2x.c82c1107.jpg","weNC"],"weNC"],"./../images/background/background-desk2x.jpg":[["background-desk2x.ec478f73.jpg","Bg1O"],"Bg1O"],"./../images/background/library-mob2x.jpg":[["library-mob2x.761993de.jpg","f62F"],"f62F"],"./../images/background/library-tab2x.jpg":[["library-tab2x.f822c74d.jpg","UsCK"],"UsCK"],"./../images/background/library-desk2x.jpg":[["library-desk2x.ffe084b6.jpg","dIGY"],"dIGY"],"./../images/background/bg3.png":[["bg3.30e8fd89.png","rMWR"],"rMWR"],"./../images/background/webb-dark.png":[["webb-dark.97a13efc.png","OvUk"],"OvUk"],"./../images/btn-play.png":[["btn-play.971377ec.png","pR16"],"pR16"]}],"MeeU":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,o=arguments[3];!function(o,i){"function"==typeof t&&t.amd?t([],function(){return i(o)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=i(o):o.Notiflix=i(o)}(void 0!==o?o:"undefined"!=typeof window?window:this,function(t){"use strict";if(void 0===t&&void 0===t.document)return!1;var o,i="Success",e="Failure",n="Warning",a="Info",s={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},r=function(t){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+t+"\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation")},l=function(o){return o||(o="head"),null!==t.document[o]||(r('\nNotiflix needs to be appended to the "<'+o+'>" element, but you called it before the "<'+o+'>" element has been created.'),!1)},f=function(){var t={},o=!1,i=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],i++);for(var e=function(i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(o&&"[object Object]"===Object.prototype.toString.call(i[e])?t[e]=f(t[e],i[e]):t[e]=i[e])};i<arguments.length;i++)e(arguments[i]);return t},c=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},m=0,p=function(r,c,p,d){if(!l("body"))return!1;o||y.Notify.init({});var x=f(!0,o,{});if("object"==typeof p&&!Array.isArray(p)||"object"==typeof d&&!Array.isArray(d)){var u={};"object"==typeof p?u=p:"object"==typeof d&&(u=d),o=f(!0,o,u)}var b,g,w=o[r.toLocaleLowerCase("en")];m++,"string"!=typeof c&&(c="Notiflix "+r),o.plainText&&(b=c,(g=t.document.createElement("div")).innerHTML=b,c=g.textContent||g.innerText||""),!o.plainText&&c.length>o.messageMaxLength&&(o=f(!0,o,{closeButton:!0,messageMaxLength:150}),c='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),c.length>o.messageMaxLength&&(c=c.substring(0,o.messageMaxLength)+"..."),"shadow"===o.fontAwesomeIconStyle&&(w.fontAwesomeIconColor=w.background),o.cssAnimation||(o.cssAnimationDuration=0);var h=t.document.getElementById(s.wrapID)||t.document.createElement("div");if(h.id=s.wrapID,h.style.width=o.width,h.style.zIndex=o.zindex,h.style.opacity=o.opacity,"center-center"===o.position?(h.style.left=o.distance,h.style.top=o.distance,h.style.right=o.distance,h.style.bottom=o.distance,h.style.margin="auto",h.classList.add("nx-flex-center-center"),h.style.maxHeight="calc((100vh - "+o.distance+") - "+o.distance+")",h.style.display="flex",h.style.flexWrap="wrap",h.style.flexDirection="column",h.style.justifyContent="center",h.style.alignItems="center",h.style.pointerEvents="none"):"center-top"===o.position?(h.style.left=o.distance,h.style.right=o.distance,h.style.top=o.distance,h.style.bottom="auto",h.style.margin="auto"):"center-bottom"===o.position?(h.style.left=o.distance,h.style.right=o.distance,h.style.bottom=o.distance,h.style.top="auto",h.style.margin="auto"):"right-bottom"===o.position?(h.style.right=o.distance,h.style.bottom=o.distance,h.style.top="auto",h.style.left="auto"):"left-top"===o.position?(h.style.left=o.distance,h.style.top=o.distance,h.style.right="auto",h.style.bottom="auto"):"left-bottom"===o.position?(h.style.left=o.distance,h.style.bottom=o.distance,h.style.top="auto",h.style.right="auto"):(h.style.right=o.distance,h.style.top=o.distance,h.style.left="auto",h.style.bottom="auto"),o.backOverlay){var v=t.document.getElementById(s.overlayID)||t.document.createElement("div");v.id=s.overlayID,v.style.width="100%",v.style.height="100%",v.style.position="fixed",v.style.zIndex=o.zindex-1,v.style.left=0,v.style.top=0,v.style.right=0,v.style.bottom=0,v.style.background=w.backOverlayColor||o.backOverlayColor,v.className=o.cssAnimation?"nx-with-animation":"",v.style.animationDuration=o.cssAnimation?o.cssAnimationDuration+"ms":"",t.document.getElementById(s.overlayID)||t.document.body.appendChild(v)}t.document.getElementById(s.wrapID)||t.document.body.appendChild(h);var k=t.document.createElement("div");k.id=o.ID+"-"+m,k.className=o.className+" "+w.childClassName+" "+(o.cssAnimation?"nx-with-animation":"")+" "+(o.useIcon?"nx-with-icon":"")+" nx-"+o.cssAnimationStyle+" "+(o.closeButton&&"function"!=typeof p?"nx-with-close-button":"")+" "+("function"==typeof p?"nx-with-callback":"")+" "+(o.clickToClose?"nx-notify-click-to-close":""),k.style.fontSize=o.fontSize,k.style.color=w.textColor,k.style.background=w.background,k.style.borderRadius=o.borderRadius,k.style.pointerEvents="all",o.rtl&&(k.setAttribute("dir","rtl"),k.classList.add("nx-rtl-on")),k.style.fontFamily='"'+o.fontFamily+'", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',o.cssAnimation&&(k.style.animationDuration=o.cssAnimationDuration+"ms");var N="";if(o.closeButton&&"function"!=typeof p&&(N='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+w.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),o.useIcon)if(o.useFontAwesome)k.innerHTML='<i style="color:'+w.fontAwesomeIconColor+"; font-size:"+o.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+w.fontAwesomeClassName+" "+("shadow"===o.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+c+"</span>"+(o.closeButton?N:"");else{var I="";r===i?I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+w.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':r===e?I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+w.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':r===n?I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+w.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':r===a&&(I='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+w.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),k.innerHTML=I+'<span class="nx-message nx-with-icon">'+c+"</span>"+(o.closeButton?N:"")}else k.innerHTML='<span class="nx-message">'+c+"</span>"+(o.closeButton?N:"");if("left-bottom"===o.position||"right-bottom"===o.position){var C=t.document.getElementById(s.wrapID);C.insertBefore(k,C.firstChild)}else t.document.getElementById(s.wrapID).appendChild(k);var z=t.document.getElementById(k.id);if(z){var A,W,B=function(){z.classList.add("nx-remove");var o=t.document.getElementById(s.overlayID);o&&h.childElementCount<=0&&o.classList.add("nx-remove"),clearTimeout(A)},T=function(){if(z&&null!==z.parentNode&&z.parentNode.removeChild(z),h.childElementCount<=0&&null!==h.parentNode){h.parentNode.removeChild(h);var o=t.document.getElementById(s.overlayID);o&&null!==o.parentNode&&o.parentNode.removeChild(o)}clearTimeout(W)};if(o.closeButton&&"function"!=typeof p)t.document.getElementById(k.id).querySelector("span.nx-close-button").addEventListener("click",function(){B();var t=setTimeout(function(){T(),clearTimeout(t)},o.cssAnimationDuration)});if(("function"==typeof p||o.clickToClose)&&z.addEventListener("click",function(){"function"==typeof p&&p(),B();var t=setTimeout(function(){T(),clearTimeout(t)},o.cssAnimationDuration)}),!o.closeButton&&"function"!=typeof p){var D=function(){A=setTimeout(function(){B()},o.timeout),W=setTimeout(function(){T()},o.timeout+o.cssAnimationDuration)};D(),o.pauseOnHover&&(z.addEventListener("mouseenter",function(){z.classList.add("nx-paused"),clearTimeout(A),clearTimeout(W)}),z.addEventListener("mouseleave",function(){z.classList.remove("nx-paused"),D()}))}}if(o.showOnlyTheLastOne&&m>0)for(var E=t.document.querySelectorAll("[id^="+o.ID+"-]:not([id="+o.ID+"-"+m+"])"),L=0;L<E.length;L++){var O=E[L];null!==O.parentNode&&O.parentNode.removeChild(O)}o=f(!0,o,x)},y={Notify:{init:function(i){o=f(!0,s,i),function(o,i){if(!l("head"))return!1;if(null!==o()&&!t.document.getElementById(i)){var e=t.document.createElement("style");e.id=i,e.innerHTML=o(),t.document.head.appendChild(e)}}(c,"NotiflixNotifyInternalCSS")},merge:function(t){if(!o)return r("You have to initialize the Notify module before call Merge function."),!1;o=f(!0,o,t)},success:function(t,o,e){p(i,t,o,e)},failure:function(t,o,i){p(e,t,o,i)},warning:function(t,o,i){p(n,t,o,i)},info:function(t,o,i){p(a,t,o,i)}}};return"object"==typeof t.Notiflix?f(!0,t.Notiflix,{Notify:y.Notify}):{Notify:y.Notify}});
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"chA2":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var t=arguments[3],e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sha1=exports.RANDOM_FACTOR=exports.MAX_VALUE_MILLIS=exports.FirebaseError=exports.ErrorFactory=exports.Deferred=exports.DecodeBase64StringError=exports.CONSTANTS=void 0,exports.areCookiesEnabled=V,exports.assertionError=exports.assert=void 0,exports.async=ft,exports.base64urlEncodeWithoutPadding=exports.base64Encode=exports.base64Decode=exports.base64=void 0,exports.calculateBackoffMillis=Ct,exports.contains=Y,exports.createMockUserToken=O,exports.createSubscribe=ht,exports.decode=void 0,exports.deepCopy=l,exports.deepEqual=rt,exports.deepExtend=p,exports.errorPrefix=bt,exports.extractQuerystring=at,exports.getExperimentalSetting=exports.getDefaults=exports.getDefaultEmulatorHostnameAndPort=exports.getDefaultEmulatorHost=exports.getDefaultAppConfig=void 0,exports.getGlobal=b,exports.getModularInstance=Tt,exports.getUA=C,exports.isAdmin=void 0,exports.isBrowser=T,exports.isBrowserExtension=N,exports.isElectron=j,exports.isEmpty=tt,exports.isIE=B,exports.isIndexedDBAvailable=L,exports.isMobileCordova=D,exports.isNode=w,exports.isNodeSdk=I,exports.isReactNative=M,exports.isSafari=P,exports.isUWP=k,exports.issuedAtTime=exports.isValidTimestamp=exports.isValidFormat=void 0,exports.jsonEval=H,exports.map=et,exports.ordinal=Dt,exports.promiseWithTimeout=nt,exports.querystring=st,exports.querystringDecode=it,exports.safeGet=Z,exports.stringToByteArray=exports.stringLength=void 0,exports.stringify=J,exports.validateArgCount=exports.uuidv4=void 0,exports.validateCallback=_t,exports.validateContextObject=gt,exports.validateIndexedDBOpenable=R,exports.validateNamespace=xt;const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};exports.CONSTANTS=r;const o=function(t,e){if(!t)throw n(e)};exports.assert=o;const n=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};exports.assertionError=n;const s=function(t){const e=[];let r=0;for(let o=0;o<t.length;o++){let n=t.charCodeAt(o);n<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=63&n|128):55296==(64512&n)&&o+1<t.length&&56320==(64512&t.charCodeAt(o+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++o)),e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=63&n|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=63&n|128)}return e},i=function(t){const e=[];let r=0,o=0;for(;r<t.length;){const n=t[r++];if(n<128)e[o++]=String.fromCharCode(n);else if(n>191&&n<224){const s=t[r++];e[o++]=String.fromCharCode((31&n)<<6|63&s)}else if(n>239&&n<365){const s=((7&n)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;e[o++]=String.fromCharCode(55296+(s>>10)),e[o++]=String.fromCharCode(56320+(1023&s))}else{const s=t[r++],i=t[r++];e[o++]=String.fromCharCode((15&n)<<12|(63&s)<<6|63&i)}}return e.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let n=0;n<t.length;n+=3){const e=t[n],s=n+1<t.length,i=s?t[n+1]:0,a=n+2<t.length,c=a?t[n+2]:0,h=e>>2,u=(3&e)<<4|i>>4;let f=(15&i)<<2|c>>6,l=63&c;a||(l=64,s||(f=64)),o.push(r[h],r[u],r[f],r[l])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let n=0;n<t.length;){const e=r[t.charAt(n++)],s=n<t.length?r[t.charAt(n)]:0,i=++n<t.length?r[t.charAt(n)]:64,a=++n<t.length?r[t.charAt(n)]:64;if(++n,null==e||null==s||null==i||null==a)throw new c;const h=e<<2|s>>4;if(o.push(h),64!==i){const t=s<<4&240|i>>2;if(o.push(t),64!==a){const t=i<<6&192|a;o.push(t)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};exports.base64=a;class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}exports.DecodeBase64StringError=c;const h=function(t){const e=s(t);return a.encodeByteArray(e,!0)};exports.base64Encode=h;const u=function(t){return h(t).replace(/\./g,"")};exports.base64urlEncodeWithoutPadding=u;const f=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)e.hasOwnProperty(r)&&d(r)&&(t[r]=p(t[r],e[r]));return t}function d(t){return"__proto__"!==t}function b(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("Unable to locate global object.")}exports.base64Decode=f;const x=()=>b().__FIREBASE_DEFAULTS__,_=()=>{if(void 0===e||void 0===e.env)return},g=()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(r){return}const e=t&&f(t[1]);return e&&JSON.parse(e)},y=()=>{try{return x()||_()||g()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};exports.getDefaults=y;const v=t=>{var e,r;return null===(r=null===(e=y())||void 0===e?void 0:e.emulatorHosts)||void 0===r?void 0:r[t]};exports.getDefaultEmulatorHost=v;const E=t=>{const e=v(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return"["===e[0]?[e.substring(1,r-1),o]:[e.substring(0,r),o]};exports.getDefaultEmulatorHostnameAndPort=E;const m=()=>{var t;return null===(t=y())||void 0===t?void 0:t.config};exports.getDefaultAppConfig=m;const S=t=>{var e;return null===(e=y())||void 0===e?void 0:e[`_${t}`]};exports.getExperimentalSetting=S;class A{constructor(){this.reject=(()=>{}),this.resolve=(()=>{}),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}function O(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",o=t.iat||0,n=t.sub||t.user_id;if(!n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:n,user_id:n,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")}function C(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function D(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())}function w(){var e;const r=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===r)return!0;if("browser"===r)return!1;try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(o){return!1}}function T(){return"object"==typeof self&&self.self===self}function N(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function M(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function j(){return C().indexOf("Electron/")>=0}function B(){const t=C();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return C().indexOf("MSAppHost/")>=0}function I(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function P(){return!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){try{return"object"==typeof indexedDB}catch(t){return!1}}function R(){return new Promise((t,e)=>{try{let o=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=(()=>{s.result.close(),o||self.indexedDB.deleteDatabase(n),t(!0)}),s.onupgradeneeded=(()=>{o=!1}),s.onerror=(()=>{var t;e((null===(t=s.error)||void 0===t?void 0:t.message)||"")})}catch(r){e(r)}})}function V(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}exports.Deferred=A;const F="FirebaseError";class U extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=F,Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}exports.FirebaseError=U;class W{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,n=this.errors[t],s=n?$(n,r):"Error",i=`${this.serviceName}: ${s} (${o}).`;return new U(o,i,r)}}function $(t,e){return t.replace(z,(t,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}exports.ErrorFactory=W;const z=/\{\$([^}]+)}/g;function H(t){return JSON.parse(t)}function J(t){return JSON.stringify(t)}const q=function(t){let e={},r={},o={},n="";try{const i=t.split(".");e=H(f(i[0])||""),r=H(f(i[1])||""),n=i[2],o=r.d||{},delete r.d}catch(s){}return{header:e,claims:r,data:o,signature:n}};exports.decode=q;const G=function(t){const e=q(t).claims,r=Math.floor((new Date).getTime()/1e3);let o=0,n=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?o=e.nbf:e.hasOwnProperty("iat")&&(o=e.iat),n=e.hasOwnProperty("exp")?e.exp:o+86400),!!r&&!!o&&!!n&&r>=o&&r<=n};exports.isValidTimestamp=G;const K=function(t){const e=q(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null};exports.issuedAtTime=K;const X=function(t){const e=q(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")};exports.isValidFormat=X;const Q=function(t){const e=q(t).claims;return"object"==typeof e&&!0===e.admin};function Y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Z(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function tt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function et(t,e,r){const o={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=e.call(r,t[n],n,t));return o}function rt(t,e){if(t===e)return!0;const r=Object.keys(t),o=Object.keys(e);for(const n of r){if(!o.includes(n))return!1;const r=t[n],s=e[n];if(ot(r)&&ot(s)){if(!rt(r,s))return!1}else if(r!==s)return!1}for(const n of o)if(!r.includes(n))return!1;return!0}function ot(t){return null!==t&&"object"==typeof t}function nt(t,e=2e3){const r=new A;return setTimeout(()=>r.reject("timeout!"),e),t.then(r.resolve,r.reject),r.promise}function st(t){const e=[];for(const[r,o]of Object.entries(t))Array.isArray(o)?o.forEach(t=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function it(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[r,o]=t.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function at(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}exports.isAdmin=Q;class ct{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const r=this.W_;if("string"==typeof t)for(let u=0;u<16;u++)r[u]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let u=0;u<16;u++)r[u]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let u=16;u<80;u++){const t=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=4294967295&(t<<1|t>>>31)}let o,n,s=this.chain_[0],i=this.chain_[1],a=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(o=c^i&(a^c),n=1518500249):(o=i^a^c,n=1859775393):u<60?(o=i&a|c&(i|a),n=2400959708):(o=i^a^c,n=3395469782);const t=(s<<5|s>>>27)+o+h+n+r[u]&4294967295;h=c,c=a,a=4294967295&(i<<30|i>>>2),i=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const r=e-this.blockSize;let o=0;const n=this.buf_;let s=this.inbuf_;for(;o<e;){if(0===s)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(n[s]=t.charCodeAt(o),++o,++s===this.blockSize){this.compress_(n),s=0;break}}else for(;o<e;)if(n[s]=t[o],++o,++s===this.blockSize){this.compress_(n),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=255&e,e/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let e=24;e>=0;e-=8)t[r]=this.chain_[o]>>e&255,++r;return t}}function ht(t,e){const r=new ut(t,e);return r.subscribe.bind(r)}exports.Sha1=ct;class ut{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");void 0===(o=lt(t,["next","error","complete"])?t:{next:t,error:e,complete:r}).next&&(o.next=pt),void 0===o.error&&(o.error=pt),void 0===o.complete&&(o.complete=pt);const n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(t){}}),this.observers.push(o),n}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ft(t,e){return(...r)=>{Promise.resolve(!0).then(()=>{t(...r)}).catch(t=>{e&&e(t)})}}function lt(t,e){if("object"!=typeof t||null===t)return!1;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}function pt(){}const dt=function(t,e,r,o){let n;if(o<e?n="at least "+e:o>r&&(n=0===r?"none":"no more than "+r),n){throw new Error(t+" failed: Was called with "+o+(1===o?" argument.":" arguments.")+" Expects "+n+".")}};function bt(t,e){return`${t} failed: ${e} argument `}function xt(t,e,r){if((!r||e)&&"string"!=typeof e)throw new Error(bt(t,"namespace")+"must be a valid firebase namespace.")}function _t(t,e,r,o){if((!o||r)&&"function"!=typeof r)throw new Error(bt(t,e)+"must be a valid function.")}function gt(t,e,r,o){if((!o||r)&&("object"!=typeof r||null===r))throw new Error(bt(t,e)+"must be a valid context object.")}exports.validateArgCount=dt;const yt=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s>=55296&&s<=56319){const e=s-55296;o(++n<t.length,"Surrogate pair missing trail surrogate."),s=65536+(e<<10)+(t.charCodeAt(n)-56320)}s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=63&s|128):s<65536?(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=63&s|128):(e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=63&s|128)}return e};exports.stringToByteArray=yt;const vt=function(t){let e=0;for(let r=0;r<t.length;r++){const o=t.charCodeAt(r);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,r++):e+=3}return e};exports.stringLength=vt;const Et=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})};exports.uuidv4=Et;const mt=1e3,St=2,At=144e5;exports.MAX_VALUE_MILLIS=At;const Ot=.5;function Ct(t,e=mt,r=St){const o=e*Math.pow(r,t),n=Math.round(Ot*o*(Math.random()-.5)*2);return Math.min(At,o+n)}function Dt(t){return Number.isFinite(t)?t+wt(t):`${t}`}function wt(t){const e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";const r=t%10;return 1===r?"st":2===r?"nd":3===r?"rd":"th"}function Tt(t){return t&&t._delegate?t._delegate:t}exports.RANDOM_FACTOR=Ot;
},{"process":"pBGv"}],"vhY9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Provider=exports.ComponentContainer=exports.Component=void 0;var t=require("@firebase/util");class e{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}exports.Component=e;const n="[DEFAULT]";class i{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const e=new t.Deferred;if(this.instancesDeferred.set(n,e),this.isInitialized(n)||this.shouldAutoInitialize())try{const t=this.getOrInitializeService({instanceIdentifier:n});t&&e.resolve(t)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(r(t))try{this.getOrInitializeService({instanceIdentifier:n})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t=n){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t=n){return this.instances.has(t)}getOptions(t=n){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,r]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&r.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch(i){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:s(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}return n||null}normalizeInstanceIdentifier(t=n){return this.component?this.component.multipleInstances?t:n:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function s(t){return t===n?void 0:t}function r(t){return"EAGER"===t.instantiationMode}exports.Provider=i;class o{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new i(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}exports.ComponentContainer=o;
},{"@firebase/util":"chA2"}],"JJem":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Logger=exports.LogLevel=void 0,exports.setLogLevel=i,exports.setUserLogHandler=g;const e=[];var r;exports.LogLevel=r,function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(exports.LogLevel=r={}));const t={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,l={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},s=(e,r,...t)=>{if(r<e.logLevel)return;const o=(new Date).toISOString(),s=l[r];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`);console[s](`[${o}]  ${e.name}:`,...t)};class n{constructor(r){this.name=r,this._logLevel=o,this._logHandler=s,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?t[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function i(r){e.forEach(e=>{e.setLogLevel(r)})}function g(o,l){for(const s of e){let e=null;l&&l.level&&(e=t[l.level]),s.userLogHandler=null===o?null:(t,l,...s)=>{const n=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(r){return null}}).filter(e=>e).join(" ");l>=(null!=e?e:t.logLevel)&&o({level:r[l].toLowerCase(),message:n,args:s,type:t.name})}}}exports.Logger=n;
},{}],"F1qz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.i=exports.a=void 0,exports.r=v,exports.u=void 0,exports.w=I;const e=(e,t)=>t.some(t=>e instanceof t);let t,r;function n(){return t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o(){return r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}exports.i=e;const s=new WeakMap,i=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap;function p(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(I(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&s.set(t,e)}).catch(()=>{}),u.set(t,e),t}function f(e){if(i.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});i.set(e,t)}exports.a=u;let d={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return i.get(e);if("objectStoreNames"===t)return e.objectStoreNames||a.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return I(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function v(e){d=e(d)}function D(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?o().includes(e)?function(...t){return e.apply(B(this),t),I(s.get(this))}:function(...t){return I(e.apply(B(this),t))}:function(t,...r){const n=e.call(B(this),t,...r);return a.set(n,t.sort?t.sort():[t]),I(n)}}function m(t){return"function"==typeof t?D(t):(t instanceof IDBTransaction&&f(t),e(t,n())?new Proxy(t,d):t)}function I(e){if(e instanceof IDBRequest)return p(e);if(c.has(e))return c.get(e);const t=m(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const B=e=>u.get(e);exports.u=B;
},{}],"JZvK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteDB=n,exports.openDB=t,Object.defineProperty(exports,"unwrap",{enumerable:!0,get:function(){return e.u}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return e.w}});var e=require("./wrap-idb-value.js");function t(t,n,{blocked:r,upgrade:o,blocking:i,terminated:s}={}){const d=indexedDB.open(t,n),a=(0,e.w)(d);return o&&d.addEventListener("upgradeneeded",t=>{o((0,e.w)(d.result),t.oldVersion,t.newVersion,(0,e.w)(d.transaction),t)}),r&&d.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function n(t,{blocked:n}={}){const r=indexedDB.deleteDatabase(t);return n&&r.addEventListener("blocked",e=>n(e.oldVersion,e)),(0,e.w)(r).then(()=>void 0)}const r=["get","getKey","getAll","getAllKeys","count"],o=["put","add","delete","clear"],i=new Map;function s(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(i.get(t))return i.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,d=o.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!d&&!r.includes(n))return;const a=async function(e,...t){const r=this.transaction(e,d?"readwrite":"readonly");let o=r.store;return s&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),d&&r.done]))[0]};return i.set(t,a),a}(0,e.r)(e=>({...e,get:(t,n,r)=>s(t,n)||e.get(t,n,r),has:(t,n)=>!!s(t,n)||e.has(t,n)}));
},{"./wrap-idb-value.js":"F1qz"}],"h2Mb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"FirebaseError",{enumerable:!0,get:function(){return a.FirebaseError}}),exports._DEFAULT_ENTRY_NAME=exports.SDK_VERSION=void 0,exports._addComponent=L,exports._addOrOverwriteComponent=M,exports._apps=void 0,exports._clearComponents=V,exports._components=void 0,exports._getProvider=U,exports._registerComponent=T,exports._removeServiceInstance=R,exports.deleteApp=Q,exports.getApp=Y,exports.getApps=G,exports.initializeApp=W,exports.onLog=Z,exports.registerVersion=X,exports.setLogLevel=ee;var e=require("@firebase/component"),t=require("@firebase/logger"),a=require("@firebase/util"),r=require("idb");class n{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(i(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}function i(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}const s="@firebase/app",o="0.9.13",c=new t.Logger("@firebase/app"),p="@firebase/app-compat",h="@firebase/analytics-compat",l="@firebase/analytics",f="@firebase/app-check-compat",d="@firebase/app-check",b="@firebase/auth",g="@firebase/auth-compat",u="@firebase/database",m="@firebase/database-compat",w="@firebase/functions",_="@firebase/functions-compat",v="@firebase/installations",D="@firebase/installations-compat",C="@firebase/messaging",E="@firebase/messaging-compat",y="@firebase/performance",x="@firebase/performance-compat",I="@firebase/remote-config",S="@firebase/remote-config-compat",P="@firebase/storage",O="@firebase/storage-compat",A="@firebase/firestore",$="@firebase/firestore-compat",N="firebase",j="9.23.0",k="[DEFAULT]";exports._DEFAULT_ENTRY_NAME=k;const F={[s]:"fire-core",[p]:"fire-core-compat",[l]:"fire-analytics",[h]:"fire-analytics-compat",[d]:"fire-app-check",[f]:"fire-app-check-compat",[b]:"fire-auth",[g]:"fire-auth-compat",[u]:"fire-rtdb",[m]:"fire-rtdb-compat",[w]:"fire-fn",[_]:"fire-fn-compat",[v]:"fire-iid",[D]:"fire-iid-compat",[C]:"fire-fcm",[E]:"fire-fcm-compat",[y]:"fire-perf",[x]:"fire-perf-compat",[I]:"fire-rc",[S]:"fire-rc-compat",[P]:"fire-gcs",[O]:"fire-gcs-compat",[A]:"fire-fst",[$]:"fire-fst-compat","fire-js":"fire-js",[N]:"fire-js-all"},B=new Map;exports._apps=B;const H=new Map;function L(e,t){try{e.container.addComponent(t)}catch(a){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,a)}}function M(e,t){e.container.addOrOverwriteComponent(t)}function T(e){const t=e.name;if(H.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;H.set(t,e);for(const a of B.values())L(a,e);return!0}function U(e,t){const a=e.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),e.container.getProvider(t)}function R(e,t,a=k){U(e,t).clearInstance(a)}function V(){H.clear()}exports._components=H;const q={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},z=new a.ErrorFactory("app","Firebase",q);class J{constructor(t,a,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new e.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw z.create("app-deleted",{appName:this._name})}}const K=j;function W(t,r={}){let n=t;if("object"!=typeof r){r={name:r}}const i=Object.assign({name:k,automaticDataCollectionEnabled:!1},r),s=i.name;if("string"!=typeof s||!s)throw z.create("bad-app-name",{appName:String(s)});if(n||(n=(0,a.getDefaultAppConfig)()),!n)throw z.create("no-options");const o=B.get(s);if(o){if((0,a.deepEqual)(n,o.options)&&(0,a.deepEqual)(i,o.config))return o;throw z.create("duplicate-app",{appName:s})}const c=new e.ComponentContainer(s);for(const e of H.values())c.addComponent(e);const p=new J(n,i,c);return B.set(s,p),p}function Y(e=k){const t=B.get(e);if(!t&&e===k&&(0,a.getDefaultAppConfig)())return W();if(!t)throw z.create("no-app",{appName:e});return t}function G(){return Array.from(B.values())}async function Q(e){const t=e.name;B.has(t)&&(B.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function X(t,a,r){var n;let i=null!==(n=F[t])&&void 0!==n?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=a.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${a}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${a}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}T(new e.Component(`${i}-version`,()=>({library:i,version:a}),"VERSION"))}function Z(e,a){if(null!==e&&"function"!=typeof e)throw z.create("invalid-log-argument");(0,t.setUserLogHandler)(e,a)}function ee(e){(0,t.setLogLevel)(e)}exports.SDK_VERSION="9.23.0";const te="firebase-heartbeat-database",ae=1,re="firebase-heartbeat-store";let ne=null;function ie(){return ne||(ne=(0,r.openDB)(te,ae,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(re)}}}).catch(e=>{throw z.create("idb-open",{originalErrorMessage:e.message})})),ne}async function se(e){try{const r=await ie();return await r.transaction(re).objectStore(re).get(ce(e))}catch(t){if(t instanceof a.FirebaseError)c.warn(t.message);else{const e=z.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});c.warn(e.message)}}}async function oe(e,t){try{const n=(await ie()).transaction(re,"readwrite"),i=n.objectStore(re);await i.put(t,ce(e)),await n.done}catch(r){if(r instanceof a.FirebaseError)c.warn(r.message);else{const e=z.create("idb-set",{originalErrorMessage:null==r?void 0:r.message});c.warn(e.message)}}}function ce(e){return`${e.name}!${e.options.appId}`}const pe=1024,he=2592e6;class le{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new be(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=fe();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=he}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=fe(),{heartbeatsToSend:t,unsentEntries:r}=de(this._heartbeatsCache.heartbeats),n=(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function fe(){return(new Date).toISOString().substring(0,10)}function de(e,t=pe){const a=[];let r=e.slice();for(const n of e){const e=a.find(e=>e.agent===n.agent);if(e){if(e.dates.push(n.date),ge(a)>t){e.dates.pop();break}}else if(a.push({agent:n.agent,dates:[n.date]}),ge(a)>t){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class be{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.isIndexedDBAvailable)()&&(0,a.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await se(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return oe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return oe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}}}function ge(e){return(0,a.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}function ue(t){T(new e.Component("platform-logger",e=>new n(e),"PRIVATE")),T(new e.Component("heartbeat",e=>new le(e),"PRIVATE")),X(s,o,t),X(s,o,"esm2017"),X("fire-js","")}ue("");
},{"@firebase/component":"vhY9","@firebase/logger":"JJem","@firebase/util":"chA2","idb":"JZvK"}],"QtzL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@firebase/app");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r="firebase",t="9.23.0";(0,e.registerVersion)(r,t,"app");
},{"@firebase/app":"h2Mb"}],"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__addDisposableResource=k,exports.__assign=void 0,exports.__asyncDelegator=g,exports.__asyncGenerator=x,exports.__asyncValues=O,exports.__await=m,exports.__awaiter=f,exports.__classPrivateFieldGet=T,exports.__classPrivateFieldIn=I,exports.__classPrivateFieldSet=D,exports.__createBinding=void 0,exports.__decorate=o,exports.__disposeResources=A,exports.__esDecorate=i,exports.__exportStar=_,exports.__extends=t,exports.__generator=p,exports.__importDefault=E,exports.__importStar=S,exports.__makeTemplateObject=j,exports.__metadata=l,exports.__param=a,exports.__propKey=s,exports.__read=h,exports.__rest=n,exports.__runInitializers=c,exports.__setFunctionName=u,exports.__spread=v,exports.__spreadArray=w,exports.__spreadArrays=b,exports.__values=d,exports.default=void 0;var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function o(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function a(e,t){return function(r,n){t(r,n,e)}}function i(e,t,r,n,o,a){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var c,s=n.kind,u="getter"===s?"get":"setter"===s?"set":"value",l=!t&&e?n.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p=!1,y=r.length-1;y>=0;y--){var _={};for(var d in n)_[d]="access"===d?{}:n[d];for(var d in n.access)_.access[d]=n.access[d];_.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var h=(0,r[y])("accessor"===s?{get:f.get,set:f.set}:f[u],_);if("accessor"===s){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(c=i(h.get))&&(f.get=c),(c=i(h.set))&&(f.set=c),(c=i(h.init))&&o.unshift(c)}else(c=i(h))&&("field"===s?o.unshift(c):f[u]=c)}l&&Object.defineProperty(l,n.name,f),p=!0}function c(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function s(e){return"symbol"==typeof e?e:"".concat(e)}function u(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(t){a(t)}}function c(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,c)}s((n=n.apply(e,t||[])).next())})}function p(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(s){c=[6,s],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}exports.__assign=r;var y=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function _(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||y(t,e,r)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n}function w(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function x(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||c(e,t)})})}function c(e,t){try{(r=o[e](t)).value instanceof m?Promise.resolve(r.value.v).then(s,u):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function s(e){c("next",e)}function u(e){c("throw",e)}function l(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:!1}:o?o(t):t}:o}}function O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof d?d(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}}function j(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}exports.__createBinding=y;var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&y(t,e,r);return P(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function D(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function I(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function k(e,t,r){if(null!=t){if("object"!=typeof t)throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if("function"!=typeof n)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var R="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function A(e){function t(t){e.error=e.hasError?new R(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(e){return t(e),r()})}catch(a){t(a)}}if(e.hasError)throw e.error}()}var F={__extends:t,__assign:r,__rest:n,__decorate:o,__param:a,__metadata:l,__awaiter:f,__generator:p,__createBinding:y,__exportStar:_,__values:d,__read:h,__spread:v,__spreadArrays:b,__spreadArray:w,__await:m,__asyncGenerator:x,__asyncDelegator:g,__asyncValues:O,__makeTemplateObject:j,__importStar:S,__importDefault:E,__classPrivateFieldGet:T,__classPrivateFieldSet:D,__classPrivateFieldIn:I,__addDisposableResource:k,__disposeResources:A};exports.default=F;
},{}],"U1W6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$=Qt,exports.A=void 0,exports.B=jn,exports.C=zn,exports.G=exports.F=exports.E=exports.D=void 0,exports.H=Je,exports.I=Xe,exports.Z=exports.Y=exports.X=exports.W=exports.V=exports.U=exports.T=exports.S=exports.R=exports.Q=exports.P=exports.O=exports.N=exports.M=exports.L=exports.K=exports.J=void 0,exports._=zt,exports.a=void 0,exports.a0=Zt,exports.a1=en,exports.a2=nn,exports.a3=cn,exports.a4=un,exports.a5=dn,exports.a6=ln,exports.a7=hn,exports.a8=pn,exports.a9=mn,exports.aA=k,exports.aB=void 0,exports.aC=he,exports.aD=fe,exports.aE=Lr,exports.aF=kr,exports.aG=Er,exports.aH=Be,exports.aJ=exports.aI=void 0,exports.aK=Ce,exports.aL=hi,exports.aO=exports.aN=exports.aM=void 0,exports.aa=fn,exports.ab=gn,exports.ac=vn,exports.ad=_n,exports.ae=Tn,exports.af=yn,exports.ag=void 0,exports.ah=Nt,exports.ai=En,exports.aj=kn,exports.ak=An,exports.al=$,exports.am=J,exports.an=Bt,exports.ao=Ln,exports.ap=re,exports.aq=Kn,exports.ar=ei,exports.as=R,exports.at=Ae,exports.au=we,exports.av=_,exports.aw=fs,exports.ax=qr,exports.ay=Re,exports.az=T,exports.b=void 0,exports.c=mr,exports.d=gr,exports.e=fr,exports.f=Nr,exports.g=Cr,exports.h=br,exports.i=void 0,exports.j=Dr,exports.k=void 0,exports.l=nr,exports.n=exports.m=void 0,exports.o=xs,exports.p=void 0,exports.q=Mn,exports.r=ir,exports.s=tr,exports.t=xn,exports.u=sr,exports.v=Un,exports.w=Fn,exports.x=Vn,exports.y=Hn,exports.z=qn;var e=require("@firebase/util"),t=require("@firebase/app"),n=require("tslib"),i=require("@firebase/logger"),r=require("@firebase/component");const s={PHONE:"phone",TOTP:"totp"};exports.F=s;const o={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};exports.p=o;const a={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"};exports.S=a;const c={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"};exports.O=c;const u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function d(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}}function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}exports.A=u;const h=d;exports.D=h;const p=l;exports.E=p;const m=new e.ErrorFactory("auth","Firebase",l()),f={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};exports.G=f;const g=new i.Logger("@firebase/auth");function v(e,...n){g.logLevel<=i.LogLevel.WARN&&g.warn(`Auth (${t.SDK_VERSION}): ${e}`,...n)}function I(e,...n){g.logLevel<=i.LogLevel.ERROR&&g.error(`Auth (${t.SDK_VERSION}): ${e}`,...n)}function _(e,...t){throw E(e,...t)}function T(e,...t){return E(e,...t)}function y(t,n,i){const r=Object.assign(Object.assign({},p()),{[n]:i});return new e.ErrorFactory("auth","Firebase",r).create(n,{appName:t.name})}function w(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.`+"Did you pass a reference from a different Auth SDK?")}function E(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return m.create(e,...t)}function k(e,t,...n){if(!e)throw E(t,...n)}function A(e){const t="INTERNAL ASSERTION FAILED: "+e;throw I(t),new Error(t)}function R(e,t){e||A(t)}function N(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===b()||"https:"===b()}function b(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function O(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,e.isBrowserExtension)()||"connection"in navigator))||navigator.onLine}function C(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class P{constructor(t,n){this.shortDelay=t,this.longDelay=n,R(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,e.isMobileCordova)()||(0,e.isReactNative)()}get(){return O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function D(e,t){R(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class L{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void A("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void A("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void A("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}exports.aN=L;const M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},x=new P(3e4,6e4);function U(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function F(t,n,i,r,s={}){return V(t,s,async()=>{let s={},o={};r&&("GET"===n?o=r:s={body:JSON.stringify(r)});const a=(0,e.querystring)(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),L.fetch()(q(t,t.config.apiHost,i,a),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},s))})}async function V(t,n,i){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},M),n);try{const n=new j(t),o=await Promise.race([i(),n.promise]);n.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw z(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const e=o.ok?a.errorMessage:a.error.message,[n,i]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(t,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw z(t,"email-already-in-use",a);if("USER_DISABLED"===n)throw z(t,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw y(t,s,i);_(t,s)}}catch(s){if(s instanceof e.FirebaseError)throw s;_(t,"network-request-failed",{message:String(s)})}}async function H(e,t,n,i,r={}){const s=await F(e,t,n,i,r);return"mfaPendingCredential"in s&&_(e,"multi-factor-auth-required",{_serverResponse:s}),s}function q(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?D(e.config,r):`${e.config.apiScheme}://${r}`}class j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(T(this.auth,"network-request-failed")),x.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=T(e,t,i);return r.customData._tokenResponse=n,r}async function G(e,t){return F(e,"POST","/v1/accounts:delete",t)}async function W(e,t){return F(e,"POST","/v1/accounts:update",t)}async function K(e,t){return F(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{const n=new Date(Number(e));if(!isNaN(n.getTime()))return n.toUTCString()}catch(t){}}function $(t,n=!1){return(0,e.getModularInstance)(t).getIdToken(n)}async function J(t,n=!1){const i=(0,e.getModularInstance)(t),r=await i.getIdToken(n),s=X(r);k(s&&s.exp&&s.auth_time&&s.iat,i.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:B(Y(s.auth_time)),issuedAtTime:B(Y(s.iat)),expirationTime:B(Y(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}function Y(e){return 1e3*Number(e)}function X(t){const[n,i,r]=t.split(".");if(void 0===n||void 0===i||void 0===r)return I("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,e.base64Decode)(i);return t?JSON.parse(t):(I("Failed to decode base64 JWT payload"),null)}catch(s){return I("Caught error parsing JWT payload as JSON",null==s?void 0:s.toString()),null}}function Q(e){const t=X(e);return k(t,"internal-error"),k(void 0!==t.exp,"internal-error"),k(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Z(t,n,i=!1){if(i)return n;try{return await n}catch(r){throw r instanceof e.FirebaseError&&ee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ie(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Z(e,K(n,{idToken:i}));k(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),c=e.isAnonymous,u=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!c&&u,l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,l)}async function re(t){const n=(0,e.getModularInstance)(t);await ie(n),await n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,i=(0,n.__rest)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function ae(t,n){const i=await V(t,{},async()=>{const i=(0,e.querystring)({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=q(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(void 0!==e.idToken,"internal-error"),k(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return k(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await ae(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new ce;return n&&(k("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(k("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(k("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return A("not implemented")}}function ue(e,t){k("string"==typeof e||void 0===e,"internal-error",{appName:t})}class de{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=(0,n.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ne(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Z(this,this.stsTokenManager.getToken(this.auth,e));return k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J(this,e)}reload(){return re(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new de(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ie(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Z(this,G(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,l=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:_,isAnonymous:T,providerData:y,stsTokenManager:w}=t;k(I&&w,e,"internal-error");const E=ce.fromJSON(this.name,w);k("string"==typeof I,e,"internal-error"),ue(d,e.name),ue(l,e.name),k("boolean"==typeof _,e,"internal-error"),k("boolean"==typeof T,e,"internal-error"),ue(h,e.name),ue(p,e.name),ue(m,e.name),ue(f,e.name),ue(g,e.name),ue(v,e.name);const A=new de({uid:I,auth:e,email:l,emailVerified:_,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:g,lastLoginAt:v});return y&&Array.isArray(y)&&(A.providerData=y.map(e=>Object.assign({},e))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(e,t,n=!1){const i=new ce;i.updateFromServerResponse(t);const r=new de({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ie(r),r}}exports.aI=de;const le=new Map;function he(e){R(e instanceof Function,"Expected a class definition");let t=le.get(e);return t?(R(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,le.set(e,t),t)}class pe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pe.type="NONE";const me=pe;function fe(e,t,n){return`firebase:${e}:${t}:${n}`}exports.N=me;class ge{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=fe(this.userKey,i.apiKey,r),this.fullPersistenceKey=fe("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?de._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ge(he(me),e,n);const i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=i[0]||he(me);const s=fe(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=de._fromJSON(e,t);u!==r&&(o=n),r=u;break}}catch(c){}const a=i.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(c){}})),new ge(r,e,n)):new ge(r,e,n)}}function ve(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ye(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ie(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ee(t))return"Blackberry";if(ke(t))return"Webos";if(_e(t))return"Safari";if((t.includes("chrome/")||Te(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ie(t=(0,e.getUA)()){return/firefox\//i.test(t)}function _e(t=(0,e.getUA)()){const n=t.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}function Te(t=(0,e.getUA)()){return/crios\//i.test(t)}function ye(t=(0,e.getUA)()){return/iemobile/i.test(t)}function we(t=(0,e.getUA)()){return/android/i.test(t)}function Ee(t=(0,e.getUA)()){return/blackberry/i.test(t)}function ke(t=(0,e.getUA)()){return/webos/i.test(t)}function Ae(t=(0,e.getUA)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Re(t=(0,e.getUA)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Ne(t=(0,e.getUA)()){var n;return Ae(t)&&!!(null===(n=window.navigator)||void 0===n?void 0:n.standalone)}function Se(){return(0,e.isIE)()&&10===document.documentMode}function be(t=(0,e.getUA)()){return Ae(t)||we(t)||ke(t)||Ee(t)||/windows phone/i.test(t)||ye(t)}function Oe(){try{return!(!window||window===window.top)}catch(e){return!1}}function Ce(n,i=[]){let r;switch(n){case"Browser":r=ve((0,e.getUA)());break;case"Worker":r=`${ve((0,e.getUA)())}-${n}`;break;default:r=n}const s=i.length?i.join(","):"FirebaseCore-web";return`${r}/JsCore/${t.SDK_VERSION}/${s}`}async function Pe(e){return(await F(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function De(e,t){return F(e,"GET","/v2/recaptchaConfig",U(e,t))}function Le(e){return void 0!==e&&void 0!==e.getResponse}function Me(e){return void 0!==e&&void 0!==e.enterprise}class xe{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Ue(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function Fe(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=(e=>{const t=T("internal-error");t.customData=e,n(t)}),i.type="text/javascript",i.charset="UTF-8",Ue().appendChild(i)})}function Ve(e){return`__${e}${Math.floor(1e6*Math.random())}`}const He="https://www.google.com/recaptcha/enterprise.js?render=",qe="recaptcha-enterprise",je="NO_RECAPTCHA";class ze{constructor(e){this.type=qe,this.auth=Be(e)}async verify(e="verify",t=!1){function n(t,n,i){const r=window.grecaptcha;Me(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(je)})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{De(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new xe(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(r=>{if(!t&&Me(window.grecaptcha))n(r,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Fe(He+r).then(()=>{n(r,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Ge(e,t,n,i=!1){const r=new ze(e);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class We{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,i)=>{try{n(e(t))}catch(r){i(r)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=(()=>Promise.resolve())}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==n?void 0:n.message})}}}class Ke{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.beforeStateQueue=new We(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=he(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ge.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||null==o||!o.user||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ie(e)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?(0,e.getModularInstance)(t):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(he(e))})}async initializeRecaptchaConfig(){const e=await De(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new xe(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ze(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new e.ErrorFactory("auth","Firebase",t())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&he(e)||this._popupRedirectResolver;k(t,this,"argument-error"),this.redirectPersistenceManager=await ge.create(this,[he(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return k(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&v(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Be(t){return(0,e.getModularInstance)(t)}exports.aJ=Ke;class $e{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,e.createSubscribe)(e=>this.observer=e)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Je(n,i){const r=(0,t._getProvider)(n,"auth");if(r.isInitialized()){const t=r.getImmediate(),n=r.getOptions();if((0,e.deepEqual)(n,null!=i?i:{}))return t;_(t,"already-initialized")}return r.initialize({options:i})}function Ye(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(he);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}function Xe(e,t,n){const i=Be(e);k(i._canInitEmulator,i,"emulator-config-failed"),k(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=Qe(t),{host:o,port:a}=Ze(t),c=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||tt()}function Qe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ze(e){const t=Qe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:et(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:et(t)}}}function et(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function tt(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}class nt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return A("not implemented")}_getIdTokenResponse(e){return A("not implemented")}_linkToIdToken(e,t){return A("not implemented")}_getReauthenticationResolver(e){return A("not implemented")}}async function it(e,t){return F(e,"POST","/v1/accounts:resetPassword",U(e,t))}async function rt(e,t){return F(e,"POST","/v1/accounts:update",t)}async function st(e,t){return F(e,"POST","/v1/accounts:update",U(e,t))}async function ot(e,t){return H(e,"POST","/v1/accounts:signInWithPassword",U(e,t))}async function at(e,t){return F(e,"POST","/v1/accounts:sendOobCode",U(e,t))}async function ct(e,t){return at(e,t)}async function ut(e,t){return at(e,t)}async function dt(e,t){return at(e,t)}async function lt(e,t){return at(e,t)}async function ht(e,t){return H(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}async function pt(e,t){return H(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}exports.J=nt;class mt extends nt{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new mt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new mt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Ge(e,n,"signInWithPassword");return ot(e,t)}return ot(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Ge(e,n,"signInWithPassword");return ot(e,t)}return Promise.reject(t)});case"emailLink":return ht(e,{email:this._email,oobCode:this._password});default:_(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return rt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pt(e,{idToken:t,email:this._email,oobCode:this._password});default:_(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ft(e,t){return H(e,"POST","/v1/accounts:signInWithIdp",U(e,t))}exports.K=mt;const gt="http://localhost";class vt extends nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=(0,n.__rest)(t,["providerId","signInMethod"]);if(!i||!r)return null;const o=new vt(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ft(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ft(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ft(e,t)}buildRequest(){const t={requestUri:gt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=(0,e.querystring)(n)}return t}}async function It(e,t){return F(e,"POST","/v1/accounts:sendVerificationCode",U(e,t))}async function _t(e,t){return H(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t))}async function Tt(e,t){const n=await H(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t));if(n.temporaryProof)throw z(e,"account-exists-with-different-credential",n);return n}exports.L=vt;const yt={USER_NOT_FOUND:"user-not-found"};async function wt(e,t){return H(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),yt)}class Et extends nt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Et({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Et({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return _t(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Tt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return wt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Et({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}function kt(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function At(t){const n=(0,e.querystringDecode)((0,e.extractQuerystring)(t)).link,i=n?(0,e.querystringDecode)((0,e.extractQuerystring)(n)).deep_link_id:null,r=(0,e.querystringDecode)((0,e.extractQuerystring)(t)).deep_link_id;return(r?(0,e.querystringDecode)((0,e.extractQuerystring)(r)).link:null)||r||i||n||t}exports.M=Et;class Rt{constructor(t){var n,i,r,s,o,a;const c=(0,e.querystringDecode)((0,e.extractQuerystring)(t)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,d=null!==(i=c.oobCode)&&void 0!==i?i:null,l=kt(null!==(r=c.mode)&&void 0!==r?r:null);k(u&&d&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=d,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=At(e);try{return new Rt(t)}catch(n){return null}}}function Nt(e){return Rt.parseLink(e)}exports.ag=Rt;class St{constructor(){this.providerId=St.PROVIDER_ID}static credential(e,t){return mt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Rt.parseLink(t);return k(n,"argument-error"),mt._fromEmailAndCode(e,n.code,n.tenantId)}}exports.Q=St,St.PROVIDER_ID="password",St.EMAIL_PASSWORD_SIGN_IN_METHOD="password",St.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ot extends bt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ct extends Ot{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return k("providerId"in t&&"signInMethod"in t,"argument-error"),vt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return k(e.idToken||e.accessToken,"argument-error"),vt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ct.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ct.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:r,nonce:s,providerId:o}=e;if(!(n||i||t||r))return null;if(!o)return null;try{return new Ct(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:r})}catch(a){return null}}}exports.X=Ct;class Pt extends Ot{constructor(){super("facebook.com")}static credential(e){return vt._fromParams({providerId:Pt.PROVIDER_ID,signInMethod:Pt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pt.credentialFromTaggedObject(e)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!(e&&"oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Pt.credential(e.oauthAccessToken)}catch(t){return null}}}exports.U=Pt,Pt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pt.PROVIDER_ID="facebook.com";class Dt extends Ot{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vt._fromParams({providerId:Dt.PROVIDER_ID,signInMethod:Dt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dt.credentialFromTaggedObject(e)}static credentialFromError(e){return Dt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Dt.credential(t,n)}catch(i){return null}}}exports.V=Dt,Dt.GOOGLE_SIGN_IN_METHOD="google.com",Dt.PROVIDER_ID="google.com";class Lt extends Ot{constructor(){super("github.com")}static credential(e){return vt._fromParams({providerId:Lt.PROVIDER_ID,signInMethod:Lt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lt.credentialFromTaggedObject(e)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!(e&&"oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Lt.credential(e.oauthAccessToken)}catch(t){return null}}}exports.W=Lt,Lt.GITHUB_SIGN_IN_METHOD="github.com",Lt.PROVIDER_ID="github.com";const Mt="http://localhost";class xt extends nt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ft(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ft(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ft(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new xt(n,r):null}static _create(e,t){return new xt(e,t)}buildRequest(){return{requestUri:Mt,returnSecureToken:!0,pendingToken:this.pendingToken}}}exports.aO=xt;const Ut="saml.";class Ft extends bt{constructor(e){k(e.startsWith(Ut),"argument-error"),super(e)}static credentialFromResult(e){return Ft.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ft.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=xt.fromJSON(e);return k(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return xt._create(n,t)}catch(i){return null}}}exports.Y=Ft;class Vt extends Ot{constructor(){super("twitter.com")}static credential(e,t){return vt._fromParams({providerId:Vt.PROVIDER_ID,signInMethod:Vt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vt.credentialFromTaggedObject(e)}static credentialFromError(e){return Vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Vt.credential(t,n)}catch(i){return null}}}async function Ht(e,t){return H(e,"POST","/v1/accounts:signUp",U(e,t))}exports.Z=Vt,Vt.TWITTER_SIGN_IN_METHOD="twitter.com",Vt.PROVIDER_ID="twitter.com";class qt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await de._fromIdTokenResponse(e,n,i),s=jt(n);return new qt({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=jt(n);return new qt({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function jt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function zt(e){var t;const n=Be(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new qt({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Ht(n,{returnSecureToken:!0}),r=await qt._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}class Gt extends e.FirebaseError{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Gt.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Gt(e,t,n,i)}}function Wt(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Gt._fromErrorAndOperation(e,n,t,i);throw n})}function Kt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function Bt(t,n){const i=(0,e.getModularInstance)(t);await Jt(!0,i,n);const{providerUserInfo:r}=await W(i.auth,{idToken:await i.getIdToken(),deleteProvider:[n]}),s=Kt(r||[]);return i.providerData=i.providerData.filter(e=>s.has(e.providerId)),s.has("phone")||(i.phoneNumber=null),await i.auth._persistUserIfCurrent(i),i}async function $t(e,t,n=!1){const i=await Z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qt._forOperation(e,"link",i)}async function Jt(e,t,n){await ie(t);const i=!1===e?"provider-already-linked":"no-such-provider";k(Kt(t.providerData).has(n)===e,t.auth,i)}async function Yt(e,t,n=!1){const{auth:i}=e;try{const s=await Z(e,Wt(i,"reauthenticate",t,e),n);k(s.idToken,i,"internal-error");const o=X(s.idToken);k(o,i,"internal-error");const{sub:a}=o;return k(e.uid===a,i,"user-mismatch"),qt._forOperation(e,"reauthenticate",s)}catch(r){throw"auth/user-not-found"===(null==r?void 0:r.code)&&_(i,"user-mismatch"),r}}async function Xt(e,t,n=!1){const i=await Wt(e,"signIn",t),r=await qt._fromIdTokenResponse(e,"signIn",i);return n||await e._updateCurrentUser(r.user),r}async function Qt(e,t){return Xt(Be(e),t)}async function Zt(t,n){const i=(0,e.getModularInstance)(t);return await Jt(!1,i,n.providerId),$t(i,n)}async function en(t,n){return Yt((0,e.getModularInstance)(t),n)}async function tn(e,t){return H(e,"POST","/v1/accounts:signInWithCustomToken",U(e,t))}async function nn(e,t){const n=Be(e),i=await tn(n,{token:t,returnSecureToken:!0}),r=await qt._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class rn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?sn._fromServerResponse(e,t):"totpInfo"in t?on._fromServerResponse(e,t):_(e,"internal-error")}}class sn extends rn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new sn(t)}}class on extends rn{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new on(t)}}function an(e,t,n){var i;k((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),k(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(k(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function cn(e,t,n){var i;const r=Be(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Ge(r,s,"getOobCode",!0);n&&an(r,e,n),await ut(r,e)}else n&&an(r,s,n),await ut(r,s).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Ge(r,s,"getOobCode",!0);n&&an(r,e,n),await ut(r,e)}})}async function un(t,n,i){await it((0,e.getModularInstance)(t),{oobCode:n,newPassword:i})}async function dn(t,n){await st((0,e.getModularInstance)(t),{oobCode:n})}async function ln(t,n){const i=(0,e.getModularInstance)(t),r=await it(i,{oobCode:n}),s=r.requestType;switch(k(s,i,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(r.newEmail,i,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(r.mfaInfo,i,"internal-error");default:k(r.email,i,"internal-error")}let o=null;return r.mfaInfo&&(o=rn._fromServerResponse(Be(i),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function hn(t,n){const{data:i}=await ln((0,e.getModularInstance)(t),n);return i.email}async function pn(e,t,n){var i;const r=Be(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Ge(r,s,"signUpPassword");o=Ht(r,e)}else o=Ht(r,s).catch(async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Ge(r,s,"signUpPassword");return Ht(r,e)}return Promise.reject(e)});const a=await o.catch(e=>Promise.reject(e)),c=await qt._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function mn(t,n,i){return Qt((0,e.getModularInstance)(t),St.credential(n,i))}async function fn(e,t,n){var i;const r=Be(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(e,t){k(t.handleCodeInApp,r,"argument-error"),t&&an(r,e,t)}if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Ge(r,s,"getOobCode",!0);o(e,n),await dt(r,e)}else o(s,n),await dt(r,s).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Ge(r,s,"getOobCode",!0);o(e,n),await dt(r,e)}})}function gn(e,t){const n=Rt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}async function vn(t,n,i){const r=(0,e.getModularInstance)(t),s=St.credentialWithLink(n,i||N());return k(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Qt(r,s)}async function In(e,t){return F(e,"POST","/v1/accounts:createAuthUri",U(e,t))}async function _n(t,n){const i={identifier:n,continueUri:S()?N():"http://localhost"},{signinMethods:r}=await In((0,e.getModularInstance)(t),i);return r||[]}async function Tn(t,n){const i=(0,e.getModularInstance)(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};n&&an(i.auth,r,n);const{email:s}=await ct(i.auth,r);s!==t.email&&await t.reload()}async function yn(t,n,i){const r=(0,e.getModularInstance)(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:n};i&&an(r.auth,s,i);const{email:o}=await lt(r.auth,s);o!==t.email&&await t.reload()}async function wn(e,t){return F(e,"POST","/v1/accounts:update",t)}async function En(t,{displayName:n,photoURL:i}){if(void 0===n&&void 0===i)return;const r=(0,e.getModularInstance)(t),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},o=await Z(r,wn(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function kn(t,n){return Rn((0,e.getModularInstance)(t),n,null)}function An(t,n){return Rn((0,e.getModularInstance)(t),null,n)}async function Rn(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Z(e,rt(i,r));await e._updateTokensIfNecessary(s,!0)}function Nn(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null==e?void 0:e.idToken)){const i=null===(n=null===(t=X(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i){return new Sn(s,"anonymous"!==i&&"custom"!==i?i:null)}}if(!i)return null;switch(i){case"facebook.com":return new On(s,r);case"github.com":return new Cn(s,r);case"google.com":return new Pn(s,r);case"twitter.com":return new Dn(s,r,e.screenName||null);case"custom":case"anonymous":return new Sn(s,null);default:return new Sn(s,i,r)}}class Sn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class bn extends Sn{constructor(e,t,n,i){super(e,t,n),this.username=i}}class On extends Sn{constructor(e,t){super(e,"facebook.com",t)}}class Cn extends bn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Pn extends Sn{constructor(e,t){super(e,"google.com",t)}}class Dn extends bn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ln(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Nn(n)}function Mn(t,n){return(0,e.getModularInstance)(t).setPersistence(n)}function xn(e){return Be(e).initializeRecaptchaConfig()}function Un(t,n,i,r){return(0,e.getModularInstance)(t).onIdTokenChanged(n,i,r)}function Fn(t,n,i){return(0,e.getModularInstance)(t).beforeAuthStateChanged(n,i)}function Vn(t,n,i,r){return(0,e.getModularInstance)(t).onAuthStateChanged(n,i,r)}function Hn(t){(0,e.getModularInstance)(t).useDeviceLanguage()}function qn(t,n){return(0,e.getModularInstance)(t).updateCurrentUser(n)}function jn(t){return(0,e.getModularInstance)(t).signOut()}async function zn(t){return(0,e.getModularInstance)(t).delete()}class Gn{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Gn("enroll",e,t)}static _fromMfaPendingCredential(e){return new Gn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Gn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Gn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Wn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Be(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map(e=>rn._fromServerResponse(n,e));k(i.mfaPendingCredential,n,"internal-error");const s=Gn._fromMfaPendingCredential(i.mfaPendingCredential);return new Wn(s,r,async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await qt._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return k(t.user,n,"internal-error"),qt._forOperation(t.user,t.operationType,o);default:_(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Kn(t,n){var i;const r=(0,e.getModularInstance)(t),s=n;return k(n.customData.operationType,r,"argument-error"),k(null===(i=s.customData._serverResponse)||void 0===i?void 0:i.mfaPendingCredential,r,"argument-error"),Wn._fromError(r,s)}function Bn(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:start",U(e,t))}function $n(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,t))}function Jn(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:start",U(e,t))}function Yn(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,t))}function Xn(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:withdraw",U(e,t))}class Qn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>rn._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Qn(e)}async getSession(){return Gn._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,i=await this.getSession(),r=await Z(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Z(this.user,Xn(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(i){throw i}}}const Zn=new WeakMap;function ei(t){const n=(0,e.getModularInstance)(t);return Zn.has(n)||Zn.set(n,Qn._fromUser(n)),Zn.get(n)}const ti="__sak";class ni{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ti,"1"),this.storage.removeItem(ti),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}function ii(){const t=(0,e.getUA)();return _e(t)||Ae(t)}const ri=1e3,si=10;class oi extends ni{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=((e,t)=>this.onStorageEvent(e,t)),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ii()&&Oe(),this.fallbackToPolling=be(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Se()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,si):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ri)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oi.type="LOCAL";const ai=oi;exports.b=ai;class ci extends ni{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ci.type="SESSION";const ui=ci;function di(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}exports.a=ui;class li{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new li(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async e=>e(t.origin,r)),a=await di(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function hi(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}li.receivers=[];class pi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise((o,a)=>{const c=hi("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function mi(){return window}function fi(e){mi().location.href=e}function gi(){return void 0!==mi().WorkerGlobalScope&&"function"==typeof mi().importScripts}async function vi(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}function Ii(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function _i(){return gi()?self:null}const Ti="firebaseLocalStorageDb",yi=1,wi="firebaseLocalStorage",Ei="fbase_key";class ki{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ai(e,t){return e.transaction([wi],t?"readwrite":"readonly").objectStore(wi)}function Ri(){const e=indexedDB.deleteDatabase(Ti);return new ki(e).toPromise()}function Ni(){const e=indexedDB.open(Ti,yi);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(wi,{keyPath:Ei})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(wi)?t(n):(n.close(),await Ri(),t(await Ni()))})})}async function Si(e,t,n){const i=Ai(e,!0).put({[Ei]:t,value:n});return new ki(i).toPromise()}async function bi(e,t){const n=Ai(e,!1).get(t),i=await new ki(n).toPromise();return void 0===i?null:i.value}function Oi(e,t){const n=Ai(e,!0).delete(t);return new ki(n).toPromise()}const Ci=800,Pi=3;class Di{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ni(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(n){if(t++>Pi)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=li._getInstance(_i()),this.receiver._subscribe("keyChanged",async(e,t)=>{return{keyProcessed:(await this._poll()).includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await vi(),!this.activeServiceWorker)return;this.sender=new pi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&Ii()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ni();return await Si(t,ti,"1"),await Oi(t,ti),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Si(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>bi(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Oi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ai(e,!1).getAll();return new ki(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ci)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Di.type="LOCAL";const Li=Di;function Mi(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:start",U(e,t))}function xi(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,t))}function Ui(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,t))}exports.i=Li;const Fi=500,Vi=6e4,Hi=1e12;class qi{constructor(e){this.auth=e,this.counter=Hi,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ji(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Hi;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Hi;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Hi;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ji{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=(()=>{this.execute()});const i="string"==typeof e?document.getElementById(e):e;k(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=zi(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},Vi)},Fi))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function zi(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}const Gi=Ve("rcb"),Wi=new P(3e4,6e4),Ki="https://www.google.com/recaptcha/api.js?";class Bi{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=mi().grecaptcha)||void 0===e?void 0:e.render)}load(t,n=""){return k($i(n),t,"argument-error"),this.shouldResolveImmediately(n)&&Le(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((i,r)=>{const s=mi().setTimeout(()=>{r(T(t,"network-request-failed"))},Wi.get());mi()[Gi]=(()=>{mi().clearTimeout(s),delete mi()[Gi];const e=mi().grecaptcha;if(!e||!Le(e))return void r(T(t,"internal-error"));const o=e.render;e.render=((e,t)=>{const n=o(e,t);return this.counter++,n}),this.hostLanguage=n,i(e)}),Fe(`${Ki}?${(0,e.querystring)({onload:Gi,render:"explicit",hl:n})}`).catch(()=>{clearTimeout(s),r(T(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=mi().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function $i(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class Ji{async load(e){return new qi(e)}clearedOneInstance(){}}const Yi="recaptcha",Xi={theme:"light",type:"image"};class Qi{constructor(e,t=Object.assign({},Xi),n){this.parameters=t,this.type=Yi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Be(n),this.isInvisible="invisible"===this.parameters.size,k("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;k(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ji:new Bi,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=mi()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){k(S()&&!gi(),this.auth,"internal-error"),await Zi(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Pe(this.auth);k(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Zi(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=(()=>t()),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}exports.R=Qi;class er{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Et._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function tr(t,n,i){const r=Be(t),s=await rr(r,n,(0,e.getModularInstance)(i));return new er(s,e=>Qt(r,e))}async function nr(t,n,i){const r=(0,e.getModularInstance)(t);await Jt(!1,r,"phone");const s=await rr(r.auth,n,(0,e.getModularInstance)(i));return new er(s,e=>Zt(r,e))}async function ir(t,n,i){const r=(0,e.getModularInstance)(t),s=await rr(r.auth,n,(0,e.getModularInstance)(i));return new er(s,e=>en(r,e))}async function rr(e,t,n){var i;const r=await n.verify();try{let s;if(k("string"==typeof r,e,"argument-error"),k(n.type===Yi,e,"argument-error"),"session"in(s="string"==typeof t?{phoneNumber:t}:t)){const t=s.session;if("phoneNumber"in s){return k("enroll"===t.type,e,"internal-error"),(await Bn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo}{k("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return k(n,e,"missing-multi-factor-info"),(await Mi(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await It(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}async function sr(t,n){await $t((0,e.getModularInstance)(t),n)}class or{constructor(e){this.providerId=or.PROVIDER_ID,this.auth=Be(e)}verifyPhoneNumber(t,n){return rr(this.auth,t,(0,e.getModularInstance)(n))}static credential(e,t){return Et._fromVerification(e,t)}static credentialFromResult(e){const t=e;return or.credentialFromTaggedObject(t)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Et._fromTokenResponse(t,n):null}}function ar(e,t){return t?he(t):(k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}exports.P=or,or.PROVIDER_ID="phone",or.PHONE_SIGN_IN_METHOD="phone";class cr extends nt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ft(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ft(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ft(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ur(e){return Xt(e.auth,new cr(e),e.bypassAuthState)}function dr(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),Yt(n,new cr(e),e.bypassAuthState)}async function lr(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),$t(n,new cr(e),e.bypassAuthState)}class hr{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ur;case"linkViaPopup":case"linkViaRedirect":return lr;case"reauthViaPopup":case"reauthViaRedirect":return dr;default:_(this.auth,"internal-error")}}resolve(e){R(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){R(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pr=new P(2e3,1e4);async function mr(e,t,n){const i=Be(e);w(e,t,bt);const r=ar(i,n);return new vr(i,"signInViaPopup",t,r).executeNotNull()}async function fr(t,n,i){const r=(0,e.getModularInstance)(t);w(r.auth,n,bt);const s=ar(r.auth,i);return new vr(r.auth,"reauthViaPopup",n,s,r).executeNotNull()}async function gr(t,n,i){const r=(0,e.getModularInstance)(t);w(r.auth,n,bt);const s=ar(r.auth,i);return new vr(r.auth,"linkViaPopup",n,s,r).executeNotNull()}class vr extends hr{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,vr.currentPopupAction&&vr.currentPopupAction.cancel(),vr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){R(1===this.filter.length,"Popup operations only handle one event");const e=hi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(T(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(T(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;null!==(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)&&void 0!==n&&n.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(T(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,pr.get())};e()}}vr.currentPopupAction=null;const Ir="pendingRedirect",_r=new Map;class Tr extends hr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=_r.get(this.auth._key());if(!e){try{const n=await yr(this.resolver,this.auth)?await super.execute():null;e=(()=>Promise.resolve(n))}catch(t){e=(()=>Promise.reject(t))}_r.set(this.auth._key(),e)}return this.bypassAuthState||_r.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function yr(e,t){const n=Rr(t),i=Ar(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}async function wr(e,t){return Ar(e)._set(Rr(t),"true")}function Er(){_r.clear()}function kr(e,t){_r.set(e._key(),t)}function Ar(e){return he(e._redirectPersistence)}function Rr(e){return fe(Ir,e.config.apiKey,e.name)}function Nr(e,t,n){return Sr(e,t,n)}async function Sr(e,t,n){const i=Be(e);w(e,t,bt),await i._initializationPromise;const r=ar(i,n);return await wr(r,i),r._openRedirect(i,t,"signInViaRedirect")}function br(e,t,n){return Or(e,t,n)}async function Or(t,n,i){const r=(0,e.getModularInstance)(t);w(r.auth,n,bt),await r.auth._initializationPromise;const s=ar(r.auth,i);await wr(s,r.auth);const o=await Mr(r);return s._openRedirect(r.auth,n,"reauthViaRedirect",o)}function Cr(e,t,n){return Pr(e,t,n)}async function Pr(t,n,i){const r=(0,e.getModularInstance)(t);w(r.auth,n,bt),await r.auth._initializationPromise;const s=ar(r.auth,i);await Jt(!1,r,n.providerId),await wr(s,r.auth);const o=await Mr(r);return s._openRedirect(r.auth,n,"linkViaRedirect",o)}async function Dr(e,t){return await Be(e)._initializationPromise,Lr(e,t,!1)}async function Lr(e,t,n=!1){const i=Be(e),r=ar(i,t),s=new Tr(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function Mr(e){const t=hi(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}const xr=6e5;class Ur{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hr(e)?t:(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0),t)}sendToConsumer(e,t){var n;if(e.error&&!Vr(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(T(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xr&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fr(e))}saveEventToCache(e){this.cachedEventUids.add(Fr(e)),this.lastProcessedEventTime=Date.now()}}function Fr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Vr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Hr(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vr(e);default:return!1}}async function qr(e,t={}){return F(e,"GET","/v1/projects",t)}exports.aB=Ur;const jr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zr=/^https?/;async function Gr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await qr(e);for(const i of t)try{if(Wr(i))return}catch(n){}_(e,"unauthorized-domain")}function Wr(e){const t=N(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!zr.test(n))return!1;if(jr.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Kr=new P(3e4,6e4);function Br(){const e=mi().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function $r(e){return new Promise((t,n)=>{var i,r,s;function o(){Br(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Br(),n(T(e,"network-request-failed"))},timeout:Kr.get()})}if(null===(r=null===(i=mi().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(null===(s=mi().gapi)||void 0===s||!s.load){const t=Ve("iframefcb");return mi()[t]=(()=>{gapi.load?o():n(T(e,"network-request-failed"))}),Fe(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Jr=null,e})}let Jr=null;function Yr(e){return Jr=Jr||$r(e)}const Xr=new P(5e3,15e3),Qr="__/auth/iframe",Zr="emulator/auth/iframe",es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ts=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ns(n){const i=n.config;k(i.authDomain,n,"auth-domain-config-required");const r=i.emulator?D(i,Zr):`https://${n.config.authDomain}/${Qr}`,s={apiKey:i.apiKey,appName:n.name,v:t.SDK_VERSION},o=ts.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${r}?${(0,e.querystring)(s).slice(1)}`}async function is(e){const t=await Yr(e),n=mi().gapi;return k(n,e,"internal-error"),t.open({where:document.body,url:ns(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:es,dontclear:!0},t=>new Promise(async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=T(e,"network-request-failed"),s=mi().setTimeout(()=>{i(r)},Xr.get());function o(){mi().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{i(r)})}))}const rs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ss=500,os=600,as="_blank",cs="http://localhost";class us{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ds(t,n,i,r=ss,s=os){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},rs),{width:r.toString(),height:s.toString(),top:o,left:a}),d=(0,e.getUA)().toLowerCase();i&&(c=Te(d)?as:i),Ie(d)&&(n=n||cs,u.scrollbars="yes");const l=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(Ne(d)&&"_self"!==c)return ls(n||"",c),new us(null);const h=window.open(n||"",c,l);k(h,t,"popup-blocked");try{h.focus()}catch(p){}return new us(h)}function ls(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}exports.aM=us;const hs="__/auth/handler",ps="emulator/auth/handler",ms=encodeURIComponent("fac");async function fs(n,i,r,s,o,a){k(n.config.authDomain,n,"auth-domain-config-required"),k(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:s,v:t.SDK_VERSION,eventId:o};if(i instanceof bt){i.setDefaultLanguage(n.languageCode),c.providerId=i.providerId||"",(0,e.isEmpty)(i.getCustomParameters())||(c.customParameters=JSON.stringify(i.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(i instanceof Ot){const e=i.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const e of Object.keys(u))void 0===u[e]&&delete u[e];const d=await n._getAppCheckToken(),l=d?`#${ms}=${encodeURIComponent(d)}`:"";return`${gs(n)}?${(0,e.querystring)(u).slice(1)}${l}`}function gs({config:e}){return e.emulator?D(e,ps):`https://${e.authDomain}/${hs}`}const vs="webStorageSupport";class Is{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ui,this._completeRedirectFn=Lr,this._overrideRedirectResult=kr}async _openPopup(e,t,n,i){var r;return R(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()"),ds(e,await fs(e,t,n,N(),i),hi())}async _openRedirect(e,t,n,i){return await this._originValidation(e),fi(await fs(e,t,n,N(),i)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(R(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await is(e),n=new Ur(e);return t.register("authEvent",t=>{return k(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vs,{type:vs},n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[vs];void 0!==r&&t(!!r),_(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||_e()||Ae()}}const _s=Is;exports.k=_s;class Ts{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return A("unexpected MultiFactorSessionType")}}}class ys extends Ts{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ys(e)}_finalizeEnroll(e,t,n){return $n(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return xi(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ws{constructor(){}static assertion(e){return ys._fromCredential(e)}}exports.m=ws,ws.FACTOR_ID="phone";class Es{static assertionForEnrollment(e,t){return ks._fromSecret(e,t)}static assertionForSignIn(e,t){return ks._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;k(void 0!==t.auth,"internal-error");const n=await Jn(t.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return As._fromStartTotpMfaEnrollmentResponse(n,t.auth)}}exports.T=Es,Es.FACTOR_ID="totp";class ks extends Ts{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new ks(t,void 0,e)}static _fromEnrollmentId(e,t){return new ks(t,e)}async _finalizeEnroll(e,t,n){return k(void 0!==this.secret,e,"argument-error"),Yn(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){k(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return Ui(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class As{constructor(e,t,n,i,r,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new As(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let i=!1;return(Rs(e)||Rs(t))&&(i=!0),i&&(Rs(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Rs(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Rs(e){return void 0===e||0===(null==e?void 0:e.length)}exports.n=As;var Ns="@firebase/auth",Ss="0.23.2";class bs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Os(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Cs(e){(0,t._registerComponent)(new r.Component("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ce(e)},u=new Ke(i,r,s,c);return Ye(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,t._registerComponent)(new r.Component("auth-internal",e=>{return(e=>new bs(e))(Be(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,t.registerVersion)(Ns,Ss,Os(e)),(0,t.registerVersion)(Ns,Ss,"esm2017")}const Ps=300,Ds=(0,e.getExperimentalSetting)("authIdTokenMaxAge")||300;let Ls=null;const Ms=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Ds)return;const r=null==n?void 0:n.token;Ls!==r&&(Ls=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xs(n=(0,t.getApp)()){const i=(0,t._getProvider)(n,"auth");if(i.isInitialized())return i.getImmediate();const r=Je(n,{popupRedirectResolver:_s,persistence:[Li,ai,ui]}),s=(0,e.getExperimentalSetting)("authTokenSyncURL");if(s){const e=Ms(s);Fn(r,e,()=>e(r.currentUser)),Un(r,t=>e(t))}const o=(0,e.getDefaultEmulatorHost)("auth");return o&&Xe(r,`http://${o}`),r}Cs("Browser");
},{"@firebase/util":"chA2","@firebase/app":"h2Mb","tslib":"vCxL","@firebase/logger":"JJem","@firebase/component":"vhY9"}],"QWyA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ActionCodeOperation",{enumerable:!0,get:function(){return e.A}}),Object.defineProperty(exports,"ActionCodeURL",{enumerable:!0,get:function(){return e.ag}}),Object.defineProperty(exports,"AuthCredential",{enumerable:!0,get:function(){return e.J}}),Object.defineProperty(exports,"AuthErrorCodes",{enumerable:!0,get:function(){return e.G}}),Object.defineProperty(exports,"EmailAuthCredential",{enumerable:!0,get:function(){return e.K}}),Object.defineProperty(exports,"EmailAuthProvider",{enumerable:!0,get:function(){return e.Q}}),Object.defineProperty(exports,"FacebookAuthProvider",{enumerable:!0,get:function(){return e.U}}),Object.defineProperty(exports,"FactorId",{enumerable:!0,get:function(){return e.F}}),Object.defineProperty(exports,"GithubAuthProvider",{enumerable:!0,get:function(){return e.W}}),Object.defineProperty(exports,"GoogleAuthProvider",{enumerable:!0,get:function(){return e.V}}),Object.defineProperty(exports,"OAuthCredential",{enumerable:!0,get:function(){return e.L}}),Object.defineProperty(exports,"OAuthProvider",{enumerable:!0,get:function(){return e.X}}),Object.defineProperty(exports,"OperationType",{enumerable:!0,get:function(){return e.O}}),Object.defineProperty(exports,"PhoneAuthCredential",{enumerable:!0,get:function(){return e.M}}),Object.defineProperty(exports,"PhoneAuthProvider",{enumerable:!0,get:function(){return e.P}}),Object.defineProperty(exports,"PhoneMultiFactorGenerator",{enumerable:!0,get:function(){return e.m}}),Object.defineProperty(exports,"ProviderId",{enumerable:!0,get:function(){return e.p}}),Object.defineProperty(exports,"RecaptchaVerifier",{enumerable:!0,get:function(){return e.R}}),Object.defineProperty(exports,"SAMLAuthProvider",{enumerable:!0,get:function(){return e.Y}}),Object.defineProperty(exports,"SignInMethod",{enumerable:!0,get:function(){return e.S}}),Object.defineProperty(exports,"TotpMultiFactorGenerator",{enumerable:!0,get:function(){return e.T}}),Object.defineProperty(exports,"TotpSecret",{enumerable:!0,get:function(){return e.n}}),Object.defineProperty(exports,"TwitterAuthProvider",{enumerable:!0,get:function(){return e.Z}}),Object.defineProperty(exports,"applyActionCode",{enumerable:!0,get:function(){return e.a5}}),Object.defineProperty(exports,"beforeAuthStateChanged",{enumerable:!0,get:function(){return e.w}}),Object.defineProperty(exports,"browserLocalPersistence",{enumerable:!0,get:function(){return e.b}}),Object.defineProperty(exports,"browserPopupRedirectResolver",{enumerable:!0,get:function(){return e.k}}),Object.defineProperty(exports,"browserSessionPersistence",{enumerable:!0,get:function(){return e.a}}),Object.defineProperty(exports,"checkActionCode",{enumerable:!0,get:function(){return e.a6}}),Object.defineProperty(exports,"confirmPasswordReset",{enumerable:!0,get:function(){return e.a4}}),Object.defineProperty(exports,"connectAuthEmulator",{enumerable:!0,get:function(){return e.I}}),Object.defineProperty(exports,"createUserWithEmailAndPassword",{enumerable:!0,get:function(){return e.a8}}),Object.defineProperty(exports,"debugErrorMap",{enumerable:!0,get:function(){return e.D}}),Object.defineProperty(exports,"deleteUser",{enumerable:!0,get:function(){return e.C}}),Object.defineProperty(exports,"fetchSignInMethodsForEmail",{enumerable:!0,get:function(){return e.ad}}),Object.defineProperty(exports,"getAdditionalUserInfo",{enumerable:!0,get:function(){return e.ao}}),Object.defineProperty(exports,"getAuth",{enumerable:!0,get:function(){return e.o}}),Object.defineProperty(exports,"getIdToken",{enumerable:!0,get:function(){return e.al}}),Object.defineProperty(exports,"getIdTokenResult",{enumerable:!0,get:function(){return e.am}}),Object.defineProperty(exports,"getMultiFactorResolver",{enumerable:!0,get:function(){return e.aq}}),Object.defineProperty(exports,"getRedirectResult",{enumerable:!0,get:function(){return e.j}}),Object.defineProperty(exports,"inMemoryPersistence",{enumerable:!0,get:function(){return e.N}}),Object.defineProperty(exports,"indexedDBLocalPersistence",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(exports,"initializeAuth",{enumerable:!0,get:function(){return e.H}}),Object.defineProperty(exports,"initializeRecaptchaConfig",{enumerable:!0,get:function(){return e.t}}),Object.defineProperty(exports,"isSignInWithEmailLink",{enumerable:!0,get:function(){return e.ab}}),Object.defineProperty(exports,"linkWithCredential",{enumerable:!0,get:function(){return e.a0}}),Object.defineProperty(exports,"linkWithPhoneNumber",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(exports,"linkWithPopup",{enumerable:!0,get:function(){return e.d}}),Object.defineProperty(exports,"linkWithRedirect",{enumerable:!0,get:function(){return e.g}}),Object.defineProperty(exports,"multiFactor",{enumerable:!0,get:function(){return e.ar}}),Object.defineProperty(exports,"onAuthStateChanged",{enumerable:!0,get:function(){return e.x}}),Object.defineProperty(exports,"onIdTokenChanged",{enumerable:!0,get:function(){return e.v}}),Object.defineProperty(exports,"parseActionCodeURL",{enumerable:!0,get:function(){return e.ah}}),Object.defineProperty(exports,"prodErrorMap",{enumerable:!0,get:function(){return e.E}}),Object.defineProperty(exports,"reauthenticateWithCredential",{enumerable:!0,get:function(){return e.a1}}),Object.defineProperty(exports,"reauthenticateWithPhoneNumber",{enumerable:!0,get:function(){return e.r}}),Object.defineProperty(exports,"reauthenticateWithPopup",{enumerable:!0,get:function(){return e.e}}),Object.defineProperty(exports,"reauthenticateWithRedirect",{enumerable:!0,get:function(){return e.h}}),Object.defineProperty(exports,"reload",{enumerable:!0,get:function(){return e.ap}}),Object.defineProperty(exports,"sendEmailVerification",{enumerable:!0,get:function(){return e.ae}}),Object.defineProperty(exports,"sendPasswordResetEmail",{enumerable:!0,get:function(){return e.a3}}),Object.defineProperty(exports,"sendSignInLinkToEmail",{enumerable:!0,get:function(){return e.aa}}),Object.defineProperty(exports,"setPersistence",{enumerable:!0,get:function(){return e.q}}),Object.defineProperty(exports,"signInAnonymously",{enumerable:!0,get:function(){return e._}}),Object.defineProperty(exports,"signInWithCredential",{enumerable:!0,get:function(){return e.$}}),Object.defineProperty(exports,"signInWithCustomToken",{enumerable:!0,get:function(){return e.a2}}),Object.defineProperty(exports,"signInWithEmailAndPassword",{enumerable:!0,get:function(){return e.a9}}),Object.defineProperty(exports,"signInWithEmailLink",{enumerable:!0,get:function(){return e.ac}}),Object.defineProperty(exports,"signInWithPhoneNumber",{enumerable:!0,get:function(){return e.s}}),Object.defineProperty(exports,"signInWithPopup",{enumerable:!0,get:function(){return e.c}}),Object.defineProperty(exports,"signInWithRedirect",{enumerable:!0,get:function(){return e.f}}),Object.defineProperty(exports,"signOut",{enumerable:!0,get:function(){return e.B}}),Object.defineProperty(exports,"unlink",{enumerable:!0,get:function(){return e.an}}),Object.defineProperty(exports,"updateCurrentUser",{enumerable:!0,get:function(){return e.z}}),Object.defineProperty(exports,"updateEmail",{enumerable:!0,get:function(){return e.aj}}),Object.defineProperty(exports,"updatePassword",{enumerable:!0,get:function(){return e.ak}}),Object.defineProperty(exports,"updatePhoneNumber",{enumerable:!0,get:function(){return e.u}}),Object.defineProperty(exports,"updateProfile",{enumerable:!0,get:function(){return e.ai}}),Object.defineProperty(exports,"useDeviceLanguage",{enumerable:!0,get:function(){return e.y}}),Object.defineProperty(exports,"verifyBeforeUpdateEmail",{enumerable:!0,get:function(){return e.af}}),Object.defineProperty(exports,"verifyPasswordResetCode",{enumerable:!0,get:function(){return e.a7}});var e=require("./index-e3d5d3f4.js");require("@firebase/util"),require("@firebase/app"),require("tslib"),require("@firebase/logger"),require("@firebase/component");
},{"./index-e3d5d3f4.js":"U1W6","@firebase/util":"chA2","@firebase/app":"h2Mb","tslib":"vCxL","@firebase/logger":"JJem","@firebase/component":"vhY9"}],"lHTY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@firebase/auth");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});
},{"@firebase/auth":"QWyA"}],"Q6BU":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports._TEST_ACCESS_hijackHash=exports._TEST_ACCESS_forceRestClient=exports._ReferenceImpl=exports._QueryParams=exports._QueryImpl=exports.TransactionResult=exports.QueryConstraint=exports.OnDisconnect=exports.Database=exports.DataSnapshot=void 0,exports._repoManagerDatabaseFromApp=ol,exports._setSDKVersion=l,exports._validateWritablePath=exports._validatePathString=void 0,exports.child=pa,exports.connectDatabaseEmulator=fl,exports.enableLogging=yl,exports.endAt=Ma,exports.endBefore=Fa,exports.equalTo=el,exports.forceLongPolling=_l,exports.forceWebSockets=dl,exports.get=Ta,exports.getDatabase=pl,exports.goOffline=ml,exports.goOnline=gl,exports.increment=Tl,exports.limitToFirst=ja,exports.limitToLast=Va,exports.off=Ra,exports.onChildAdded=Sa,exports.onChildChanged=xa,exports.onChildMoved=Pa,exports.onChildRemoved=Na,exports.onDisconnect=fa,exports.onValue=Ea,exports.orderByChild=Ya,exports.orderByKey=Ka,exports.orderByPriority=$a,exports.orderByValue=Ja,exports.push=ma,exports.query=tl,exports.ref=da,exports.refFromURL=_a,exports.remove=ga,exports.runTransaction=bl,exports.serverTimestamp=wl,exports.set=ya,exports.setPriority=va,exports.setWithPriority=Ca,exports.startAfter=Ua,exports.startAt=Oa,exports.update=wa;var t=require("@firebase/app"),n=require("@firebase/component"),i=require("@firebase/util"),s=require("@firebase/logger");const r="@firebase/database",o="0.14.4";let a="";function l(e){a=e}class h{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,i.stringify)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,i.jsonEval)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class c{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,i.contains)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const u=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(t){}return new c},d=u("localStorage"),_=u("sessionStorage"),p=new s.Logger("@firebase/database"),f=function(){let e=1;return function(){return e++}}(),m=function(e){const t=(0,i.stringToByteArray)(e),n=new i.Sha1;n.update(t);const s=n.digest();return i.base64.encodeByteArray(s)},g=function(...e){let t="";for(let n=0;n<e.length;n++){const s=e[n];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=g.apply(null,s):t+="object"==typeof s?(0,i.stringify)(s):s,t+=" "}return t};let y=null,v=!0;const C=function(e,t){(0,i.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=s.LogLevel.VERBOSE,y=p.log.bind(p),t&&_.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,_.remove("logging_enabled"))},w=function(...e){if(!0===v&&(v=!1,null===y&&!0===_.get("logging_enabled")&&C(!0)),y){const t=g.apply(null,e);y(t)}},T=function(e){return function(...t){w(e,...t)}},I=function(...e){const t="FIREBASE INTERNAL ERROR: "+g(...e);p.error(t)},b=function(...e){const t=`FIREBASE FATAL ERROR: ${g(...e)}`;throw p.error(t),new Error(t)},k=function(...e){const t="FIREBASE WARNING: "+g(...e);p.warn(t)},E=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},S=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x=function(e){if((0,i.isNodeSdk)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},P="[MIN_NAME]",N="[MAX_NAME]",R=function(e,t){if(e===t)return 0;if(e===P||t===N)return-1;if(t===P||e===N)return 1;{const n=V(e),i=V(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},D=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,i.stringify)(t))},M=function(e){if("object"!=typeof e||null===e)return(0,i.stringify)(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let s=0;s<t.length;s++)0!==s&&(n+=","),n+=(0,i.stringify)(t[s]),n+=":",n+=M(e[t[s]]);return n+="}"},q=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let s=0;s<n;s+=t)s+t>n?i.push(e.substring(s,n)):i.push(e.substring(s,s+t));return i};function F(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const L=function(e){(0,i.assert)(!S(e),"Invalid JSON number");let t,n,s,r,o;0===e?(n=0,s=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,s=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,s=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(s%2?1:0),s=Math.floor(s/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const l=a.join("");let h="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),h+=e}return h.toLowerCase()},O=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},W=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI};function U(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const B=new RegExp("^-?(0*)\\d{1,10}$"),j=-2147483648,H=2147483647,V=function(e){if(B.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},z=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw k("Exception was thrown by user callback.",e),t},Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Q=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class K{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){k(`Provided AppCheck credentials for the app named "${this.appName_}" `+"are invalid. This usually indicates your app was not initialized correctly.")}}class G{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)}}class ${constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$.OWNER="owner";const X="5",J="v",Z="s",ee="r",te="f",ne=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ie="ls",se="p",re="ac",oe="websocket",ae="long_polling";class le{constructor(e,t,n,i,s=!1,r="",o=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function he(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ce(e,t,n){let s;if((0,i.assert)("string"==typeof t,"typeof type must == string"),(0,i.assert)("object"==typeof n,"typeof params must == object"),t===oe)s=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ae)throw new Error("Unknown connection type: "+t);s=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}he(e)&&(n.ns=e.namespace);const r=[];return F(n,(e,t)=>{r.push(e+"="+t)}),s+r.join("&")}class ue{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,i.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,i.deepCopy)(this.counters_)}}const de={},_e={};function pe(e){const t=e.toString();return de[t]||(de[t]=new ue),de[t]}function fe(e,t){const n=e.toString();return _e[n]||(_e[n]=t()),_e[n]}class me{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&z(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ge="start",ye="close",ve="pLPCommand",Ce="pRTLPCB",we="id",Te="pw",Ie="ser",be="cb",ke="seg",Ee="ts",Se="d",xe="dframe",Pe=1870,Ne=30,Re=Pe-Ne,De=25e3,Ae=3e4;class Me{constructor(e,t,n,i,s,r,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(e),this.stats_=pe(t),this.urlFn=(e=>(this.appCheckToken&&(e[re]=this.appCheckToken),ce(t,ae,e)))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new me(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ae)),x(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qe((...e)=>{const[t,n,i,s,r]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ge)this.id=n,this.password=i;else{if(t!==ye)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={};e[ge]="t",e[Ie]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[be]=this.scriptTagHolder.uniqueCallbackIdentifier),e[J]=X,this.transportSessionId&&(e[Z]=this.transportSessionId),this.lastSessionId&&(e[ie]=this.lastSessionId),this.applicationId&&(e[se]=this.applicationId),this.appCheckToken&&(e[re]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ne.test(location.hostname)&&(e[ee]=te);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Me.forceAllow_=!0}static forceDisallow(){Me.forceDisallow_=!0}static isAvailable(){return!(0,i.isNodeSdk)()&&(!!Me.forceAllow_||!Me.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!O()&&!W())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,i.base64Encode)(t),s=q(n,Re);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,i.isNodeSdk)())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[xe]="t",n[we]=e,n[Te]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,i.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qe{constructor(e,t,n,s){if(this.onDisconnect=n,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,i.isNodeSdk)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=f(),window[ve+this.uniqueCallbackIdentifier]=e,window[Ce+this.uniqueCallbackIdentifier]=t,this.myIFrame=qe.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){w("frame writing exception"),r.stack&&w(r.stack),w(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||w("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[we]=this.myID,e[Te]=this.myPW,e[Ie]=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+Ne+n.length<=Pe))break;{const e=this.pendingSegs.shift();n=n+"&"+ke+i+"="+e.seg+"&"+Ee+i+"="+e.ts+"&"+Se+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(De));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){(0,i.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=(()=>{w("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()}),this.myIFrame.doc.body.appendChild(i)}catch(n){}},Math.floor(1))}}const Fe=16384,Le=45e3;let Oe=null;"undefined"!=typeof MozWebSocket?Oe=MozWebSocket:"undefined"!=typeof WebSocket&&(Oe=WebSocket);class We{constructor(e,t,n,i,s,r,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=pe(t),this.connURL=We.connectionURL_(t,r,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,s,r){const o={};return o[J]=X,!(0,i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&ne.test(location.hostname)&&(o[ee]=te),t&&(o[Z]=t),n&&(o[ie]=n),s&&(o[re]=s),r&&(o[se]=r),ce(e,oe,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{let t;if((0,i.isNodeSdk)()){const n=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":`Firebase/${X}/${a}/${e.platform}/${n}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const i=e.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(t.proxy={origin:s})}this.mySock=new Oe(this.connURL,[],t)}catch(s){this.log_("Error instantiating WebSocket.");const e=s.message||s.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=(()=>{this.log_("Websocket connected."),this.everConnected_=!0}),this.mySock.onclose=(()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()}),this.mySock.onmessage=(e=>{this.handleIncomingFrame(e)}),this.mySock.onerror=(e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()})}start(){}static forceDisallow(){We.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Oe&&!We.forceDisallow_}static previouslyFailed(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")}markConnectionHealthy(){d.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,i.jsonEval)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,i.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=q(t,Fe);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Le))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}We.responsesRequiredToBeHealthy=2,We.healthyTimeout=3e4;class Ue{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Me,We]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=We&&We.isAvailable();let n=t&&!We.previouslyFailed();if(e.webSocketOnly&&(t||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[We];else{const e=this.transports_=[];for(const t of Ue.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Ue.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ue.globalTransportInitialized_=!1;const Be=6e4,je=5e3,He=10240,Ve=102400,ze="t",Ye="d",Qe="s",Ke="r",Ge="e",$e="o",Xe="a",Je="n",Ze="p",et="h";class tt{constructor(e,t,n,i,s,r,o,a,l,h){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new Ue(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Q(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ve?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>He?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ze in e){const t=e[ze];t===Xe?this.upgradeIfSecondaryHealthy_():t===Ke?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===$e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ze,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xe,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Je,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=A(ze,e);if(Ye in e){const n=e[Ye];if(t===et){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if(t===Je){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Qe?this.onConnectionShutdown_(n):t===Ke?this.onReset_(n):t===Ge?I("Server Error: "+n):t===$e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),X!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Q(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Be))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(je))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ze,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nt{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class it{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,i.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!n||n===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,i.assert)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class st extends it{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,i.isMobileCordova)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new st}getInitialEvent(e){return(0,i.assert)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const rt=32,ot=768;class at{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function lt(){return new at("")}function ht(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ct(e){return e.pieces_.length-e.pieceNum_}function ut(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new at(e.pieces_,t)}function dt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _t(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function pt(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ft(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new at(t,0)}function mt(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof at)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new at(n,0)}function gt(e){return e.pieceNum_>=e.pieces_.length}function yt(e,t){const n=ht(e),i=ht(t);if(null===n)return t;if(n===i)return yt(ut(e),ut(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function vt(e,t){const n=pt(e,0),i=pt(t,0);for(let s=0;s<n.length&&s<i.length;s++){const e=R(n[s],i[s]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function Ct(e,t){if(ct(e)!==ct(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function wt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ct(e)>ct(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Tt{constructor(e,t){this.errorPrefix_=t,this.parts_=pt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,i.stringLength)(this.parts_[n]);kt(this)}}function It(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,i.stringLength)(t),kt(e)}function bt(e){const t=e.parts_.pop();e.byteLength_-=(0,i.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}function kt(e){if(e.byteLength_>ot)throw new Error(e.errorPrefix_+"has a key path longer than "+ot+" bytes ("+e.byteLength_+").");if(e.parts_.length>rt)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rt+") or object contains a cycle "+Et(e))}function Et(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class St extends it{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new St}getInitialEvent(e){return(0,i.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const xt=1e3,Pt=3e5,Nt=3e4,Rt=1.3,Dt=3e4,At="server_kill",Mt=3;class qt extends nt{constructor(e,t,n,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=qt.nextPersistentConnectionId_++,this.log_=T("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xt,this.maxReconnectDelay_=Pt,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");St.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&st.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_((0,i.stringify)(r)),(0,i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[s]=n)}get(e){this.initConnection_();const t=new i.Deferred,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,n,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),(0,i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,i.assert)(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:t,query:e,tag:n};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const r=s.d,o=s.s;qt.warnOnListenWarnings_(r,t),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",s),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,r))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,i.contains)(e,"w")){const n=(0,i.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();k("Using an unspecified index. Your data will be downloaded and "+`filtered on the client. Consider adding ${e} at `+`${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,i.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nt)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,i.isValidFormat)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+s),(0,i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,s)&&this.connected_&&this.sendUnlisten_(n,s,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e};i&&(s.q=n,s.t=i),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,s){this.initConnection_();const r={p:t,d:n};void 0!==s&&(r.h=s),this.outstandingPuts_.push({action:e,request:r,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,i.stringify)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+(0,i.stringify)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>Dt&&(this.reconnectDelay_=xt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rt)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qt.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,n())},h=function(e){(0,i.assert)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:h};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[i,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),this.authToken_=i&&i.accessToken,this.appCheckToken_=h&&h.token,a=new tt(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{k(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(At)},r))}catch(I){this.log_("Failed to get token: "+I),o||(this.repoInfo_.nodeAdmin&&k(I),l())}}}interrupt(e){w("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){w("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=xt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>M(e)).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new at(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){w("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Mt&&(this.reconnectDelay_=Nt,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){w("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Mt&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,i.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+a.replace(/\./g,"-")]=1,(0,i.isMobileCordova)()?e["framework.cordova"]=1:(0,i.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=st.getInstance().currentlyOnline();return(0,i.isEmpty)(this.interruptReasons_)&&e}}qt.nextPersistentConnectionId_=0,qt.nextConnectionId_=0;class Ft{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ft(e,t)}}class Lt{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Ft(P,e),i=new Ft(P,t);return 0!==this.compare(n,i)}minPost(){return Ft.MIN}}let Ot;class Wt extends Lt{static get __EMPTY_NODE(){return Ot}static set __EMPTY_NODE(e){Ot=e}compare(e,t){return R(e.name,t.name)}isDefinedOn(e){throw(0,i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ft.MIN}maxPost(){return new Ft(N,Ot)}makePost(e,t){return(0,i.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ft(e,Ot)}toString(){return".key"}}const Ut=new Wt;class Bt{constructor(e,t,n,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse_?e.left:e.right;else{if(0===r){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jt{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:jt.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=s?s:Vt.EMPTY_NODE}copy(e,t,n,i,s){return new jt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,i;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jt.RED=!0,jt.BLACK=!1;class Ht{copy(e,t,n,i,s){return this}insert(e,t,n){return new jt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(e,t=Vt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Vt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(e){return new Vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bt(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Bt(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Bt(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Bt(this.root_,null,this.comparator_,!0,e)}}function zt(e,t){return R(e.name,t.name)}function Yt(e,t){return R(e,t)}let Qt;function Kt(e){Qt=e}Vt.EMPTY_NODE=new Ht;const Gt=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},$t=function(e){if(e.isLeafNode()){const t=e.val();(0,i.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,i.contains)(t,".sv"),"Priority must be a string or number.")}else(0,i.assert)(e===Qt||e.isEmpty(),"priority of unexpected type.");(0,i.assert)(e===Qt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Xt,Jt,Zt;class en{constructor(e,t=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,i.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),$t(this.priorityNode_)}static set __childrenNodeConstructor(e){Xt=e}static get __childrenNodeConstructor(){return Xt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new en(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:".priority"===ht(e)?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ht(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,i.assert)(".priority"!==n||1===ct(e),".priority must be the last token in a path"),this.updateImmediateChild(n,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(ut(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Gt(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===en.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof en.__childrenNodeConstructor?-1:((0,i.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,s=en.VALUE_TYPE_ORDER.indexOf(t),r=en.VALUE_TYPE_ORDER.indexOf(n);return(0,i.assert)(s>=0,"Unknown leaf type: "+t),(0,i.assert)(r>=0,"Unknown leaf type: "+n),s===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function tn(e){Jt=e}function nn(e){Zt=e}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];class sn extends Lt{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),s=n.compareTo(i);return 0===s?R(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ft.MIN}maxPost(){return new Ft(N,new en("[PRIORITY-POST]",Zt))}makePost(e,t){const n=Jt(e);return new Ft(t,new en("[PRIORITY-POST]",n))}toString(){return".priority"}}const rn=new sn,on=Math.log(2);class an{constructor(e){this.count=(e=>parseInt(Math.log(e)/on,10))(e+1),this.current_=this.count-1;const t=(e=>parseInt(Array(e+1).join("1"),2))(this.count);this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ln=function(e,t,n,i){e.sort(t);const s=function(t,i){const r=i-t;let o,a;if(0===r)return null;if(1===r)return o=e[t],a=n?n(o):o,new jt(a,o.node,jt.BLACK,null,null);{const l=parseInt(r/2,10)+t,h=s(t,l),c=s(l+1,i);return o=e[l],a=n?n(o):o,new jt(a,o.node,jt.BLACK,h,c)}},r=function(t){let i=null,r=null,o=e.length;const a=function(t,i){const r=o-t,a=o;o-=t;const h=s(r+1,a),c=e[r],u=n?n(c):c;l(new jt(u,c.node,i,null,h))},l=function(e){i?(i.left=e,i=e):(r=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,jt.BLACK):(a(i,jt.BLACK),a(i,jt.RED))}return r}(new an(e.length));return new Vt(i||t,r)};let hn;const cn={};class un{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,i.assert)(cn&&rn,"ChildrenNode.ts has not been loaded"),hn=hn||new un({".priority":cn},{".priority":rn})}get(e){const t=(0,i.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vt?t:null}hasIndex(e){return(0,i.contains)(this.indexSet_,e.toString())}addIndex(e,t){(0,i.assert)(e!==Ut,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let s=!1;const r=t.getIterator(Ft.Wrap);let o,a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),n.push(a),a=r.getNext();o=s?ln(n,e.getCompare()):cn;const l=e.toString(),h=Object.assign({},this.indexSet_);h[l]=e;const c=Object.assign({},this.indexes_);return c[l]=o,new un(c,h)}addToIndexes(e,t){const n=(0,i.map)(this.indexes_,(n,s)=>{const r=(0,i.safeGet)(this.indexSet_,s);if((0,i.assert)(r,"Missing index implementation for "+s),n===cn){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(Ft.Wrap);let s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),ln(n,r.getCompare())}return cn}{const i=t.get(e.name);let s=n;return i&&(s=s.remove(new Ft(e.name,i))),s.insert(e,e.node)}});return new un(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,i.map)(this.indexes_,n=>{if(n===cn)return n;{const i=t.get(e.name);return i?n.remove(new Ft(e.name,i)):n}});return new un(n,this.indexSet_)}}let dn;class _n{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$t(this.priorityNode_),this.children_.isEmpty()&&(0,i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dn||(dn=new _n(new Vt(Yt),null,un.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dn}updatePriority(e){return this.children_.isEmpty()?this:new _n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?dn:t}}getChild(e){const t=ht(e);return null===t?this:this.getImmediateChild(t).getChild(ut(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,i.assert)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Ft(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const r=i.isEmpty()?dn:this.priorityNode_;return new _n(i,r,s)}}updateChild(e,t){const n=ht(e);if(null===n)return t;{(0,i.assert)(".priority"!==ht(e)||1===ct(e),".priority must be the last token in a path");const s=this.getImmediateChild(n).updateChild(ut(e),t);return this.updateImmediateChild(n,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,s=!0;if(this.forEachChild(rn,(r,o)=>{t[r]=o.val(e),n++,s&&_n.INTEGER_REGEXP_.test(r)?i=Math.max(i,Number(r)):s=!1}),!e&&s&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Gt(this.getPriority().val())+":"),this.forEachChild(rn,(t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Ft(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ft(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ft(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Ft.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fn?-1:0}withIndex(e){if(e===Ut||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new _n(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ut||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(rn),n=t.getIterator(rn);let i=e.getNext(),s=n.getNext();for(;i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=e.getNext(),s=n.getNext()}return null===i&&null===s}return!1}return!1}}resolveIndex_(e){return e===Ut?null:this.indexMap_.get(e.toString())}}_n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pn extends _n{constructor(){super(new Vt(Yt),_n.EMPTY_NODE,un.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _n.EMPTY_NODE}isEmpty(){return!1}}const fn=new pn;Object.defineProperties(Ft,{MIN:{value:new Ft(P,_n.EMPTY_NODE)},MAX:{value:new Ft(N,fn)}}),Wt.__EMPTY_NODE=_n.EMPTY_NODE,en.__childrenNodeConstructor=_n,Kt(fn),nn(fn);const mn=!0;function gn(e,t=null){if(null===e)return _n.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,i.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new en(e,gn(t))}if(e instanceof Array||!mn){let n=_n.EMPTY_NODE;return F(e,(t,s)=>{if((0,i.contains)(e,t)&&"."!==t.substring(0,1)){const e=gn(s);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(gn(t))}{const n=[];let i=!1;if(F(e,(e,t)=>{if("."!==e.substring(0,1)){const s=gn(t);s.isEmpty()||(i=i||!s.getPriority().isEmpty(),n.push(new Ft(e,s)))}}),0===n.length)return _n.EMPTY_NODE;const s=ln(n,zt,e=>e.name,Yt);if(i){const e=ln(n,rn.getCompare());return new _n(s,gn(t),new un({".priority":e},{".priority":rn}))}return new _n(s,gn(t),un.Default)}}tn(gn);class yn extends Lt{constructor(e){super(),this.indexPath_=e,(0,i.assert)(!gt(e)&&".priority"!==ht(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),s=n.compareTo(i);return 0===s?R(e.name,t.name):s}makePost(e,t){const n=gn(e),i=_n.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ft(t,i)}maxPost(){const e=_n.EMPTY_NODE.updateChild(this.indexPath_,fn);return new Ft(N,e)}toString(){return pt(this.indexPath_,0).join("/")}}class vn extends Lt{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?R(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ft.MIN}maxPost(){return Ft.MAX}makePost(e,t){const n=gn(e);return new Ft(t,n)}toString(){return".value"}}const Cn=new vn;function wn(e){return{type:"value",snapshotNode:e}}function Tn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function In(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function kn(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}class En{constructor(e){this.index_=e}updateChild(e,t,n,s,r,o){(0,i.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(s).equals(n.getChild(s))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(In(t,a)):(0,i.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Tn(t,n)):o.trackChildChange(bn(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rn,(e,i)=>{t.hasChild(e)||n.trackChildChange(In(e,i))}),t.isLeafNode()||t.forEachChild(rn,(t,i)=>{if(e.hasChild(t)){const s=e.getImmediateChild(t);s.equals(i)||n.trackChildChange(bn(t,i,s))}else n.trackChildChange(Tn(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?_n.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Sn{constructor(e){this.indexedFilter_=new En(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Sn.getStartPost_(e),this.endPost_=Sn.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,s,r){return this.matches(new Ft(t,n))||(n=_n.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,s,r)}updateFullNode(e,t,n){t.isLeafNode()&&(t=_n.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(_n.EMPTY_NODE);const s=this;return t.forEachChild(rn,(e,t)=>{s.matches(new Ft(e,t))||(i=i.updateImmediateChild(e,_n.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class xn{constructor(e){this.withinDirectionalStart=(e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e)),this.withinDirectionalEnd=(e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e)),this.withinStartPost=(e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0}),this.withinEndPost=(e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0}),this.rangedFilter_=new Sn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,s,r){return this.rangedFilter_.matches(new Ft(t,n))||(n=_n.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,s,r):this.fullLimitUpdateChild_(e,t,n,s,r)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=_n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=_n.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=(i=t.withIndex(this.index_)).updatePriority(_n.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,_n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,s,r){let o;if(this.reverse_){const e=this.index_.getCompare();o=((t,n)=>e(n,t))}else o=this.index_.getCompare();const a=e;(0,i.assert)(a.numChildren()===this.limit_,"");const l=new Ft(t,n),h=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let i=s.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=i&&(i.name===t||a.hasChild(i.name));)i=s.getChildAfterChild(this.index_,i,this.reverse_);const u=null==i?1:o(i,l);if(c&&!n.isEmpty()&&u>=0)return null!=r&&r.trackChildChange(bn(t,n,e)),a.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(In(t,e));const n=a.updateImmediateChild(t,_n.EMPTY_NODE);return null!=i&&this.rangedFilter_.matches(i)?(null!=r&&r.trackChildChange(Tn(i.name,i.node)),n.updateImmediateChild(i.name,i.node)):n}}return n.isEmpty()?e:c&&o(h,l)>=0?(null!=r&&(r.trackChildChange(In(h.name,h.node)),r.trackChildChange(Tn(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(h.name,_n.EMPTY_NODE)):e}}class Pn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new Pn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Nn(e){return e.loadsAllData()?new En(e.getIndex()):e.hasLimit()?new xn(e):new Sn(e)}function Rn(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Dn(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function An(e,t,n){const i=e.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Mn(e,t,n){let i;return(i=e.index_===Ut||n?An(e,t,n):An(e,t,N)).startAfterSet_=!0,i}function qn(e,t,n){const i=e.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Fn(e,t,n){let i;return(i=e.index_===Ut||n?qn(e,t,n):qn(e,t,P)).endBeforeSet_=!0,i}function Ln(e,t){const n=e.copy();return n.index_=t,n}function On(e){const t={};if(e.isDefault())return t;let n;if(e.index_===rn?n="$priority":e.index_===Cn?n="$value":e.index_===Ut?n="$key":((0,i.assert)(e.index_ instanceof yn,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,i.stringify)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,i.stringify)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,i.stringify)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,i.stringify)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,i.stringify)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Wn(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rn&&(t.i=e.index_.toString()),t}exports._QueryParams=Pn;class Un extends nt{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=T("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,i.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Un.getListenId_(e,n),a={};this.listens_[o]=a;const l=On(e._queryParams);this.restRequest_(r+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(r,l,!1,n),(0,i.safeGet)(this.listens_,o)===a){let t;s(t=e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}})}unlisten(e,t){const n=Un.getListenId_(e,t);delete this.listens_[n]}get(e){const t=On(e._queryParams),n=e._path.toString(),s=new i.Deferred;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),s.resolve(i)):s.reject(new Error(i))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,i.querystring)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=(()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=(0,i.jsonEval)(a.responseText)}catch(e){k("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&k("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}}),a.open("GET",o,!0),a.send()})}}class Bn{constructor(){this.rootNode_=_n.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function jn(){return{value:null,children:new Map}}function Hn(e,t,n){if(gt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=ht(t);e.children.has(i)||e.children.set(i,jn()),Hn(e.children.get(i),t=ut(t),n)}}function Vn(e,t){if(gt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(rn,(t,n)=>{Hn(e,new at(t),n)}),Vn(e,t)}}if(e.children.size>0){const n=ht(t);if(t=ut(t),e.children.has(n)){Vn(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function zn(e,t,n){null!==e.value?n(t,e.value):Yn(e,(e,i)=>{zn(i,new at(t.toString()+"/"+e),n)})}function Yn(e,t){e.children.forEach((e,n)=>{t(n,e)})}class Qn{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&F(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}const Kn=1e4,Gn=3e4,$n=3e5;class Xn{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Qn(e);const n=Kn+(Gn-Kn)*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;F(e,(e,s)=>{s>0&&(0,i.contains)(this.statsToReport_,e)&&(t[e]=s,n=!0)}),n&&this.server_.reportStats(t),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*$n))}}var Jn;function Zn(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ei(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ti(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Jn||(Jn={}));class ni{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Jn.ACK_USER_WRITE,this.source=Zn()}operationForChild(e){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new at(e));return new ni(lt(),t,this.revert)}}return(0,i.assert)(ht(this.path)===e,"operationForChild called for unrelated child."),new ni(ut(this.path),this.affectedTree,this.revert)}}class ii{constructor(e,t){this.source=e,this.path=t,this.type=Jn.LISTEN_COMPLETE}operationForChild(e){return gt(this.path)?new ii(this.source,lt()):new ii(this.source,ut(this.path))}}class si{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Jn.OVERWRITE}operationForChild(e){return gt(this.path)?new si(this.source,lt(),this.snap.getImmediateChild(e)):new si(this.source,ut(this.path),this.snap)}}class ri{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Jn.MERGE}operationForChild(e){if(gt(this.path)){const t=this.children.subtree(new at(e));return t.isEmpty()?null:t.value?new si(this.source,lt(),t.value):new ri(this.source,lt(),t)}return(0,i.assert)(ht(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ri(this.source,ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class oi{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const t=ht(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ai{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function li(e,t,n,i){const s=[],r=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&r.push(kn(t.childName,t.snapshotNode))}),hi(e,s,"child_removed",t,i,n),hi(e,s,"child_added",t,i,n),hi(e,s,"child_moved",r,i,n),hi(e,s,"child_changed",t,i,n),hi(e,s,"value",t,i,n),s}function hi(e,t,n,i,s,r){const o=i.filter(e=>e.type===n);o.sort((t,n)=>ui(e,t,n)),o.forEach(n=>{const i=ci(e,n,r);s.forEach(s=>{s.respondsTo(n.type)&&t.push(s.createEvent(i,e.query_))})})}function ci(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}function ui(e,t,n){if(null==t.childName||null==n.childName)throw(0,i.assertionError)("Should only compare child_ events.");const s=new Ft(t.childName,t.snapshotNode),r=new Ft(n.childName,n.snapshotNode);return e.index_.compare(s,r)}function di(e,t){return{eventCache:e,serverCache:t}}function _i(e,t,n,i){return di(new oi(t,n,i),e.serverCache)}function pi(e,t,n,i){return di(e.eventCache,new oi(t,n,i))}function fi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function mi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let gi;const yi=()=>(gi||(gi=new Vt(D)),gi);class vi{constructor(e,t=yi()){this.value=e,this.children=t}static fromObject(e){let t=new vi(null);return F(e,(e,n)=>{t=t.set(new at(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:lt(),value:this.value};if(gt(e))return null;{const n=ht(e),i=this.children.get(n);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ut(e),t);if(null!=s){return{path:mt(new at(n),s.path),value:s.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const t=ht(e),n=this.children.get(t);return null!==n?n.subtree(ut(e)):new vi(null)}}set(e,t){if(gt(e))return new vi(t,this.children);{const n=ht(e),i=(this.children.get(n)||new vi(null)).set(ut(e),t),s=this.children.insert(n,i);return new vi(this.value,s)}}remove(e){if(gt(e))return this.children.isEmpty()?new vi(null):new vi(null,this.children);{const t=ht(e),n=this.children.get(t);if(n){const i=n.remove(ut(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new vi(null):new vi(this.value,s)}return this}}get(e){if(gt(e))return this.value;{const t=ht(e),n=this.children.get(t);return n?n.get(ut(e)):null}}setTree(e,t){if(gt(e))return t;{const n=ht(e),i=(this.children.get(n)||new vi(null)).setTree(ut(e),t);let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new vi(this.value,s)}}fold(e){return this.fold_(lt(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,s)=>{n[i]=s.fold_(mt(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,lt(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(gt(e))return null;{const i=ht(e),s=this.children.get(i);return s?s.findOnPath_(ut(e),mt(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,lt(),t)}foreachOnPath_(e,t,n){if(gt(e))return this;{this.value&&n(t,this.value);const i=ht(e),s=this.children.get(i);return s?s.foreachOnPath_(ut(e),mt(t,i),n):new vi(null)}}foreach(e){this.foreach_(lt(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(mt(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new vi(null))}}function wi(e,t,n){if(gt(t))return new Ci(new vi(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const s=i.path;let r=i.value;const o=yt(s,t);return r=r.updateChild(o,n),new Ci(e.writeTree_.set(s,r))}{const i=new vi(n),s=e.writeTree_.setTree(t,i);return new Ci(s)}}}function Ti(e,t,n){let i=e;return F(n,(e,n)=>{i=wi(i,mt(t,e),n)}),i}function Ii(e,t){if(gt(t))return Ci.empty();{const n=e.writeTree_.setTree(t,new vi(null));return new Ci(n)}}function bi(e,t){return null!=ki(e,t)}function ki(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(yt(n.path,t)):null}function Ei(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rn,(e,n)=>{t.push(new Ft(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Ft(e,n.value))}),t}function Si(e,t){if(gt(t))return e;{const n=ki(e,t);return new Ci(null!=n?new vi(n):e.writeTree_.subtree(t))}}function xi(e){return e.writeTree_.isEmpty()}function Pi(e,t){return Ni(lt(),e.writeTree_,t)}function Ni(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let s=null;return t.children.inorderTraversal((t,r)=>{".priority"===t?((0,i.assert)(null!==r.value,"Priority writes must always be leaf nodes"),s=r.value):n=Ni(mt(e,t),r,n)}),n.getChild(e).isEmpty()||null===s||(n=n.updateChild(mt(e,".priority"),s)),n}}function Ri(e,t){return es(t,e)}function Di(e,t,n,s,r){(0,i.assert)(s>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:s,visible:r}),r&&(e.visibleWrites=wi(e.visibleWrites,t,n)),e.lastWriteId=s}function Ai(e,t,n,s){(0,i.assert)(s>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:s,visible:!0}),e.visibleWrites=Ti(e.visibleWrites,t,n),e.lastWriteId=s}function Mi(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function qi(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,i.assert)(n>=0,"removeWrite called with nonexistent writeId.");const s=e.allWrites[n];e.allWrites.splice(n,1);let r=s.visible,o=!1,a=e.allWrites.length-1;for(;r&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Fi(t,s.path)?r=!1:wt(s.path,t.path)&&(o=!0)),a--}if(r){if(o)return Li(e),!0;if(s.snap)e.visibleWrites=Ii(e.visibleWrites,s.path);else{F(s.children,t=>{e.visibleWrites=Ii(e.visibleWrites,mt(s.path,t))})}return!0}return!1}function Fi(e,t){if(e.snap)return wt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&wt(mt(e.path,n),t))return!0;return!1}function Li(e){e.visibleWrites=Wi(e.allWrites,Oi,lt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Oi(e){return e.visible}function Wi(e,t,n){let s=Ci.empty();for(let r=0;r<e.length;++r){const o=e[r];if(t(o)){const e=o.path;let t;if(o.snap)wt(n,e)?s=wi(s,t=yt(n,e),o.snap):wt(e,n)&&(t=yt(e,n),s=wi(s,lt(),o.snap.getChild(t)));else{if(!o.children)throw(0,i.assertionError)("WriteRecord should have .snap or .children");if(wt(n,e))s=Ti(s,t=yt(n,e),o.children);else if(wt(e,n))if(gt(t=yt(e,n)))s=Ti(s,lt(),o.children);else{const e=(0,i.safeGet)(o.children,ht(t));if(e){const n=e.getChild(ut(t));s=wi(s,lt(),n)}}}}}return s}function Ui(e,t,n,i,s){if(i||s){const r=Si(e.visibleWrites,t);if(!s&&xi(r))return n;if(s||null!=n||bi(r,lt())){const r=function(e){return(e.visible||s)&&(!i||!~i.indexOf(e.writeId))&&(wt(e.path,t)||wt(t,e.path))};return Pi(Wi(e.allWrites,r,t),n||_n.EMPTY_NODE)}return null}{const i=ki(e.visibleWrites,t);if(null!=i)return i;{const i=Si(e.visibleWrites,t);if(xi(i))return n;if(null!=n||bi(i,lt())){return Pi(i,n||_n.EMPTY_NODE)}return null}}}function Bi(e,t,n){let i=_n.EMPTY_NODE;const s=ki(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(rn,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const s=Si(e.visibleWrites,t);return n.forEachChild(rn,(e,t)=>{const n=Pi(Si(s,new at(e)),t);i=i.updateImmediateChild(e,n)}),Ei(s).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}return Ei(Si(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}function ji(e,t,n,s,r){(0,i.assert)(s||r,"Either existingEventSnap or existingServerSnap must exist");const o=mt(t,n);if(bi(e.visibleWrites,o))return null;{const t=Si(e.visibleWrites,o);return xi(t)?r.getChild(n):Pi(t,r.getChild(n))}}function Hi(e,t,n,i){const s=mt(t,n),r=ki(e.visibleWrites,s);if(null!=r)return r;if(i.isCompleteForChild(n)){return Pi(Si(e.visibleWrites,s),i.getNode().getImmediateChild(n))}return null}function Vi(e,t){return ki(e.visibleWrites,t)}function zi(e,t,n,i,s,r,o){let a;const l=Si(e.visibleWrites,t),h=ki(l,lt());if(null!=h)a=h;else{if(null==n)return[];a=Pi(l,n)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let l=n.getNext();for(;l&&e.length<s;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}function Yi(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function Qi(e,t,n,i){return Ui(e.writeTree,e.treePath,t,n,i)}function Ki(e,t){return Bi(e.writeTree,e.treePath,t)}function Gi(e,t,n,i){return ji(e.writeTree,e.treePath,t,n,i)}function $i(e,t){return Vi(e.writeTree,mt(e.treePath,t))}function Xi(e,t,n,i,s,r){return zi(e.writeTree,e.treePath,t,n,i,s,r)}function Ji(e,t,n){return Hi(e.writeTree,e.treePath,t,n)}function Zi(e,t){return es(mt(e.treePath,t),e.writeTree)}function es(e,t){return{treePath:e,writeTree:t}}class ts{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,i.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(n);if(s){const r=s.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,bn(n,e.snapshotNode,s.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,In(n,s.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Tn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw(0,i.assertionError)("Illegal combination of changes: "+e+" occurred after "+s);this.changeMap.set(n,bn(n,e.snapshotNode,s.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}class ns{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const is=new ns;class ss{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ji(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:mi(this.viewCache_),s=Xi(this.writes_,i,t,1,n,e);return 0===s.length?null:s[0]}}function rs(e){return{filter:e}}function os(e,t){(0,i.assert)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,i.assert)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function as(e,t,n,s,r){const o=new ts;let a,l;if(n.type===Jn.OVERWRITE){const h=n;h.source.fromUser?a=us(e,t,h.path,h.snap,s,r,o):((0,i.assert)(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered()&&!gt(h.path),a=cs(e,t,h.path,h.snap,s,r,l,o))}else if(n.type===Jn.MERGE){const h=n;h.source.fromUser?a=_s(e,t,h.path,h.children,s,r,o):((0,i.assert)(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=fs(e,t,h.path,h.children,s,r,l,o))}else if(n.type===Jn.ACK_USER_WRITE){const i=n;a=i.revert?ys(e,t,i.path,s,r,o):ms(e,t,i.path,i.affectedTree,s,r,o)}else{if(n.type!==Jn.LISTEN_COMPLETE)throw(0,i.assertionError)("Unknown operation type: "+n.type);a=gs(e,t,n.path,s,o)}const h=o.getChanges();return ls(t,a,h),{viewCache:a,changes:h}}function ls(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=fi(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(wn(fi(t)))}}function hs(e,t,n,s,r,o){const a=t.eventCache;if(null!=$i(s,n))return t;{let l,h;if(gt(n))if((0,i.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=mi(t),i=Ki(s,n instanceof _n?n:_n.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Qi(s,mi(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=ht(n);if(".priority"===c){(0,i.assert)(1===ct(n),"Can't have a priority with additional path components");const r=a.getNode(),o=Gi(s,n,r,h=t.serverCache.getNode());l=null!=o?e.filter.updatePriority(r,o):a.getNode()}else{const i=ut(n);let u;if(a.isCompleteForChild(c)){h=t.serverCache.getNode();const e=Gi(s,n,a.getNode(),h);u=null!=e?a.getNode().getImmediateChild(c).updateChild(i,e):a.getNode().getImmediateChild(c)}else u=Ji(s,c,t.serverCache);l=null!=u?e.filter.updateChild(a.getNode(),c,u,i,r,o):a.getNode()}}return _i(t,l,a.isFullyInitialized()||gt(n),e.filter.filtersNodes())}}function cs(e,t,n,i,s,r,o,a){const l=t.serverCache;let h;const c=o?e.filter:e.filter.getIndexedFilter();if(gt(n))h=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);h=c.updateFullNode(l.getNode(),e,null)}else{const e=ht(n);if(!l.isCompleteForPath(n)&&ct(n)>1)return t;const s=ut(n),r=l.getNode().getImmediateChild(e).updateChild(s,i);h=".priority"===e?c.updatePriority(l.getNode(),r):c.updateChild(l.getNode(),e,r,s,is,null)}const u=pi(t,h,l.isFullyInitialized()||gt(n),c.filtersNodes());return hs(e,u,n,s,new ss(s,u,r),a)}function us(e,t,n,i,s,r,o){const a=t.eventCache;let l,h;const c=new ss(s,t,r);if(gt(n))h=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=_i(t,h,!0,e.filter.filtersNodes());else{const s=ht(n);if(".priority"===s)h=e.filter.updatePriority(t.eventCache.getNode(),i),l=_i(t,h,a.isFullyInitialized(),a.isFiltered());else{const r=ut(n),h=a.getNode().getImmediateChild(s);let u;if(gt(r))u=i;else{const e=c.getCompleteChild(s);u=null!=e?".priority"===dt(r)&&e.getChild(ft(r)).isEmpty()?e:e.updateChild(r,i):_n.EMPTY_NODE}if(h.equals(u))l=t;else{l=_i(t,e.filter.updateChild(a.getNode(),s,u,r,c,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ds(e,t){return e.eventCache.isCompleteForChild(t)}function _s(e,t,n,i,s,r,o){let a=t;return i.foreach((i,l)=>{const h=mt(n,i);ds(t,ht(h))&&(a=us(e,a,h,l,s,r,o))}),i.foreach((i,l)=>{const h=mt(n,i);ds(t,ht(h))||(a=us(e,a,h,l,s,r,o))}),a}function ps(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function fs(e,t,n,i,s,r,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,h=t;l=gt(n)?i:new vi(null).setTree(n,i);const c=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(c.hasChild(n)){const l=t.serverCache.getNode().getImmediateChild(n),c=ps(e,l,i);h=cs(e,h,new at(n),c,s,r,o,a)}}),l.children.inorderTraversal((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!c.hasChild(n)&&!l){const l=t.serverCache.getNode().getImmediateChild(n),c=ps(e,l,i);h=cs(e,h,new at(n),c,s,r,o,a)}}),h}function ms(e,t,n,i,s,r,o){if(null!=$i(s,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(gt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cs(e,t,n,l.getNode().getChild(n),s,r,a,o);if(gt(n)){let i=new vi(null);return l.getNode().forEachChild(Ut,(e,t)=>{i=i.set(new at(e),t)}),fs(e,t,n,i,s,r,a,o)}return t}{let h=new vi(null);return i.foreach((e,t)=>{const i=mt(n,e);l.isCompleteForPath(i)&&(h=h.set(e,l.getNode().getChild(i)))}),fs(e,t,n,h,s,r,a,o)}}function gs(e,t,n,i,s){const r=t.serverCache;return hs(e,pi(t,r.getNode(),r.isFullyInitialized()||gt(n),r.isFiltered()),n,i,is,s)}function ys(e,t,n,s,r,o){let a;if(null!=$i(s,n))return t;{const l=new ss(s,t,r),h=t.eventCache.getNode();let c;if(gt(n)||".priority"===ht(n)){let n;if(t.serverCache.isFullyInitialized())n=Qi(s,mi(t));else{const e=t.serverCache.getNode();(0,i.assert)(e instanceof _n,"serverChildren would be complete if leaf node"),n=Ki(s,e)}n=n,c=e.filter.updateFullNode(h,n,o)}else{const i=ht(n);let r=Ji(s,i,t.serverCache);null==r&&t.serverCache.isCompleteForChild(i)&&(r=h.getImmediateChild(i)),(c=null!=r?e.filter.updateChild(h,i,r,ut(n),l,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(h,i,_n.EMPTY_NODE,ut(n),l,o):h).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Qi(s,mi(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,a,o))}return a=t.serverCache.isFullyInitialized()||null!=$i(s,lt()),_i(t,c,a,e.filter.filtersNodes())}}class vs{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new En(n.getIndex()),s=Nn(n);this.processor_=rs(s);const r=t.serverCache,o=t.eventCache,a=i.updateFullNode(_n.EMPTY_NODE,r.getNode(),null),l=s.updateFullNode(_n.EMPTY_NODE,o.getNode(),null),h=new oi(a,r.isFullyInitialized(),i.filtersNodes()),c=new oi(l,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=di(c,h),this.eventGenerator_=new ai(this.query_)}get query(){return this.query_}}function Cs(e){return e.viewCache_.serverCache.getNode()}function ws(e){return fi(e.viewCache_)}function Ts(e,t){const n=mi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!gt(t)&&!n.getImmediateChild(ht(t)).isEmpty())?n.getChild(t):null}function Is(e){return 0===e.eventRegistrations_.length}function bs(e,t){e.eventRegistrations_.push(t)}function ks(e,t,n){const s=[];if(n){(0,i.assert)(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,r);t&&s.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const s=e.eventRegistrations_[i];if(s.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(s)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return s}function Es(e,t,n,s){t.type===Jn.MERGE&&null!==t.source.queryId&&((0,i.assert)(mi(e.viewCache_),"We should always have a full cache before handling merges"),(0,i.assert)(fi(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=as(e.processor_,r,t,n,s);return os(e.processor_,o.viewCache),(0,i.assert)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,xs(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ss(e,t){const n=e.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){n.getNode().forEachChild(rn,(e,t)=>{i.push(Tn(e,t))})}return n.isFullyInitialized()&&i.push(wn(n.getNode())),xs(e,i,n.getNode(),t)}function xs(e,t,n,i){const s=i?[i]:e.eventRegistrations_;return li(e.eventGenerator_,t,n,s)}let Ps,Ns;class Rs{constructor(){this.views=new Map}}function Ds(e){(0,i.assert)(!Ps,"__referenceConstructor has already been defined"),Ps=e}function As(){return(0,i.assert)(Ps,"Reference.ts has not been loaded"),Ps}function Ms(e){return 0===e.views.size}function qs(e,t,n,s){const r=t.source.queryId;if(null!==r){const o=e.views.get(r);return(0,i.assert)(null!=o,"SyncTree gave us an op for an invalid query."),Es(o,t,n,s)}{let i=[];for(const r of e.views.values())i=i.concat(Es(r,t,n,s));return i}}function Fs(e,t,n,i,s){const r=t._queryIdentifier,o=e.views.get(r);if(!o){let e=Qi(n,s?i:null),r=!1;e?r=!0:i instanceof _n?(e=Ki(n,i),r=!1):(e=_n.EMPTY_NODE,r=!1);const o=di(new oi(e,r,!1),new oi(i,s,!1));return new vs(t,o)}return o}function Ls(e,t,n,i,s,r){const o=Fs(e,t,i,s,r);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),bs(o,n),Ss(o,n)}function Os(e,t,n,i){const s=t._queryIdentifier,r=[];let o=[];const a=Hs(e);if("default"===s)for(const[l,h]of e.views.entries())o=o.concat(ks(h,n,i)),Is(h)&&(e.views.delete(l),h.query._queryParams.loadsAllData()||r.push(h.query));else{const t=e.views.get(s);t&&(o=o.concat(ks(t,n,i)),Is(t)&&(e.views.delete(s),t.query._queryParams.loadsAllData()||r.push(t.query)))}return a&&!Hs(e)&&r.push(new(As())(t._repo,t._path)),{removed:r,events:o}}function Ws(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Us(e,t){let n=null;for(const i of e.views.values())n=n||Ts(i,t);return n}function Bs(e,t){if(t._queryParams.loadsAllData())return Vs(e);{const n=t._queryIdentifier;return e.views.get(n)}}function js(e,t){return null!=Bs(e,t)}function Hs(e){return null!=Vs(e)}function Vs(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}function zs(e){(0,i.assert)(!Ns,"__referenceConstructor has already been defined"),Ns=e}function Ys(){return(0,i.assert)(Ns,"Reference.ts has not been loaded"),Ns}let Qs=1;class Ks{constructor(e){this.listenProvider_=e,this.syncPointTree_=new vi(null),this.pendingWriteTree_=Yi(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gs(e,t,n,i,s){return Di(e.pendingWriteTree_,t,n,i,s),s?lr(e,new si(Zn(),t,n)):[]}function $s(e,t,n,i){Ai(e.pendingWriteTree_,t,n,i);const s=vi.fromObject(n);return lr(e,new ri(Zn(),t,s))}function Xs(e,t,n=!1){const i=Mi(e.pendingWriteTree_,t);if(qi(e.pendingWriteTree_,t)){let t=new vi(null);return null!=i.snap?t=t.set(lt(),!0):F(i.children,e=>{t=t.set(new at(e),!0)}),lr(e,new ni(i.path,t,n))}return[]}function Js(e,t,n){return lr(e,new si(ei(),t,n))}function Zs(e,t,n){const i=vi.fromObject(n);return lr(e,new ri(ei(),t,i))}function er(e,t){return lr(e,new ii(ei(),t))}function tr(e,t,n){const i=pr(e,n);if(i){const n=fr(i),s=n.path,r=n.queryId,o=yt(s,t);return mr(e,s,new ii(ti(r),o))}return[]}function nr(e,t,n,i,s=!1){const r=t._path,o=e.syncPointTree_.get(r);let a=[];if(o&&("default"===t._queryIdentifier||js(o,t))){const l=Os(o,t,n,i);Ms(o)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const h=l.removed;if(a=l.events,!s){const n=-1!==h.findIndex(e=>e._queryParams.loadsAllData()),s=e.syncPointTree_.findOnPath(r,(e,t)=>Hs(t));if(n&&!s){const t=e.syncPointTree_.subtree(r);if(!t.isEmpty()){const n=gr(t);for(let t=0;t<n.length;++t){const i=n[t],s=i.query,r=ur(e,i);e.listenProvider_.startListening(yr(s),dr(e,s),r.hashFn,r.onComplete)}}}if(!s&&h.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(yr(t),n)}else h.forEach(t=>{const n=e.queryToTagMap.get(_r(t));e.listenProvider_.stopListening(yr(t),n)})}vr(e,h)}return a}function ir(e,t,n,i){const s=pr(e,i);if(null!=s){const i=fr(s),r=i.path,o=i.queryId,a=yt(r,t);return mr(e,r,new si(ti(o),a,n))}return[]}function sr(e,t,n,i){const s=pr(e,i);if(s){const i=fr(s),r=i.path,o=i.queryId,a=yt(r,t),l=vi.fromObject(n);return mr(e,r,new ri(ti(o),a,l))}return[]}function rr(e,t,n,s=!1){const r=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=yt(e,r);o=o||Us(t,n),a=a||Hs(t)});let l,h=e.syncPointTree_.get(r);if(h?(a=a||Hs(h),o=o||Us(h,lt())):(h=new Rs,e.syncPointTree_=e.syncPointTree_.set(r,h)),null!=o)l=!0;else{l=!1,o=_n.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=Us(t,lt());n&&(o=o.updateImmediateChild(e,n))})}const c=js(h,t);if(!c&&!t._queryParams.loadsAllData()){const n=_r(t);(0,i.assert)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const s=Cr();e.queryToTagMap.set(n,s),e.tagToQueryMap.set(s,n)}let u=Ls(h,t,n,Ri(e.pendingWriteTree_,r),o,l);if(!c&&!a&&!s){const n=Bs(h,t);u=u.concat(wr(e,t,n))}return u}function or(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=Us(n,yt(e,t));if(i)return i});return Ui(i,t,s,n,!0)}function ar(e,t){const n=t._path;let i=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const s=yt(e,n);i=i||Us(t,s)});let s=e.syncPointTree_.get(n);s?i=i||Us(s,lt()):(s=new Rs,e.syncPointTree_=e.syncPointTree_.set(n,s));const r=null!=i,o=r?new oi(i,!0,!1):null;return ws(Fs(s,t,Ri(e.pendingWriteTree_,t._path),r?o.getNode():_n.EMPTY_NODE,r))}function lr(e,t){return hr(t,e.syncPointTree_,null,Ri(e.pendingWriteTree_,lt()))}function hr(e,t,n,i){if(gt(e.path))return cr(e,t,n,i);{const s=t.get(lt());null==n&&null!=s&&(n=Us(s,lt()));let r=[];const o=ht(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Zi(i,o);r=r.concat(hr(a,l,e,t))}return s&&(r=r.concat(qs(s,e,i,n))),r}}function cr(e,t,n,i){const s=t.get(lt());null==n&&null!=s&&(n=Us(s,lt()));let r=[];return t.children.inorderTraversal((t,s)=>{const o=n?n.getImmediateChild(t):null,a=Zi(i,t),l=e.operationForChild(t);l&&(r=r.concat(cr(l,s,o,a)))}),s&&(r=r.concat(qs(s,e,i,n))),r}function ur(e,t){const n=t.query,i=dr(e,n);return{hashFn:()=>{return(Cs(t)||_n.EMPTY_NODE).hash()},onComplete:t=>{if("ok"===t)return i?tr(e,n._path,i):er(e,n._path);{const i=U(t,n);return nr(e,n,null,i)}}}}function dr(e,t){const n=_r(t);return e.queryToTagMap.get(n)}function _r(e){return e._path.toString()+"$"+e._queryIdentifier}function pr(e,t){return e.tagToQueryMap.get(t)}function fr(e){const t=e.indexOf("$");return(0,i.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new at(e.substr(0,t))}}function mr(e,t,n){const s=e.syncPointTree_.get(t);return(0,i.assert)(s,"Missing sync point for query tag that we're tracking"),qs(s,n,Ri(e.pendingWriteTree_,t),null)}function gr(e){return e.fold((e,t,n)=>{if(t&&Hs(t)){return[Vs(t)]}{let e=[];return t&&(e=Ws(t)),F(n,(t,n)=>{e=e.concat(n)}),e}})}function yr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ys())(e._repo,e._path):e}function vr(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=_r(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function Cr(){return Qs++}function wr(e,t,n){const s=t._path,r=dr(e,t),o=ur(e,n),a=e.listenProvider_.startListening(yr(t),r,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(s);if(r)(0,i.assert)(!Hs(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,n)=>{if(!gt(e)&&t&&Hs(t))return[Vs(t).query];{let e=[];return t&&(e=e.concat(Ws(t).map(e=>e.query))),F(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(yr(i),dr(e,i))}}return a}class Tr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Tr(t)}node(){return this.node_}}class Ir{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=mt(this.path_,e);return new Ir(this.syncTree_,t)}node(){return or(this.syncTree_,this.path_)}}const br=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},kr=function(e,t,n){return e&&"object"==typeof e?((0,i.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Er(e[".sv"],t,n):"object"==typeof e[".sv"]?Sr(e[".sv"],t):void(0,i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Er=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,i.assert)(!1,"Unexpected server value: "+e)}},Sr=function(e,t,n){e.hasOwnProperty("increment")||(0,i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const s=e.increment;"number"!=typeof s&&(0,i.assert)(!1,"Unexpected increment value: "+s);const r=t.node();if((0,i.assert)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return"number"!=typeof o?s:o+s},xr=function(e,t,n,i){return Nr(t,new Ir(n,e),i)},Pr=function(e,t,n){return Nr(e,new Tr(t),n)};function Nr(e,t,n){const i=e.getPriority().val(),s=kr(i,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const i=e,r=kr(i.getValue(),t,n);return r!==i.getValue()||s!==i.getPriority().val()?new en(r,gn(s)):e}{const i=e;return r=i,s!==i.getPriority().val()&&(r=r.updatePriority(new en(s))),i.forEachChild(rn,(e,i)=>{const s=Nr(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))}),r}}class Rr{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Dr(e,t){let n=t instanceof at?t:new at(t),s=e,r=ht(n);for(;null!==r;){const e=(0,i.safeGet)(s.node.children,r)||{children:{},childCount:0};s=new Rr(r,s,e),r=ht(n=ut(n))}return s}function Ar(e){return e.node.value}function Mr(e,t){e.node.value=t,Br(e)}function qr(e){return e.node.childCount>0}function Fr(e){return void 0===Ar(e)&&!qr(e)}function Lr(e,t){F(e.node.children,(n,i)=>{t(new Rr(n,e,i))})}function Or(e,t,n,i){n&&!i&&t(e),Lr(e,e=>{Or(e,t,!0,i)}),n&&i&&t(e)}function Wr(e,t,n){let i=n?e:e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}return!1}function Ur(e){return new at(null===e.parent?e.name:Ur(e.parent)+"/"+e.name)}function Br(e){null!==e.parent&&jr(e.parent,e.name,e)}function jr(e,t,n){const s=Fr(n),r=(0,i.contains)(e.node.children,t);s&&r?(delete e.node.children[t],e.node.childCount--,Br(e)):s||r||(e.node.children[t]=n.node,e.node.childCount++,Br(e))}const Hr=/[\[\].#$\/\u0000-\u001F\u007F]/,Vr=/[\[\].#$\u0000-\u001F\u007F]/,zr=10485760,Yr=function(e){return"string"==typeof e&&0!==e.length&&!Hr.test(e)},Qr=function(e){return"string"==typeof e&&0!==e.length&&!Vr.test(e)},Kr=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qr(e)},Gr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!S(e)||e&&"object"==typeof e&&(0,i.contains)(e,".sv")},$r=function(e,t,n,s){s&&void 0===t||Xr((0,i.errorPrefix)(e,"value"),t,n)},Xr=function(e,t,n){const s=n instanceof at?new Tt(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Et(s));if("function"==typeof t)throw new Error(e+"contains a function "+Et(s)+" with contents = "+t.toString());if(S(t))throw new Error(e+"contains "+t.toString()+" "+Et(s));if("string"==typeof t&&t.length>10485760/3&&(0,i.stringLength)(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+Et(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(F(t,(t,r)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Yr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Et(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');It(s,t),Xr(e,r,s),bt(s)}),n&&i)throw new Error(e+' contains ".value" child '+Et(s)+" in addition to actual children.")}},Jr=function(e,t){let n,i;for(n=0;n<t.length;n++){const s=pt(i=t[n]);for(let t=0;t<s.length;t++)if(".priority"===s[t]&&t===s.length-1);else if(!Yr(s[t]))throw new Error(e+"contains an invalid key ("+s[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(vt);let s=null;for(n=0;n<t.length;n++){if(i=t[n],null!==s&&wt(s,i))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},Zr=function(e,t,n,s){if(s&&void 0===t)return;const r=(0,i.errorPrefix)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];F(t,(e,t)=>{const i=new at(e);if(Xr(r,t,mt(n,i)),".priority"===dt(i)&&!Gr(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(i)}),Jr(r,o)},eo=function(e,t,n){if(!n||void 0!==t){if(S(t))throw new Error((0,i.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gr(t))throw new Error((0,i.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},to=function(e,t,n,s){if(!(s&&void 0===n||Yr(n)))throw new Error((0,i.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},no=function(e,t,n,s){if(!(s&&void 0===n||Qr(n)))throw new Error((0,i.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')};exports._validatePathString=no;const io=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),no(e,t,n,i)},so=function(e,t){if(".info"===ht(t))throw new Error(e+" failed = Can't modify data under /.info/")};exports._validateWritablePath=so;const ro=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!Kr(n))throw new Error((0,i.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class oo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ao(e,t){let n=null;for(let i=0;i<t.length;i++){const s=t[i],r=s.getPath();null===n||Ct(r,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:r}),n.events.push(s)}n&&e.eventLists_.push(n)}function lo(e,t,n){ao(e,n),co(e,e=>Ct(e,t))}function ho(e,t,n){ao(e,n),co(e,e=>wt(e,t)||wt(t,e))}function co(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const s=e.eventLists_[i];if(s){t(s.path)?(uo(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function uo(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();y&&w("event: "+n.toString()),z(i)}}}const _o="repo_interrupt",po=25;class fo{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jn(),this.transactionQueueTree_=new Rr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mo(e,t,n){if(e.stats_=pe(e.repoInfo_),e.forceRestClient_||Y())e.server_=new Un(e.repoInfo_,(t,n,i,s)=>{vo(e,t,n,i,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Co(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,i.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}e.persistentConnection_=new qt(e.repoInfo_,t,(t,n,i,s)=>{vo(e,t,n,i,s)},t=>{Co(e,t)},t=>{wo(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=fe(e.repoInfo_,()=>new Xn(e.stats_,e.server_)),e.infoData_=new Bn,e.infoSyncTree_=new Ks({startListening:(t,n,i,s)=>{let r=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(r=Js(e.infoSyncTree_,t._path,o),setTimeout(()=>{s("ok")},0)),r},stopListening:()=>{}}),To(e,"connected",!1),e.serverSyncTree_=new Ks({startListening:(t,n,i,s)=>(e.server_.listen(t,i,n,(n,i)=>{const r=s(n,i);ho(e.eventQueue_,t._path,r)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function go(e){const t=e.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yo(e){return br({timestamp:go(e)})}function vo(e,t,n,s,r){e.dataUpdateCount++;const o=new at(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(r)if(s){const t=(0,i.map)(n,e=>gn(e));a=sr(e.serverSyncTree_,o,t,r)}else{const t=gn(n);a=ir(e.serverSyncTree_,o,t,r)}else if(s){const t=(0,i.map)(n,e=>gn(e));a=Zs(e.serverSyncTree_,o,t)}else{const t=gn(n);a=Js(e.serverSyncTree_,o,t)}let l=o;a.length>0&&(l=jo(e,o)),ho(e.eventQueue_,l,a)}function Co(e,t){To(e,"connected",t),!1===t&&So(e)}function wo(e,t){F(t,(t,n)=>{To(e,t,n)})}function To(e,t,n){const i=new at("/.info/"+t),s=gn(n);e.infoData_.updateSnapshot(i,s);const r=Js(e.infoSyncTree_,i,s);ho(e.eventQueue_,i,r)}function Io(e){return e.nextWriteId_++}function bo(e,t,n){const s=ar(e.serverSyncTree_,t);return null!=s?Promise.resolve(s):e.server_.get(t).then(i=>{const s=gn(i).withIndex(t._queryParams.getIndex());let r;if(rr(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())r=Js(e.serverSyncTree_,t._path,s);else{const n=dr(e.serverSyncTree_,t);r=ir(e.serverSyncTree_,t._path,s,n)}return ho(e.eventQueue_,t._path,r),nr(e.serverSyncTree_,t,n,null,!0),s},n=>(Fo(e,"get for query "+(0,i.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))))}function ko(e,t,n,i,s){Fo(e,"set",{path:t.toString(),value:n,priority:i});const r=yo(e),o=gn(n,i),a=or(e.serverSyncTree_,t),l=Pr(o,a,r),h=Io(e),c=Gs(e.serverSyncTree_,t,l,h,!0);ao(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(n,i)=>{const r="ok"===n;r||k("set at "+t+" failed: "+n);const o=Xs(e.serverSyncTree_,h,!r);ho(e.eventQueue_,t,o),Lo(e,s,n,i)});const u=Ko(e,t);jo(e,u),ho(e.eventQueue_,u,[])}function Eo(e,t,n,i){Fo(e,"update",{path:t.toString(),value:n});let s=!0;const r=yo(e),o={};if(F(n,(n,i)=>{s=!1,o[n]=xr(mt(t,n),gn(i),e.serverSyncTree_,r)}),s)w("update() called with empty data.  Don't do anything."),Lo(e,i,"ok",void 0);else{const s=Io(e),r=$s(e.serverSyncTree_,t,o,s);ao(e.eventQueue_,r),e.server_.merge(t.toString(),n,(n,r)=>{const o="ok"===n;o||k("update at "+t+" failed: "+n);const a=Xs(e.serverSyncTree_,s,!o),l=a.length>0?jo(e,t):t;ho(e.eventQueue_,l,a),Lo(e,i,n,r)}),F(n,n=>{const i=Ko(e,mt(t,n));jo(e,i)}),ho(e.eventQueue_,t,[])}}function So(e){Fo(e,"onDisconnectEvents");const t=yo(e),n=jn();zn(e.onDisconnect_,lt(),(i,s)=>{const r=xr(i,s,e.serverSyncTree_,t);Hn(n,i,r)});let i=[];zn(n,lt(),(t,n)=>{i=i.concat(Js(e.serverSyncTree_,t,n));const s=Ko(e,t);jo(e,s)}),e.onDisconnect_=jn(),ho(e.eventQueue_,lt(),i)}function xo(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,s)=>{"ok"===i&&Vn(e.onDisconnect_,t),Lo(e,n,i,s)})}function Po(e,t,n,i){const s=gn(n);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&Hn(e.onDisconnect_,t,s),Lo(e,i,n,r)})}function No(e,t,n,i,s){const r=gn(n,i);e.server_.onDisconnectPut(t.toString(),r.val(!0),(n,i)=>{"ok"===n&&Hn(e.onDisconnect_,t,r),Lo(e,s,n,i)})}function Ro(e,t,n,s){if((0,i.isEmpty)(n))return w("onDisconnect().update() called with empty data.  Don't do anything."),void Lo(e,s,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,r)=>{"ok"===i&&F(n,(n,i)=>{const s=gn(i);Hn(e.onDisconnect_,mt(t,n),s)}),Lo(e,s,i,r)})}function Do(e,t,n){let i;i=".info"===ht(t._path)?rr(e.infoSyncTree_,t,n):rr(e.serverSyncTree_,t,n),lo(e.eventQueue_,t._path,i)}function Ao(e,t,n){let i;i=".info"===ht(t._path)?nr(e.infoSyncTree_,t,n):nr(e.serverSyncTree_,t,n),lo(e.eventQueue_,t._path,i)}function Mo(e){e.persistentConnection_&&e.persistentConnection_.interrupt(_o)}function qo(e){e.persistentConnection_&&e.persistentConnection_.resume(_o)}function Fo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),w(n,...t)}function Lo(e,t,n,i){t&&z(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;i&&(s+=": "+i);const r=new Error(s);r.code=e,t(r)}})}function Oo(e,t,n,s,r,o){Fo(e,"transaction on "+t);const a={path:t,update:n,onComplete:s,status:null,order:f(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Wo(e,t,void 0);a.currentInputSnapshot=l;const h=a.update(l.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Xr("transaction failed: Data returned ",h,a.path),a.status=0;const n=Dr(e.transactionQueueTree_,t),s=Ar(n)||[];let r;if(s.push(a),Mr(n,s),"object"==typeof h&&null!==h&&(0,i.contains)(h,".priority"))r=(0,i.safeGet)(h,".priority"),(0,i.assert)(Gr(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{r=(or(e.serverSyncTree_,t)||_n.EMPTY_NODE).getPriority().val()}const o=yo(e),c=gn(h,r),u=Pr(c,l,o);a.currentOutputSnapshotRaw=c,a.currentOutputSnapshotResolved=u,a.currentWriteId=Io(e);const d=Gs(e.serverSyncTree_,t,u,a.currentWriteId,a.applyLocally);ho(e.eventQueue_,t,d),Uo(e,e.transactionQueueTree_)}}function Wo(e,t,n){return or(e.serverSyncTree_,t,n)||_n.EMPTY_NODE}function Uo(e,t=e.transactionQueueTree_){if(t||Qo(e,t),Ar(t)){const n=zo(e,t);(0,i.assert)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&Bo(e,Ur(t),n)}else qr(t)&&Lr(t,t=>{Uo(e,t)})}function Bo(e,t,n){const s=n.map(e=>e.currentWriteId),r=Wo(e,t,s);let o=r;const a=r.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,i.assert)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const s=yt(t,e.path);o=o.updateChild(s,e.currentOutputSnapshotRaw)}const l=o.val(!0),h=t;e.server_.put(h.toString(),l,i=>{Fo(e,"transaction put response",{path:h.toString(),status:i});let s=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(Xs(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Qo(e,Dr(e.transactionQueueTree_,t)),Uo(e,e.transactionQueueTree_),ho(e.eventQueue_,t,s);for(let e=0;e<i.length;e++)z(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{k("transaction at "+h.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}jo(e,t)}},a)}function jo(e,t){const n=Vo(e,t),i=Ur(n);return Ho(e,zo(e,n),i),i}function Ho(e,t,n){if(0===t.length)return;const s=[];let r=[];const o=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let l=0;l<t.length;l++){const h=t[l],c=yt(n,h.path);let u,d=!1;if((0,i.assert)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)d=!0,u=h.abortReason,r=r.concat(Xs(e.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=po)d=!0,u="maxretry",r=r.concat(Xs(e.serverSyncTree_,h.currentWriteId,!0));else{const n=Wo(e,h.path,o);h.currentInputSnapshot=n;const s=t[l].update(n.val());if(void 0!==s){Xr("transaction failed: Data returned ",s,h.path);let t=gn(s);"object"==typeof s&&null!=s&&(0,i.contains)(s,".priority")||(t=t.updatePriority(n.getPriority()));const a=h.currentWriteId,l=yo(e),c=Pr(t,n,l);h.currentOutputSnapshotRaw=t,h.currentOutputSnapshotResolved=c,h.currentWriteId=Io(e),o.splice(o.indexOf(a),1),r=(r=r.concat(Gs(e.serverSyncTree_,h.path,c,h.currentWriteId,h.applyLocally))).concat(Xs(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",r=r.concat(Xs(e.serverSyncTree_,h.currentWriteId,!0))}ho(e.eventQueue_,n,r),r=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?s.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):s.push(()=>t[l].onComplete(new Error(u),!1,null))))}var a;Qo(e,e.transactionQueueTree_);for(let i=0;i<s.length;i++)z(s[i]);Uo(e,e.transactionQueueTree_)}function Vo(e,t){let n,i=e.transactionQueueTree_;for(n=ht(t);null!==n&&void 0===Ar(i);)i=Dr(i,n),n=ht(t=ut(t));return i}function zo(e,t){const n=[];return Yo(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Yo(e,t,n){const i=Ar(t);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Lr(t,t=>{Yo(e,t,n)})}function Qo(e,t){const n=Ar(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Mr(t,n.length>0?n:void 0)}Lr(t,t=>{Qo(e,t)})}function Ko(e,t){const n=Ur(Vo(e,t)),i=Dr(e.transactionQueueTree_,t);return Wr(i,t=>{Go(e,t)}),Go(e,i),Or(i,t=>{Go(e,t)}),n}function Go(e,t){const n=Ar(t);if(n){const s=[];let r=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,i.assert)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,i.assert)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(Xs(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&s.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Mr(t,void 0):n.length=o+1,ho(e.eventQueue_,Ur(t),r);for(let e=0;e<s.length;e++)z(s[e])}}function $o(e){let t="";const n=e.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let e=n[s];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}function Xo(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):k(`Invalid query segment '${n}' in query '${e}'`)}return t}const Jo=function(e,t){const n=Zo(e),i=n.namespace;"firebase.com"===n.domain&&b(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||b("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new le(n.host,n.secure,i,s,t,"",i!==n.subdomain),path:new at(n.pathString)}},Zo=function(e){let t="",n="",i="",s="",r="",o=!0,a="https",l=443;if("string"==typeof e){let h=e.indexOf("//");h>=0&&(a=e.substring(0,h-1),e=e.substring(h+2));let c=e.indexOf("/");-1===c&&(c=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(s=$o(e.substring(c,u)));const d=Xo(e.substring(Math.min(e.length,u)));(h=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(h+1),10)):h=t.length;const _=t.slice(0,h);if("localhost"===_.toLowerCase())n="localhost";else if(_.split(".").length<=2)n=_;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),r=i}"ns"in d&&(r=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}},ea="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ta=function(){let e=0;const t=[];return function(n){const s=n===e;let r;e=n;const o=new Array(8);for(r=7;r>=0;r--)o[r]=ea.charAt(n%64),n=Math.floor(n/64);(0,i.assert)(0===n,"Cannot push at time == 0");let a=o.join("");if(s){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=ea.charAt(t[r]);return(0,i.assert)(20===a.length,"nextPushId: Length should be 20."),a}}();class na{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,i.stringify)(this.snapshot.exportVal())}}class ia{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sa{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ra{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new i.Deferred;return xo(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){so("OnDisconnect.remove",this._path);const e=new i.Deferred;return Po(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){so("OnDisconnect.set",this._path),$r("OnDisconnect.set",e,this._path,!1);const t=new i.Deferred;return Po(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){so("OnDisconnect.setWithPriority",this._path),$r("OnDisconnect.setWithPriority",e,this._path,!1),eo("OnDisconnect.setWithPriority",t,!1);const n=new i.Deferred;return No(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){so("OnDisconnect.update",this._path),Zr("OnDisconnect.update",e,this._path,!1);const t=new i.Deferred;return Ro(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}exports.OnDisconnect=ra;class oa{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return gt(this._path)?null:dt(this._path)}get ref(){return new ca(this._repo,this._path)}get _queryIdentifier(){const e=Wn(this._queryParams),t=M(e);return"{}"===t?"default":t}get _queryObject(){return Wn(this._queryParams)}isEqual(e){if(!((e=(0,i.getModularInstance)(e))instanceof oa))return!1;const t=this._repo===e._repo,n=Ct(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&n&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+_t(this._path)}}function aa(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function la(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ut){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==P)throw new Error(i);if("string"!=typeof t)throw new Error(s)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(i);if("string"!=typeof n)throw new Error(s)}}else if(e.getIndex()===rn){if(null!=t&&!Gr(t)||null!=n&&!Gr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,i.assert)(e.getIndex()instanceof yn||e.getIndex()===Cn,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ha(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}exports._QueryImpl=oa;class ca extends oa{constructor(e,t){super(e,t,new Pn,!1)}get parent(){const e=ft(this._path);return null===e?null:new ca(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}exports._ReferenceImpl=ca;class ua{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new at(e),n=pa(this.ref,e);return new ua(this._node.getChild(t),n,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new ua(n,pa(this.ref,t),rn)))}hasChild(e){const t=new at(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function da(e,t){return(e=(0,i.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?pa(e._root,t):e._root}function _a(e,t){(e=(0,i.getModularInstance)(e))._checkNotDeleted("refFromURL");const n=Jo(t,e._repo.repoInfo_.nodeAdmin);ro("refFromURL",n);const s=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||s.host===e._repo.repoInfo_.host||b("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+e._repo.repoInfo_.host+")"),da(e,n.path.toString())}function pa(e,t){return null===ht((e=(0,i.getModularInstance)(e))._path)?io("child","path",t,!1):no("child","path",t,!1),new ca(e._repo,mt(e._path,t))}function fa(e){return e=(0,i.getModularInstance)(e),new ra(e._repo,e._path)}function ma(e,t){e=(0,i.getModularInstance)(e),so("push",e._path),$r("push",t,e._path,!0);const n=go(e._repo),s=ta(n),r=pa(e,s),o=pa(e,s);let a;return a=null!=t?ya(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function ga(e){return so("remove",e._path),ya(e,null)}function ya(e,t){e=(0,i.getModularInstance)(e),so("set",e._path),$r("set",t,e._path,!1);const n=new i.Deferred;return ko(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function va(e,t){e=(0,i.getModularInstance)(e),so("setPriority",e._path),eo("setPriority",t,!1);const n=new i.Deferred;return ko(e._repo,mt(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function Ca(e,t,n){if(so("setWithPriority",e._path),$r("setWithPriority",t,e._path,!1),eo("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const s=new i.Deferred;return ko(e._repo,e._path,t,n,s.wrapCallback(()=>{})),s.promise}function wa(e,t){Zr("update",t,e._path,!1);const n=new i.Deferred;return Eo(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Ta(e){e=(0,i.getModularInstance)(e);const t=new sa(()=>{}),n=new Ia(t);return bo(e._repo,e,n).then(t=>new ua(t,new ca(e._repo,e._path),e._queryParams.getIndex()))}exports.DataSnapshot=ua;class Ia{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new na("value",this,new ua(e.snapshotNode,new ca(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ia(this,e,t):null}matches(e){return e instanceof Ia&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ba{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ia(this,e,t):null}createEvent(e,t){(0,i.assert)(null!=e.childName,"Child events should have a childName.");const n=pa(new ca(t._repo,t._path),e.childName),s=t._queryParams.getIndex();return new na(e.type,this,new ua(e.snapshotNode,n,s),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ba&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ka(e,t,n,i,s){let r;if("object"==typeof i&&(r=void 0,s=i),"function"==typeof i&&(r=i),s&&s.onlyOnce){const t=n,i=(n,i)=>{Ao(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const o=new sa(n,r||void 0),a="value"===t?new Ia(o):new ba(t,o);return Do(e._repo,e,a),()=>Ao(e._repo,e,a)}function Ea(e,t,n,i){return ka(e,"value",t,n,i)}function Sa(e,t,n,i){return ka(e,"child_added",t,n,i)}function xa(e,t,n,i){return ka(e,"child_changed",t,n,i)}function Pa(e,t,n,i){return ka(e,"child_moved",t,n,i)}function Na(e,t,n,i){return ka(e,"child_removed",t,n,i)}function Ra(e,t,n){let i=null;const s=n?new sa(n):null;"value"===t?i=new Ia(s):t&&(i=new ba(t,s)),Ao(e._repo,e,i)}class Da{}exports.QueryConstraint=Da;class Aa extends Da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){$r("endAt",this._value,e._path,!0);const t=qn(e._queryParams,this._value,this._key);if(ha(t),la(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}function Ma(e,t){return to("endAt","key",t,!0),new Aa(e,t)}class qa extends Da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){$r("endBefore",this._value,e._path,!1);const t=Fn(e._queryParams,this._value,this._key);if(ha(t),la(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}function Fa(e,t){return to("endBefore","key",t,!0),new qa(e,t)}class La extends Da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){$r("startAt",this._value,e._path,!0);const t=An(e._queryParams,this._value,this._key);if(ha(t),la(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}function Oa(e=null,t){return to("startAt","key",t,!0),new La(e,t)}class Wa extends Da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){$r("startAfter",this._value,e._path,!1);const t=Mn(e._queryParams,this._value,this._key);if(ha(t),la(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}function Ua(e,t){return to("startAfter","key",t,!0),new Wa(e,t)}class Ba extends Da{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,Rn(e._queryParams,this._limit),e._orderByCalled)}}function ja(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ba(e)}class Ha extends Da{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,Dn(e._queryParams,this._limit),e._orderByCalled)}}function Va(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ha(e)}class za extends Da{constructor(e){super(),this._path=e}_apply(e){aa(e,"orderByChild");const t=new at(this._path);if(gt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new yn(t),i=Ln(e._queryParams,n);return la(i),new oa(e._repo,e._path,i,!0)}}function Ya(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return no("orderByChild","path",e,!1),new za(e)}class Qa extends Da{_apply(e){aa(e,"orderByKey");const t=Ln(e._queryParams,Ut);return la(t),new oa(e._repo,e._path,t,!0)}}function Ka(){return new Qa}class Ga extends Da{_apply(e){aa(e,"orderByPriority");const t=Ln(e._queryParams,rn);return la(t),new oa(e._repo,e._path,t,!0)}}function $a(){return new Ga}class Xa extends Da{_apply(e){aa(e,"orderByValue");const t=Ln(e._queryParams,Cn);return la(t),new oa(e._repo,e._path,t,!0)}}function Ja(){return new Xa}class Za extends Da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if($r("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Aa(this._value,this._key)._apply(new La(this._value,this._key)._apply(e))}}function el(e,t){return to("equalTo","key",t,!0),new Za(e,t)}function tl(e,...t){let n=(0,i.getModularInstance)(e);for(const i of t)n=i._apply(n);return n}Ds(ca),zs(ca);const nl="FIREBASE_DATABASE_EMULATOR_HOST",il={};let sl=!1;function rl(e,t,n,i){e.repoInfo_=new le(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function ol(t,n,i,s,r){let o=s||t.options.databaseURL;void 0===o&&(t.options.projectId||b("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a,l=Jo(o,r),h=l.repoInfo,c=void 0;void 0!==e&&e.env&&(c=e.env[nl]),c?(a=!0,o=`http://${c}?ns=${h.namespace}`,h=(l=Jo(o,r)).repoInfo):a=!l.repoInfo.secure;const u=r&&a?new $($.OWNER):new G(t.name,t.options,n);ro("Invalid Firebase Database URL",l),gt(l.path)||b("Database URL must point to the root of a Firebase Database (not including a child path).");const d=ll(h,t,u,new K(t.name,i));return new cl(d,t)}function al(e,t){const n=il[t];n&&n[e.key]===e||b(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Mo(e),delete n[e.key]}function ll(e,t,n,i){let s=il[t.name];s||(s={},il[t.name]=s);let r=s[e.toURLString()];return r&&b("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new fo(e,sl,n,i),s[e.toURLString()]=r,r}function hl(e){sl=e}class cl{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mo(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ca(this._repo,lt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(al(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&b("Cannot call "+e+" on a deleted database.")}}function ul(){Ue.IS_TRANSPORT_INITIALIZED&&k("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dl(){ul(),Me.forceDisallow()}function _l(){ul(),We.forceDisallow(),Me.forceAllow()}function pl(e=(0,t.getApp)(),n){const s=(0,t._getProvider)(e,"database").getImmediate({identifier:n});if(!s._instanceStarted){const e=(0,i.getDefaultEmulatorHostnameAndPort)("database");e&&fl(s,...e)}return s}function fl(e,t,n,s={}){(e=(0,i.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&b("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let o=void 0;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&b('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new $($.OWNER);else if(s.mockUserToken){const t="string"==typeof s.mockUserToken?s.mockUserToken:(0,i.createMockUserToken)(s.mockUserToken,e.app.options.projectId);o=new $(t)}rl(r,t,n,o)}function ml(e){(e=(0,i.getModularInstance)(e))._checkNotDeleted("goOffline"),Mo(e._repo)}function gl(e){(e=(0,i.getModularInstance)(e))._checkNotDeleted("goOnline"),qo(e._repo)}function yl(e,t){C(e,t)}function vl(e){l(t.SDK_VERSION),(0,t._registerComponent)(new n.Component("database",(e,{instanceIdentifier:t})=>{return ol(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)},"PUBLIC").setMultipleInstances(!0)),(0,t.registerVersion)(r,o,e),(0,t.registerVersion)(r,o,"esm2017")}exports.Database=cl;const Cl={".sv":"timestamp"};function wl(){return Cl}function Tl(e){return{".sv":{increment:e}}}class Il{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function bl(e,t,n){var s;if(e=(0,i.getModularInstance)(e),so("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(s=null==n?void 0:n.applyLocally)||void 0===s||s,o=new i.Deferred,a=Ea(e,()=>{});return Oo(e._repo,e._path,t,(t,n,i)=>{let s=null;t?o.reject(t):(s=new ua(i,new ca(e._repo,e._path),rn),o.resolve(new Il(n,s)))},a,r),o.promise}exports.TransactionResult=Il,qt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};const kl=function(e){const t=qt.prototype.put;return qt.prototype.put=function(n,i,s,r){void 0!==r&&(r=e()),t.call(this,n,i,s,r)},function(){qt.prototype.put=t}};exports._TEST_ACCESS_hijackHash=kl;const El=function(e){hl(e)};exports._TEST_ACCESS_forceRestClient=El,vl();
},{"@firebase/app":"h2Mb","@firebase/component":"vhY9","@firebase/util":"chA2","@firebase/logger":"JJem","process":"pBGv"}],"o4fG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@firebase/database");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});
},{"@firebase/database":"Q6BU"}],"BNjD":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,n=arguments[3];!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof e&&e.amd?e([],t):("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).basicLightbox=t()}(function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var a="function"==typeof require&&require;if(!u&&a)return a(c,!0);if(i)return i(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[c]={exports:{}};n[c][0].call(l.exports,function(e){return r(n[c][1][e]||e)},l,l.exports,e,n,t,o)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement("div");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i,t.create=function(e,n){var t=function(e,n){var t=o('\n\t\t<div class="basicLightbox '.concat(n.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=t.querySelector(".basicLightbox__placeholder");e.forEach(function(e){return i.appendChild(e)});var c=r(i,"IMG"),u=r(i,"VIDEO"),a=r(i,"IFRAME");return!0===c&&t.classList.add("basicLightbox--img"),!0===u&&t.classList.add("basicLightbox--video"),!0===a&&t.classList.add("basicLightbox--iframe"),t}(e=function(e){var n="string"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error("Content must be a DOM element/node or string");return!0===n?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove("basicLightbox--visible"),setTimeout(function(){return!1===i(e)||e.parentElement.removeChild(e),n()},410),!0}(t,function(){if("function"==typeof e)return e(u)})};!0===n.closable&&t.addEventListener("click",function(e){e.target===t&&c()});var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout(function(){requestAnimationFrame(function(){return e.classList.add("basicLightbox--visible"),n()})},10),!0}(t,function(){if("function"==typeof e)return e(u)})},close:c};return u}},{}]},{},[1])(1)});
},{}],"yBio":[function(require,module,exports) {

},{}],"EGsz":[function(require,module,exports) {
"use strict";function e(){return{form:document.querySelector(".search-form"),gallery:document.querySelector(".gallery"),btnAddWatched:document.querySelector(".watched"),btnAddQueue:document.querySelector(".queue"),libraryPage:document.querySelector(".library-link"),btnSectionInLibrary:document.querySelector(".btn-section"),homePage:document.querySelector(".home-link"),headerByClass:document.querySelector(".header"),headerByTeg:document.querySelector("header"),search:document.querySelector(".search-list"),searchItem:document.querySelector(".search-item"),searchInput:document.querySelector(".search_input"),pagination:document.querySelector(".tui-pagination"),openSignInModalBtn:document.querySelector("#openSignInModalBtn"),logoutBtn:document.querySelector("#logoutBtn"),userDetails:document.querySelector("#userDetails"),slider:document.querySelector(".slider"),sliderContainer:document.querySelector(".slider-container"),goUpBtn:document.querySelector(".go-up"),maskLoader:document.querySelector(".mask"),prevSliderBtn:document.querySelector('.tns-controls button[data-controls="prev"]'),nextSliderBtn:document.querySelector('button[data-controls="next"]')}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Eqso":[function(require,module,exports) {
module.exports={genres:[{id:28,name:{"en-US":"Action","uk-UA":"Бойовик","ru-RU":"Боевик"}},{id:12,name:{"en-US":"Adventure","uk-UA":"Пригоди","ru-RU":"Приключения"}},{id:16,name:{"en-US":"Animation","uk-UA":"Анімація","ru-RU":"Анимация"}},{id:35,name:{"en-US":"Comedy","uk-UA":"Комедія","ru-RU":"Комедия"}},{id:80,name:{"en-US":"Crime","uk-UA":"Злочини","ru-RU":"Преступления"}},{id:99,name:{"en-US":"Documentary","uk-UA":"Документальний","ru-RU":"Документальный"}},{id:18,name:{"en-US":"Drama","uk-UA":"Драма","ru-RU":"Драма"}},{id:10751,name:{"en-US":"Family","uk-UA":"Сімейний","ru-RU":"Семейный"}},{id:14,name:{"en-US":"Fantasy","uk-UA":"Фантастика","ru-RU":"Фантастика"}},{id:36,name:{"en-US":"History","uk-UA":"Історичний","ru-RU":"Исторический"}},{id:27,name:{"en-US":"Horror","uk-UA":"Жахи","ru-RU":"Ужасы"}},{id:10402,name:{"en-US":"Music","uk-UA":"Мюзикл","ru-RU":"Мюзикл"}},{id:9648,name:{"en-US":"Mystery","uk-UA":"Містика","ru-RU":"Мистика"}},{id:10749,name:{"en-US":"Romance","uk-UA":"Романтика","ru-RU":"Романтика"}},{id:878,name:{"en-US":"Science fiction","uk-UA":"Наукова фантастика","ru-RU":"Научная фантастика"}},{id:10770,name:{"en-US":"TV Movie","uk-UA":"Серіал","ru-RU":"Сериал"}},{id:53,name:{"en-US":"Thriller","uk-UA":"Трилер","ru-RU":"Триллер"}},{id:10752,name:{"en-US":"War","uk-UA":"Про війну","ru-RU":"Военный"}},{id:37,name:{"en-US":"Western","uk-UA":"Вестерн","ru-RU":"Вестерн"}}]};
},{}],"yjxO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../genres/genres.json"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){return e.map(e=>t.genres.filter(t=>t.id===e)).flat()}function r(t){const r=[],l=n(t,e.default);for(let e of l){let t=localStorage.getItem("lang");null===t&&(t="en-US"),r.push(e.name[t])}return 0===r.length?"No data":r.length<2?r.join(", "):r.slice(0,2).join(", ")+", "+o()}function o(){const e=localStorage.getItem("lang");return e&&"en-US"!==e?"uk-UA"===e?"Інші":"ru-RU"===e?"Другие":void 0:"Other"}
},{"../genres/genres.json":"Eqso"}],"t9LP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=s(require("../js/get-refs")),n=s(require("./genres/create-genres"));function s(e){return e&&e.__esModule?e:{default:e}}const i=(0,e.default)();function r(e){const s=e.map(({poster_path:e,title:s,genre_ids:i,release_date:r,id:p,vote_average:c})=>{const d=(0,n.default)(i);return`\n      <div class="movie-card">\n        <a href="javascript:void(0)" class="movie-link">\n          <div class="movie-poster-wrapper">\n            <span class="movie-rating-wrapper">            \n              <div class="movie-rating">${c}</div>\n            </span>\n            <picture>\n                <source srcset="\n                ${t(e,"original")} 1x,\n                ${t(e,"original")} 2x\n                " \n                media="(min-width: 1024px)"\n                >\n                <source srcset="\n                ${t(e,"w500")} 1x,\n                ${t(e,"w500")} 2x\n                " \n                media="(min-width: 768px)"\n                >\n              <source srcset="\n                ${t(e,"w300")} 1x,\n                ${t(e,"w300")} 2x\n                " \n                >\n\n              <img src="${t(e,"w300")}" \n              alt=""\n              class="movie-card-img movie-poster"\n              data-id="${p}" \n              loading="lazy"/>\n            </picture>\n          </div>\n          <div class="movie-info">\n            <p class="movie-title">${o(s.toUpperCase())}</p>\n            <div class="movie-genres-year-wrapper">\n              <span class="movie-genres">${o(d)}</span>\n              <div class="movie-year-wrapper">\n                <span class="movie-years">${a(r)}</span>\n              </div>\n          </div>\n          </div>\n        </a>\n      </div>`}).join("");i.gallery.insertAdjacentHTML("beforeend",s)}function t(e,n){return null===e?"https://wipfilms.net/wp-content/data/posters/tt0338683.jpg":`https://image.tmdb.org/t/p/${n}${e}`}function a(e){return e?e.slice(0,4):"No data"}function o(e){return e.length>33?`${e.substring(0,30)} <span class="string">...</span>`:e}
},{"../js/get-refs":"EGsz","./genres/create-genres":"yjxO"}],"NFa6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onModalBtnsRenderingPageFromPageSwitcher=d;var e=n(require("../js/get-refs")),t=n(require("./movies-grid"));function n(e){return e&&e.__esModule?e:{default:e}}const r=(0,e.default)(),a={watchedBtnEl:document.querySelector(".btn-watched"),queueBtnEl:document.querySelector(".btn-queue")};function i(e){try{const n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(t){console.error("Get state error: Error")}}function c(e){return i(e).map(e=>(e.genre_ids=e.genres.map(e=>e.id),e))}function l(e){r.slider.innerHTML="",r.sliderContainer.innerHTML="",r.gallery.innerHTML="",(0,t.default)(c(e))}function s(){o()}function u(){l("watched"),a.watchedBtnEl.classList.add("library-btn-active"),a.queueBtnEl.classList.remove("library-btn-active")}function o(){l("queue"),a.queueBtnEl.classList.add("library-btn-active"),a.watchedBtnEl.classList.remove("library-btn-active")}function d(){const e=a.watchedBtnEl.classList.contains("library-btn-active");a.queueBtnEl.classList.contains("library-btn-active")?l("queue"):e&&l("watched")}r.libraryPage.addEventListener("click",()=>{s()}),a.watchedBtnEl.addEventListener("click",()=>{u()}),a.queueBtnEl.addEventListener("click",()=>{o()});
},{"../js/get-refs":"EGsz","./movies-grid":"t9LP"}],"nUSU":[function(require,module,exports) {
"use strict";function e(e){const t=localStorage.getItem("lang");return t&&"en-US"!==t?"uk-UA"===t?e.ua:"ru-RU"===t?e.ru:void 0:e.en}Object.defineProperty(exports,"__esModule",{value:!0}),exports.translateMsg=e;
},{}],"ANiD":[function(require,module,exports) {
module.exports={apifilms:{failure:{en:"Ooops, nothing was found",ua:"Йой, нічого не знайдено",ru:"не-а, давай ещё раз"}},watched:{failure:{en:"Film removed from watched",ua:"Фільм видалено з переглянутих",ru:"Фильм удалён из просмотренных"},success:{en:"Film added to watched",ua:"Фільм додано до переглянутих",ru:"Фильм добавлен к просмотренным"}},queue:{failure:{en:"Film removed from queue",ua:"Фільм видалено з обраних",ru:"Фильм удалён из избранных"},success:{en:"Film added to queue",ua:"Фільм додано до обраних",ru:"Фильм добавлен к избранным"}},auth:{failure:{en:"Oops, something went wrong!",ua:"Щось пішло не так",ru:"Не сработало"},created:{en:"User created",ua:"Користувача створено",ru:"Пользователь создан"},login:{en:"User logged",ua:"Користувача авторизовано",ru:"Пользователь авторизирован"},loginFail:{en:"Wrong username or password",ua:"Невірне ім'я або пароль",ru:"Неправильное имя или пароль"},logout:{en:"User logged out",ua:"Користувач вийшов",ru:"Пользователь вышел"},logwith:{google:{en:"User logged in with Google",ua:"Користувач авторизувався через Google",ru:"Пользователь авторизировался через Google"},facebook:{en:"User logged in with Facebook",ua:"Користувач авторизувався через Facebook",ru:"Пользователь авторизировался через Facebook"},github:{en:"User logged in with Github",ua:"Користувач авторизувався через Github",ru:"Пользователь авторизировался через Github"}}}};
},{}],"fGCG":[function(require,module,exports) {
module.exports={watch:{add:{en:"add to watched",ua:"додати до переглянутих",ru:"добавить в просмотренные"},remove:{en:"remove from watched",ua:"видалити з переглянутих",ru:"удалить из просмотренных"}},queue:{add:{en:"add to queue",ua:"додати до обраного",ru:"добавить в избранное"},remove:{en:"remove from queue",ua:"видалити з обраного",ru:"удалить из избранных"}}};
},{}],"ulFI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onModalBtnQueueLocalStorage=m,exports.onModalBtnWatchedLocalStorage=p;var e=require("notiflix/build/notiflix-notify-aio"),t=require("./page-switcher"),s=require("./translate"),a=n(require("./languages/notiflix.json")),r=n(require("./languages/buttons-text.json"));function n(e){return e&&e.__esModule?e:{default:e}}const i=a.default.watched.failure,o=a.default.watched.success,l=a.default.queue.failure,d=a.default.queue.success,c=r.default.watch.add,g=r.default.watch.remove,u=r.default.queue.add,f=r.default.queue.remove;function p(a,r,n,l){a.addEventListener("click",a=>{a.target.classList.contains("pressed")||(a.target.classList.remove("pressed"),a.target.textContent=(0,s.translateMsg)(u),l.splice(l.findIndex(e=>e.id===r.id),1),localStorage.setItem("queue",JSON.stringify(l))),a.target.classList.contains("pressed")?(a.target.classList.remove("pressed"),a.target.textContent=(0,s.translateMsg)(c),n.splice(n.findIndex(e=>e.id===r.id),1),localStorage.setItem("watched",JSON.stringify(n)),setTimeout(()=>e.Notify.failure((0,s.translateMsg)(i)),250),(0,t.onModalBtnsRenderingPageFromPageSwitcher)()):(a.target.classList.add("pressed"),a.target.textContent=(0,s.translateMsg)(g),n.push(r),localStorage.setItem("watched",JSON.stringify(n)),(0,t.onModalBtnsRenderingPageFromPageSwitcher)(),setTimeout(()=>e.Notify.success((0,s.translateMsg)(o)),250))})}function m(a,r,n,i){a.addEventListener("click",a=>{a.target.classList.contains("pressed")||(a.target.classList.remove("pressed"),a.target.textContent=(0,s.translateMsg)(u),i.splice(i.findIndex(e=>e.id===r.id),1),localStorage.setItem("watched",JSON.stringify(i))),a.target.classList.contains("pressed")?(a.target.classList.remove("pressed"),a.target.textContent=(0,s.translateMsg)(u),n.splice(n.findIndex(e=>e.id===r.id),1),localStorage.setItem("queue",JSON.stringify(n)),setTimeout(()=>e.Notify.failure((0,s.translateMsg)(l)),250),(0,t.onModalBtnsRenderingPageFromPageSwitcher)()):(a.target.classList.add("pressed"),a.target.textContent=(0,s.translateMsg)(f),n.push(r),localStorage.setItem("queue",JSON.stringify(n)),(0,t.onModalBtnsRenderingPageFromPageSwitcher)(),setTimeout(()=>e.Notify.success((0,s.translateMsg)(d)),250))})}
},{"notiflix/build/notiflix-notify-aio":"MeeU","./page-switcher":"NFa6","./translate":"nUSU","./languages/notiflix.json":"ANiD","./languages/buttons-text.json":"fGCG"}],"dMVB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l,exports.watched=exports.queue=void 0;var t=require("./modal-btns-loca-storage"),e=o(require("basiclightbox"));function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(n=function(t){return t?o:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=n(e);if(o&&o.has(t))return o.get(t);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if("default"!==d&&Object.prototype.hasOwnProperty.call(t,d)){var s=r?Object.getOwnPropertyDescriptor(t,d):null;s&&(s.get||s.set)?Object.defineProperty(a,d,s):a[d]=t[d]}return a.default=t,o&&o.set(t,a),a}require("../../node_modules/basiclightbox/src/styles/main.scss");let a=localStorage.getItem("watched")?[...JSON.parse(localStorage.getItem("watched"))]:[];exports.watched=a;let r=localStorage.getItem("queue")?[...JSON.parse(localStorage.getItem("queue"))]:[];exports.queue=r;let d="",s="";function l(n){const{genres:o,title:l,vote_average:i,vote_count:u,poster_path:c,popularity:p,original_title:b,overview:f}=n,m=o.map(t=>t.name).join(", ");d=-1!==a.findIndex(t=>t.id===n.id)?'<button type="button" class="button-add btn-animated wathed pressed" data-key="remove-watched">remove from Watched</button>':'<button type="button" class="button-add wathed" data-key="add-watched">add to Watched</button>',s=-1!==r.findIndex(t=>t.id===n.id)?'<button type="button" class="button-add btn-animated queue pressed" data-key="remove-queue">remove from queue</button>':'<button type="button" class="button-add queue" data-key="add-queue">add to queue</button>';e.create(`<div class="modal modal-container"> \n           <button type="button" class="btn-close">\n           <svg width="30" height="30" fill="none" xmlns="http://www.w3.org/2000/svg" style="position: absolute"><path d="m8 8 14 14M8 22 22 8" stroke="#000" stroke-width="2"/></svg>\n           </button>\n           <div class="modal-card">\n        <div class="modal-image">\n          <img src="${function(t){if(null===t)return"https://wipfilms.net/wp-content/data/posters/tt0338683.jpg";return`https://image.tmdb.org/t/p/w300${c}`}(c)}" alt="movie-poster" class="movie-poster" />\n          <button type="button" class="btn-open-trailer">\n\n        </button>\n        </div>\n        <div class="modal-info">\n          <h2 class="modal-info-title">${l}</h2>\n           <table>\n        <tr>\n          <th class="info-table-td" data-key="vote">Vote / Votes</td>\n          <td> <span class="info-table-vote_average">${i}</span>/<span class="info-table-vote_count"> ${u} </span></td>\n        </tr>\n        <tr>\n          <th class="info-table-td" data-key="popularity">Popularity</td>\n          <td>${p}</td>\n        </tr>\n        <tr>\n          <th class="info-table-td" data-key="original-title">Original Title</td>\n          <td class="info-table-original_title" valign="bottom">${b}</td>\n        </tr>\n        <tr>\n          <th class="info-table-td" data-key="genre">Genre</td>\n          <td>${m}</td>\n        </tr>\n      </table>\n            <h3 class="modal-about" data-key="about">ABOUT</h3>\n            <p class="modal-info-about">${f}</p>\n        <div class="modal-btn-container">\n          ${d}\n          ${s}\n        </div>\n        </div>\n      </div>\n    </div>\n  `,{onShow:t=>{document.addEventListener("keydown",function(e){"Escape"===e.code&&t.close()}),t.element().querySelector(".btn-close").onclick=t.close},onClose:t=>{document.removeEventListener("keydown",function(e){"Escape"===e.code&&t.close()})}}).show();const v=document.querySelector(".wathed"),g=document.querySelector(".queue");(0,t.onModalBtnWatchedLocalStorage)(v,n,a,r),(0,t.onModalBtnQueueLocalStorage)(g,n,r,a)}
},{"./modal-btns-loca-storage":"ulFI","basiclightbox":"BNjD","../../node_modules/basiclightbox/src/styles/main.scss":"yBio"}],"xLw6":[function(require,module,exports) {
"use strict";function t(o){return exports.default=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"VEjx":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"e6xy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./typeof.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if("object"!==(0,e.default)(r)||null===r)return r;var u=r[Symbol.toPrimitive];if(void 0!==u){var i=u.call(r,t||"default");if("object"!==(0,e.default)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}
},{"./typeof.js":"xLw6"}],"JGj9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=r(require("./typeof.js")),t=r(require("./toPrimitive.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){var u=(0,t.default)(r,"string");return"symbol"===(0,e.default)(u)?u:String(u)}
},{"./typeof.js":"xLw6","./toPrimitive.js":"e6xy"}],"l5p4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=r(require("./toPropertyKey.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){for(var o=0;o<t.length;o++){var u=t[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,(0,e.default)(u.key),u)}}function o(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}
},{"./toPropertyKey.js":"JGj9"}],"bk0i":[function(require,module,exports) {
"use strict";function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hewo":[function(require,module,exports) {
"use strict";function t(e,o){return exports.default=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"NT06":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./setPrototypeOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&(0,e.default)(t,r)}
},{"./setPrototypeOf.js":"hewo"}],"aBEI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=t(require("./typeof.js")),r=t(require("./assertThisInitialized.js"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t,o){if(o&&("object"===(0,e.default)(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.default)(t)}
},{"./typeof.js":"xLw6","./assertThisInitialized.js":"bk0i"}],"QQCW":[function(require,module,exports) {
"use strict";function t(e){return exports.default=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"gpd2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./toPropertyKey.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t,u){return(t=(0,e.default)(t))in r?Object.defineProperty(r,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[t]=u,r}
},{"./toPropertyKey.js":"JGj9"}],"EbiA":[function(require,module,exports) {
"use strict";function e(e){if(Array.isArray(e))return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"bG0g":[function(require,module,exports) {
"use strict";function e(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"rI22":[function(require,module,exports) {
"use strict";function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"AOxl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=r(require("./arrayLikeToArray.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if(r){if("string"==typeof r)return(0,e.default)(r,t);var o=Object.prototype.toString.call(r).slice(8,-1);return"Object"===o&&r.constructor&&(o=r.constructor.name),"Map"===o||"Set"===o?Array.from(r):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?(0,e.default)(r,t):void 0}}
},{"./arrayLikeToArray.js":"rI22"}],"Kh3j":[function(require,module,exports) {
"use strict";function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"XSHU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=a(require("./arrayWithHoles.js")),r=a(require("./iterableToArray.js")),t=a(require("./unsupportedIterableToArray.js")),u=a(require("./nonIterableRest.js"));function a(e){return e&&e.__esModule?e:{default:e}}function l(a){return(0,e.default)(a)||(0,r.default)(a)||(0,t.default)(a)||(0,u.default)()}
},{"./arrayWithHoles.js":"EbiA","./iterableToArray.js":"bG0g","./unsupportedIterableToArray.js":"AOxl","./nonIterableRest.js":"Kh3j"}],"yzJ1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.use=exports.t=exports.setDefaultNamespace=exports.reloadResources=exports.loadResources=exports.loadNamespaces=exports.loadLanguages=exports.init=exports.hasLoadedNamespace=exports.getFixedT=exports.exists=exports.default=exports.createInstance=exports.changeLanguage=void 0;var e=l(require("@babel/runtime/helpers/esm/typeof")),t=l(require("@babel/runtime/helpers/esm/classCallCheck")),n=l(require("@babel/runtime/helpers/esm/createClass")),r=l(require("@babel/runtime/helpers/esm/assertThisInitialized")),o=l(require("@babel/runtime/helpers/esm/inherits")),i=l(require("@babel/runtime/helpers/esm/possibleConstructorReturn")),a=l(require("@babel/runtime/helpers/esm/getPrototypeOf")),s=l(require("@babel/runtime/helpers/esm/defineProperty")),u=l(require("@babel/runtime/helpers/esm/toArray"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},g=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,t.default)(this,e),this.init(n,r)}return(0,n.default)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||p,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,f(f({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),h=new g,d=function(){function e(){(0,t.default)(this,e),this.observers={}}return(0,n.default)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})}}]),e}();function v(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function y(e){return null==e?"":""+e}function m(e,t,n){e.forEach(function(e){t[e]&&(n[e]=t[e])})}function b(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function O(e,t,n){var r=b(e,t,Object);r.obj[r.k]=n}function k(e,t,n,r){var o=b(e,t,Object),i=o.obj,a=o.k;i[a]=i[a]||[],r&&(i[a]=i[a].concat(n)),r||i[a].push(n)}function x(e,t){var n=b(e,t),r=n.obj,o=n.k;if(r)return r[o]}function w(e,t,n){var r=x(e,n);return void 0!==r?r:x(t,n)}function S(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):S(e[r],t[r],n):e[r]=t[r]);return e}function j(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function L(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return P[e]}):e}var R="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,N=[" ",",","?","!",";"];function C(e,t,n){t=t||"",n=n||"";var r=N.filter(function(e){return t.indexOf(e)<0&&n.indexOf(e)<0});if(0===r.length)return!0;var o=new RegExp("(".concat(r.map(function(e){return"?"===e?"\\?":e}).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e){var t=I();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),o=e,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),u=o[s];void 0===u&&r.length>i+a;)a++,u=o[s=r.slice(i,i+a).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s]}var l=r.slice(i+a).join(n);return l?T(u,l,n):void 0}o=o[r[i]]}return o}}var V=function(e){(0,o.default)(a,e);var i=F(a);function a(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,t.default)(this,a),n=i.call(this),R&&d.call((0,r.default)(n)),n.data=e||{},n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return(0,n.default)(a,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=x(this.data,a);return s||!i||"string"!=typeof n?s:T(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),O(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=x(this.data,a)||{};r?S(s,n,o):s=D(D({},s),n),O(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?D(D({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&Object.keys(t[e]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),a}(d),A={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach(function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))}),t}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e){var t=M();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var H={},q=function(i){(0,o.default)(s,i);var a=B(s);function s(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,t.default)(this,s),n=a.call(this),R&&d.call((0,r.default)(n)),m(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,r.default)(n)),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=h.create("translator"),n}return(0,n.default)(s,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||C(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(t,n,r){var o=this;if("object"!==(0,e.default)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,u=this.extractFromKey(t[t.length-1],n),l=u.key,c=u.namespaces,f=c[c.length-1],p=n.lng||this.language,g=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(g){var h=n.nsSeparator||this.options.nsSeparator;return i?(d.res="".concat(f).concat(h).concat(l),d):"".concat(f).concat(h).concat(l)}return i?(d.res=l,d):l}var d=this.resolve(t,n),v=d&&d.res,y=d&&d.usedKey||l,m=d&&d.exactUsedKey||l,b=Object.prototype.toString.apply(v),O=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&v&&("string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(b)<0&&("string"!=typeof O||"[object Array]"!==b)){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,v,K(K({},n),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return i?(d.res=x,d):x}if(a){var w="[object Array]"===b,S=w?[]:{},j=w?m:y;for(var P in v)if(Object.prototype.hasOwnProperty.call(v,P)){var L="".concat(j).concat(a).concat(P);S[P]=this.translate(L,K(K({},n),{joinArrays:!1,ns:c})),S[P]===L&&(S[P]=v[P])}v=S}}else if(k&&"string"==typeof O&&"[object Array]"===b)(v=v.join(O))&&(v=this.extendTranslation(v,t,n,r));else{var R=!1,N=!1,C=void 0!==n.count&&"string"!=typeof n.count,E=s.hasDefaultValue(n),D=C?this.pluralResolver.getSuffix(p,n.count,n):"",F=n["defaultValue".concat(D)]||n.defaultValue;!this.isValidLookup(v)&&E&&(R=!0,v=F),this.isValidLookup(v)||(N=!0,v=l);var I=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:v,T=E&&F!==v&&this.options.updateMissing;if(N||R||T){if(this.logger.log(T?"updateKey":"missingKey",p,f,l,T?F:v),a){var V=this.resolve(l,K(K({},n),{},{keySeparator:!1}));V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var A=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var B=0;B<U.length;B++)A.push(U[B]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(n.lng||this.language):A.push(n.lng||this.language);var M=function(e,t,r){var i=E&&r!==v?r:I;o.options.missingKeyHandler?o.options.missingKeyHandler(e,f,t,i,T,n):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,f,t,i,T,n),o.emit("missingKey",e,f,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?A.forEach(function(e){o.pluralResolver.getSuffixes(e,n).forEach(function(t){M([e],l+t,n["defaultValue".concat(t)]||F)})}):M(A,l,F))}v=this.extendTranslation(v,t,n,d,r),N&&v===l&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(l)),(N||R)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(l):l,R?v:void 0):this.options.parseMissingKeyHandler(v))}return i?(d.res=v,d):v}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,K(K({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(K(K({},n),{interpolation:K(K({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=K(K({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))},n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=A.handle(p,e,t,this.options&&this.options.postProcessPassResolved?K({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),l=u.key;n=l;var c=u.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,p=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),g=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach(function(e){a.isValidLookup(t)||(i=e,!H["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(H["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(function(n){if(!a.isValidLookup(t)){o=n;var i,u=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,l,n,e,s);else{var c;f&&(c=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(f&&(u.push(l+c),p&&u.push(l+h)),g){var d="".concat(l).concat(a.options.contextSeparator).concat(s.context);u.push(d),f&&(u.push(d+c),p&&u.push(d+h))}}for(;i=u.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}}))})}}),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,"defaultValue".length)&&void 0!==e[t])return!0;return!1}}]),s}(d);function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}var J=function(){function e(n){(0,t.default)(this,e),this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=h.create("languageUtils")}return(0,n.default)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=z(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=z(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=z(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach(function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}}),!t&&this.options.supportedLngs&&e.forEach(function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find(function(e){if(0===e.indexOf(r))return e})}}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach(function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))}),o}}]),e}(),_=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},W=["v1","v2","v3"],Y={zero:0,one:1,two:2,few:3,many:4,other:5};function G(){var e={};return _.forEach(function(t){t.lngs.forEach(function(n){e[n]={numbers:t.nr,plurals:$[t.fc]}})}),e}var Q=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,t.default)(this,e),this.languageUtils=n,this.options=r,this.logger=h.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=G()}return(0,n.default)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort(function(e,t){return Y[e]-Y[t]}).map(function(e){return"".concat(t.options.prepend).concat(e)}):r.numbers.map(function(r){return t.getSuffix(e,r,n)}):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON?i():this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!W.includes(this.options.compatibilityJSON)}}]),e}();function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.default)(this,e),this.logger=h.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(e){return e},this.init(n)}return(0,n.default)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:L,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?j(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?j(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?j(t.nestingPrefix):t.nestingPrefixEscaped||j("$t("),this.nestingSuffix=t.nestingSuffix?j(t.nestingSuffix):t.nestingSuffixEscaped||j(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var o=w(t,u,e);return s.alwaysFormat?s.format(o,void 0,n,Z(Z(Z({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),l=i.join(s.formatSeparator).trim();return s.format(w(t,u,a),l,n,Z(Z(Z({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach(function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=c(n)))if("function"==typeof f){var u=f(e,o,r);i="string"==typeof u?u:""}else if(r&&r.hasOwnProperty(n))i="";else{if(p){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=y(i));var l=t.safeValue(i);if(e=e.replace(o[0],l),p?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}}),e}},{key:"nest",value:function(e,t){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Z({},i);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var i=(o=this.interpolate(o,a)).match(/'/g),s=o.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),t&&(a=Z(Z({},t),a))}catch(u){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),u),"".concat(e).concat(n).concat(o)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map(function(e){return e.trim()});n[1]=c.shift(),u=c,l=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=y(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=u.reduce(function(e,t){return o.format(e,t,i.lng,Z(Z({},i),{},{interpolationkey:n[1].trim()}))},r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function re(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);if("currency"===t&&o.indexOf(":")<0)n.currency||(n.currency=o.trim());else if("relativetime"===t&&o.indexOf(":")<0)n.range||(n.range=o.trim());else{o.split(";").forEach(function(e){if(e){var t=e.split(":"),r=(0,u.default)(t),o=r[0],i=r.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[o.trim()]||(n[o.trim()]=i),"false"===i&&(n[o.trim()]=!1),"true"===i&&(n[o.trim()]=!0),isNaN(i)||(n[o.trim()]=parseInt(i,10))}})}}return{formatName:t,formatOptions:n}}function oe(e){var t={};return function(n,r,o){var i=r+JSON.stringify(o),a=t[i];return a||(a=e(r,o),t[i]=a),a(n)}}var ie=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.default)(this,e),this.logger=h.create("formatter"),this.options=n,this.formats={number:oe(function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}}),currency:oe(function(e,t){var n=new Intl.NumberFormat(e,ne(ne({},t),{},{style:"currency"}));return function(e){return n.format(e)}}),datetime:oe(function(e,t){var n=new Intl.DateTimeFormat(e,ne({},t));return function(e){return n.format(e)}}),relativetime:oe(function(e,t){var n=new Intl.RelativeTimeFormat(e,ne({},t));return function(e){return n.format(e,t.range||"day")}}),list:oe(function(e,t){var n=new Intl.ListFormat(e,ne({},t));return function(e){return n.format(e)}})},this.init(n)}return(0,n.default)(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=oe(t)}},{key:"format",value:function(e,t,n,r){var o=this;return t.split(this.formatSeparator).reduce(function(e,t){var i=re(t),a=i.formatName,s=i.formatOptions;if(o.formats[a]){var u=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=l.locale||l.lng||r.locale||r.lng||n;u=o.formats[a](e,c,ne(ne(ne({},s),r),l))}catch(f){o.logger.warn(f)}return u}return o.logger.warn("there was no format function for ".concat(a)),e},e)}}]),e}();function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e){var t=le();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}function le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ce(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}var fe=function(e){(0,o.default)(a,e);var i=ue(a);function a(e,n,o){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,t.default)(this,a),s=i.call(this),R&&d.call((0,r.default)(s)),s.backend=e,s.store=n,s.services=o,s.languageUtils=o.languageUtils,s.options=u,s.logger=h.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=u.maxParallelReads||10,s.readingCalls=0,s.maxRetries=u.maxRetries>=0?u.maxRetries:5,s.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(o,u.backend,u),s}return(0,n.default)(a,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},u={};return e.forEach(function(e){var r=!0;t.forEach(function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===u[t]&&(u[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach(function(n){k(n.loaded,[o],i),ce(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach(function(t){void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a}):(this.readingCalls++,this.backend[n](e,t,function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&u&&o<r.maxRetries?setTimeout(function(){r.read.call(r,e,t,n,o+1,2*i,a)},i):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)})}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,se(se({},i),{},{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),a}(d);function pe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if("object"===(0,e.default)(t[1])&&(n=t[1]),"string"==typeof t[1]&&(n.defaultValue=t[1]),"string"==typeof t[2]&&(n.tDescription=t[2]),"object"===(0,e.default)(t[2])||"object"===(0,e.default)(t[3])){var r=t[3]||t[2];Object.keys(r).forEach(function(e){n[e]=r[e]})}return n},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ge(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ve(e){var t=ye();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}function ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function me(){}function be(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}var Oe=function(a){(0,o.default)(u,a);var s=ve(u);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if((0,t.default)(this,u),e=s.call(this),R&&d.call((0,r.default)(e)),e.options=ge(n),e.services={},e.logger=h,e.modules={external:[]},be((0,r.default)(e)),o&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,o),(0,i.default)(e,(0,r.default)(e));setTimeout(function(){e.init(n,o)},0)}return e}return(0,n.default)(u,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=pe();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=de(de(de({},r),this.options),ge(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=de(de({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var i;this.modules.logger?h.init(o(this.modules.logger),this.options):h.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=ie);var a=new J(this.options);this.store=new V(this.options.resources,this.options);var s=this.services;s.logger=h,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new Q(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ee(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new fe(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new q(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}if(this.format=this.options.interpolation.format,n||(n=me),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}});var l=v(),c=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){o.indexOf(e)<0&&o.push(e)})};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return i(e)});this.options.preload&&this.options.preload.forEach(function(e){return i(e)}),this.services.backendConnector.load(o,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)})}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=v();return e||(e=this.languages),t||(t=this.options.ns),n||(n=me),this.services.backendConnector.reload(e,t,function(e){r.resolve(),n(e)}),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&A.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=v();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,function(e){!function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve(function(){return n.t.apply(n,arguments)}),t&&t(e,function(){return n.t.apply(n,arguments)})}(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,n,r){var o=this,i=function t(n,i){var a;if("object"!==(0,e.default)(i)){for(var s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];a=o.options.overloadTranslationOptionHandler([n,i].concat(u))}else a=de({},i);a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,a.keyPrefix=a.keyPrefix||r||t.keyPrefix;var c=o.options.keySeparator||".",f=a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(n):n;return o.t(f,a)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=v();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=v();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter(function(e){return r.indexOf(e)<0});return o.length?(this.options.preload=r.concat(o),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=de(de(de({},this.options),t),{isClone:!0}),o=new u(r);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach(function(t){o[t]=e[t]}),o.services=de({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new q(o.services,o.options),o.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))}),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),u}(d);(0,s.default)(Oe,"createInstance",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Oe(e,t)});var ke=Oe.createInstance();ke.createInstance=Oe.createInstance;var xe=ke.createInstance;exports.createInstance=xe;var we=ke.init;exports.init=we;var Se=ke.loadResources;exports.loadResources=Se;var je=ke.reloadResources;exports.reloadResources=je;var Pe=ke.use;exports.use=Pe;var Le=ke.changeLanguage;exports.changeLanguage=Le;var Re=ke.getFixedT;exports.getFixedT=Re;var Ne=ke.t;exports.t=Ne;var Ce=ke.exists;exports.exists=Ce;var Ee=ke.setDefaultNamespace;exports.setDefaultNamespace=Ee;var De=ke.hasLoadedNamespace;exports.hasLoadedNamespace=De;var Fe=ke.loadNamespaces;exports.loadNamespaces=Fe;var Ie=ke.loadLanguages;exports.loadLanguages=Ie;var Te=ke;exports.default=Te;
},{"@babel/runtime/helpers/esm/typeof":"xLw6","@babel/runtime/helpers/esm/classCallCheck":"VEjx","@babel/runtime/helpers/esm/createClass":"l5p4","@babel/runtime/helpers/esm/assertThisInitialized":"bk0i","@babel/runtime/helpers/esm/inherits":"NT06","@babel/runtime/helpers/esm/possibleConstructorReturn":"aBEI","@babel/runtime/helpers/esm/getPrototypeOf":"QQCW","@babel/runtime/helpers/esm/defineProperty":"gpd2","@babel/runtime/helpers/esm/toArray":"XSHU"}],"plPA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Spinner=void 0;var t=function(){return(t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},e={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},n=function(){function n(n){void 0===n&&(n={}),this.opts=t(t({},e),n)}return n.prototype.spin=function(t){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),i(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),t&&t.insertBefore(this.el,t.firstChild||null),o(this.el,this.opts),this},n.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},n}();function i(t,e){for(var n in e)t.style[n]=e[n];return t}function r(t,e){return"string"==typeof t?t:t[e%t.length]}function o(t,e){var n=Math.round(e.corners*e.width*500)/1e3+"px",o="none";!0===e.shadow?o="0 2px 4px #000":"string"==typeof e.shadow&&(o=e.shadow);for(var d=s(o),p=0;p<e.lines;p++){var h=~~(360/e.lines*p+e.rotate),l=i(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:r(e.fadeColor,p),borderRadius:n,transformOrigin:"left",transform:"rotate("+h+"deg) translateX("+e.radius+"px)"}),u=p*e.direction/e.lines/e.speed;u-=1/e.speed;var c=i(document.createElement("div"),{width:"100%",height:"100%",background:r(e.color,p),borderRadius:n,boxShadow:a(d,h),animation:1/e.speed+"s linear "+u+"s infinite "+e.animation});l.appendChild(c),t.appendChild(l)}}function s(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],i=0,r=t.split(",");i<r.length;i++){var o=r[i].match(e);if(null!==o){var s=+o[2],a=+o[5],d=o[4],p=o[7];0!==s||d||(d=p),0!==a||p||(p=d),d===p&&n.push({prefix:o[1]||"",x:s,y:a,xUnits:d,yUnits:p,end:o[8]})}}return n}function a(t,e){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],s=d(o.x,o.y,e);n.push(o.prefix+s[0]+o.xUnits+" "+s[1]+o.yUnits+o.end)}return n.join(", ")}function d(t,e,n){var i=n*Math.PI/180,r=Math.sin(i),o=Math.cos(i);return[Math.round(1e3*(t*o+e*r))/1e3,Math.round(1e3*(-t*r+e*o))/1e3]}exports.Spinner=n;
},{}],"Sc1o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={lines:15,length:0,width:15,radius:40,scale:1.25,corners:1,speed:1.4,rotate:0,animation:"spinner-line-fade-default",direction:1,color:"#FF6B08",fadeColor:"transparent",top:"42%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"fixed"},t=e;exports.default=t;
},{}],"EDTP":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"S1cf":[function(require,module,exports) {
"use strict";var r=require("./helpers/bind"),t=Object.prototype.toString;function n(r){return Array.isArray(r)}function e(r){return void 0===r}function o(r){return null!==r&&!e(r)&&null!==r.constructor&&!e(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function i(r){return"[object ArrayBuffer]"===t.call(r)}function u(r){return"[object FormData]"===t.call(r)}function c(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&i(r.buffer)}function f(r){return"string"==typeof r}function a(r){return"number"==typeof r}function l(r){return null!==r&&"object"==typeof r}function s(r){if("[object Object]"!==t.call(r))return!1;var n=Object.getPrototypeOf(r);return null===n||n===Object.prototype}function p(r){return"[object Date]"===t.call(r)}function b(r){return"[object File]"===t.call(r)}function y(r){return"[object Blob]"===t.call(r)}function d(r){return"[object Function]"===t.call(r)}function j(r){return l(r)&&d(r.pipe)}function v(r){return"[object URLSearchParams]"===t.call(r)}function m(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function B(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function g(r,t){if(null!=r)if("object"!=typeof r&&(r=[r]),n(r))for(var e=0,o=r.length;e<o;e++)t.call(null,r[e],e,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.call(null,r[i],i,r)}function A(){var r={};function t(t,e){s(r[e])&&s(t)?r[e]=A(r[e],t):s(t)?r[e]=A({},t):n(t)?r[e]=t.slice():r[e]=t}for(var e=0,o=arguments.length;e<o;e++)g(arguments[e],t);return r}function O(t,n,e){return g(n,function(n,o){t[o]=e&&"function"==typeof n?r(n,e):n}),t}function h(r){return 65279===r.charCodeAt(0)&&(r=r.slice(1)),r}module.exports={isArray:n,isArrayBuffer:i,isBuffer:o,isFormData:u,isArrayBufferView:c,isString:f,isNumber:a,isObject:l,isPlainObject:s,isUndefined:e,isDate:p,isFile:b,isBlob:y,isFunction:d,isStream:j,isURLSearchParams:v,isStandardBrowserEnv:B,forEach:g,merge:A,extend:O,trim:m,stripBOM:h};
},{"./helpers/bind":"EDTP"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var o=i.indexOf("#");-1!==o&&(i=i.slice(0,o)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"S1cf"}],"rj2i":[function(require,module,exports) {
"use strict";var n=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(n,e,t){return this.handlers.push({fulfilled:n,rejected:e,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},e.prototype.forEach=function(e){n.forEach(this.handlers,function(n){null!==n&&e(n)})},module.exports=e;
},{"./../utils":"S1cf"}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(s,e,t,i,n){return s.config=e,t&&(s.code=t),s.request=i,s.response=n,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},s};
},{}],"bIiH":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,u){var a=u.config.validateStatus;u.status&&a&&!a(u.status)?s(t("Request failed with status code "+u.status,u.config,null,u.request,u)):e(u)};
},{"./createError":"bIiH"}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"YZjV":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)};
},{}],"a2Uu":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"KxkP":[function(require,module,exports) {
"use strict";var e=require("../helpers/isAbsoluteURL"),r=require("../helpers/combineURLs");module.exports=function(s,u){return s&&!e(u)?r(s,u):u};
},{"../helpers/isAbsoluteURL":"YZjV","../helpers/combineURLs":"a2Uu"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"w7LF":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"mIKj":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/cookies"),n=require("./../helpers/buildURL"),o=require("../core/buildFullPath"),s=require("./../helpers/parseHeaders"),a=require("./../helpers/isURLSameOrigin"),i=require("../core/createError"),u=require("../defaults"),l=require("../cancel/Cancel");module.exports=function(d){return new Promise(function(c,p){var f,m=d.data,g=d.headers,h=d.responseType;function T(){d.cancelToken&&d.cancelToken.unsubscribe(f),d.signal&&d.signal.removeEventListener("abort",f)}e.isFormData(m)&&delete g["Content-Type"];var E=new XMLHttpRequest;if(d.auth){var v=d.auth.username||"",q=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";g.Authorization="Basic "+btoa(v+":"+q)}var b=o(d.baseURL,d.url);function w(){if(E){var e="getAllResponseHeaders"in E?s(E.getAllResponseHeaders()):null,t={data:h&&"text"!==h&&"json"!==h?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:e,config:d,request:E};r(function(e){c(e),T()},function(e){p(e),T()},t),E=null}}if(E.open(d.method.toUpperCase(),n(b,d.params,d.paramsSerializer),!0),E.timeout=d.timeout,"onloadend"in E?E.onloadend=w:E.onreadystatechange=function(){E&&4===E.readyState&&(0!==E.status||E.responseURL&&0===E.responseURL.indexOf("file:"))&&setTimeout(w)},E.onabort=function(){E&&(p(i("Request aborted",d,"ECONNABORTED",E)),E=null)},E.onerror=function(){p(i("Network Error",d,null,E)),E=null},E.ontimeout=function(){var e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",r=d.transitional||u.transitional;d.timeoutErrorMessage&&(e=d.timeoutErrorMessage),p(i(e,d,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",E)),E=null},e.isStandardBrowserEnv()){var R=(d.withCredentials||a(b))&&d.xsrfCookieName?t.read(d.xsrfCookieName):void 0;R&&(g[d.xsrfHeaderName]=R)}"setRequestHeader"in E&&e.forEach(g,function(e,r){void 0===m&&"content-type"===r.toLowerCase()?delete g[r]:E.setRequestHeader(r,e)}),e.isUndefined(d.withCredentials)||(E.withCredentials=!!d.withCredentials),h&&"json"!==h&&(E.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&E.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&E.upload&&E.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(f=function(e){E&&(p(!e||e&&e.type?new l("canceled"):e),E.abort(),E=null)},d.cancelToken&&d.cancelToken.subscribe(f),d.signal&&(d.signal.aborted?f():d.signal.addEventListener("abort",f))),m||(m=null),E.send(m)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/cookies":"dn2M","./../helpers/buildURL":"H6Qo","../core/buildFullPath":"KxkP","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"w7LF","../core/createError":"bIiH","../defaults":"BXyq","../cancel/Cancel":"mIKj"}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("./utils"),t=require("./helpers/normalizeHeaderName"),n=require("./core/enhanceError"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var r;return"undefined"!=typeof XMLHttpRequest?r=require("./adapters/xhr"):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(r=require("./adapters/http")),r}function s(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(e,n){return t(n,"Accept"),t(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||n&&"application/json"===n["Content-Type"]?(a(n,"application/json"),s(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,i=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,o=!i&&"json"===this.responseType;if(o||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw n(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){c.headers[e]={}}),r.forEach(["post","put","patch"],function(e){c.headers[e]=r.merge(i)}),module.exports=c;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./core/enhanceError":"YdsM","./adapters/xhr":"KRuG","./adapters/http":"KRuG","process":"pBGv"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils"),e=require("./../defaults");module.exports=function(t,u,i){var s=this||e;return r.forEach(i,function(r){t=r.call(s,t,u)}),t};
},{"./../utils":"S1cf","./../defaults":"BXyq"}],"V30M":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),a=require("./transformData"),r=require("../cancel/isCancel"),t=require("../defaults"),n=require("../cancel/Cancel");function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new n("canceled")}module.exports=function(n){return s(n),n.headers=n.headers||{},n.data=a.call(n,n.data,n.headers,n.transformRequest),n.headers=e.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete n.headers[e]}),(n.adapter||t.adapter)(n).then(function(e){return s(n),e.data=a.call(n,e.data,e.headers,n.transformResponse),e},function(e){return r(e)||(s(n),e&&e.response&&(e.response.data=a.call(n,e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"V30M","../defaults":"BXyq","../cancel/Cancel":"mIKj"}],"OHvn":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(n,t){t=t||{};var i={};function r(n,t){return e.isPlainObject(n)&&e.isPlainObject(t)?e.merge(n,t):e.isPlainObject(t)?e.merge({},t):e.isArray(t)?t.slice():t}function o(i){return e.isUndefined(t[i])?e.isUndefined(n[i])?void 0:r(void 0,n[i]):r(n[i],t[i])}function s(n){if(!e.isUndefined(t[n]))return r(void 0,t[n])}function a(i){return e.isUndefined(t[i])?e.isUndefined(n[i])?void 0:r(void 0,n[i]):r(void 0,t[i])}function d(e){return e in t?r(n[e],t[e]):e in n?r(void 0,n[e]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:d};return e.forEach(Object.keys(n).concat(Object.keys(t)),function(n){var t=c[n]||o,r=t(n);e.isUndefined(r)&&t!==d||(i[n]=r)}),i};
},{"../utils":"S1cf"}],"xNqU":[function(require,module,exports) {
module.exports={version:"0.25.0"};
},{}],"lsvU":[function(require,module,exports) {
"use strict";var n=require("../env/data").version,e={};["object","boolean","number","function","string","symbol"].forEach(function(n,r){e[n]=function(e){return typeof e===n||"a"+(r<1?"n ":" ")+n}});var r={};function o(n,e,r){if("object"!=typeof n)throw new TypeError("options must be an object");for(var o=Object.keys(n),t=o.length;t-- >0;){var i=o[t],a=e[i];if(a){var s=n[i],u=void 0===s||a(s,i,n);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+i)}}e.transitional=function(e,o,t){function i(e,r){return"[Axios v"+n+"] Transitional option '"+e+"'"+r+(t?". "+t:"")}return function(n,t,a){if(!1===e)throw new Error(i(t," has been removed"+(o?" in "+o:"")));return o&&!r[t]&&(r[t]=!0,console.warn(i(t," has been deprecated since v"+o+" and will be removed in the near future"))),!e||e(n,t,a)}},module.exports={assertOptions:o,validators:e};
},{"../env/data":"xNqU"}],"OvAf":[function(require,module,exports) {
"use strict";var t=require("./../utils"),e=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),i=require("./mergeConfig"),n=require("../helpers/validator"),s=n.validators;function a(t){this.defaults=t,this.interceptors={request:new r,response:new r}}a.prototype.request=function(t,e){if("string"==typeof t?(e=e||{}).url=t:e=t||{},!e.url)throw new Error("Provided config url is not valid");(e=i(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&n.assertOptions(r,{silentJSONParsing:s.transitional(s.boolean),forcedJSONParsing:s.transitional(s.boolean),clarifyTimeoutError:s.transitional(s.boolean)},!1);var a=[],u=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(u=u&&t.synchronous,a.unshift(t.fulfilled,t.rejected))});var h,l=[];if(this.interceptors.response.forEach(function(t){l.push(t.fulfilled,t.rejected)}),!u){var f=[o,void 0];for(Array.prototype.unshift.apply(f,a),f=f.concat(l),h=Promise.resolve(e);f.length;)h=h.then(f.shift(),f.shift());return h}for(var d=e;a.length;){var c=a.shift(),p=a.shift();try{d=c(d)}catch(m){p(m);break}}try{h=o(d)}catch(m){return Promise.reject(m)}for(;l.length;)h=h.then(l.shift(),l.shift());return h},a.prototype.getUri=function(t){if(!t.url)throw new Error("Provided config url is not valid");return t=i(this.defaults,t),e(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(i(r||{},{method:t,url:e,data:(r||{}).data}))}}),t.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,o){return this.request(i(o||{},{method:t,url:e,data:r}))}}),module.exports=a;
},{"./../utils":"S1cf","../helpers/buildURL":"H6Qo","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X","./mergeConfig":"OHvn","../helpers/validator":"lsvU"}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(e){s=e});var t=this;this.promise.then(function(e){if(t._listeners){var n,s=t._listeners.length;for(n=0;n<s;n++)t._listeners[n](e);t._listeners=null}}),this.promise.then=function(e){var n,s=new Promise(function(e){t.subscribe(e),n=e}).then(e);return s.cancel=function(){t.unsubscribe(n)},s},n(function(n){t.reason||(t.reason=new e(n),s(t.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},n.prototype.unsubscribe=function(e){if(this._listeners){var n=this._listeners.indexOf(e);-1!==n&&this._listeners.splice(n,1)}},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"mIKj"}],"X8jb":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"wICU":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError};
},{"./../utils":"S1cf"}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),i=require("./core/Axios"),n=require("./core/mergeConfig"),o=require("./defaults");function u(o){var s=new i(o),t=r(i.prototype.request,s);return e.extend(t,i.prototype,s),e.extend(t,s),t.create=function(e){return u(n(o,e))},t}var s=u(o);s.Axios=i,s.Cancel=require("./cancel/Cancel"),s.CancelToken=require("./cancel/CancelToken"),s.isCancel=require("./cancel/isCancel"),s.VERSION=require("./env/data").version,s.all=function(e){return Promise.all(e)},s.spread=require("./helpers/spread"),s.isAxiosError=require("./helpers/isAxiosError"),module.exports=s,module.exports.default=s;
},{"./utils":"S1cf","./helpers/bind":"EDTP","./core/Axios":"OvAf","./core/mergeConfig":"OHvn","./defaults":"BXyq","./cancel/Cancel":"mIKj","./cancel/CancelToken":"tsWd","./cancel/isCancel":"V30M","./env/data":"xNqU","./helpers/spread":"X8jb","./helpers/isAxiosError":"wICU"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"unYu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("spin.js"),t=r(require("./spinner")),a=r(require("axios"));function r(e){return e&&e.__esModule?e:{default:e}}const s="https://api.themoviedb.org/3/",i="b799de2e1359641dffd47460cedfbdc0";class n{constructor(){this.searchQuery="",this.movieId="",this._page=1,this.language="en-US"}async getPopularMovies(){var r=document.querySelector("body"),n=new e.Spinner(t.default).spin(r);try{const e=await a.default.get(`${s}trending/movie/day?api_key=${i}&language=${this.setLanguage()}&page=${this._page}`);return n.stop(),e}catch(o){console.error(o)}}async getSearchMovies(){var r=document.querySelector("body"),n=new e.Spinner(t.default).spin(r);try{const e=await a.default.get(`${s}search/movie?api_key=${i}&language=${this.setLanguage()}&page=${this._page}&query=${this.searchQuery}`);return n.stop(),e}catch(o){console.error(o)}}async getMoviesById(){var r=document.querySelector("body"),n=new e.Spinner(t.default).spin(r);try{const e=await a.default.get(`${s}movie/${this.movieId}?api_key=${i}&language=${this.setLanguage()}`);return n.stop(),e}catch(o){console.error(o)}}async getUpcomingMovies(){var r=document.querySelector("body"),n=new e.Spinner(t.default).spin(r);try{const e=await a.default.get(`${s}movie/upcoming?api_key=${i}&language=${this.setLanguage()}&page=1`);return n.stop(),e}catch(o){console.error(o)}}async getMoviesTrailer(){try{return await a.default.get(`${s}movie/${this.movieId}/videos?api_key=${i}&language=${this.setLanguage()}`)}catch(e){console.error(e)}}setLanguage(){return localStorage.getItem("lang")?this.language=localStorage.getItem("lang"):this.language="en-US"}incrementPage(){this._page+=1}resetPage(){this._page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}get id(){return this.movieId}set id(e){this.movieId=e}set page(e){this._page=e}get page(){return this._page}}exports.default=n;
},{"spin.js":"plPA","./spinner":"Sc1o","axios":"dZBD"}],"kQRN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.translateItems=i;var e=r(require("i18next")),t=r(require("../js/movies-grid")),o=r(require("../js/api-requests")),a=r(require("./get-refs"));function r(e){return e&&e.__esModule?e:{default:e}}const n=new o.default,u=(0,a.default)();function i(e){setTimeout(()=>{document.querySelectorAll(e).forEach(s)},150)}function l(){document.querySelectorAll("[data-key]").forEach(s)}function s(t){const o=t.getAttribute("data-key");"INPUT"===t.tagName&&(t.placeholder=e.default.t(o)),t.innerText=e.default.t(o)}function d(){const o=document.querySelector("[data-switcher]");o.value=e.default.language,o.onchange=(e=>{const o=document.querySelector(".library-link");g(e.target.value),o.classList.contains("current")||(u.gallery.innerHTML="",n.resetPage(),n.getPopularMovies().then(e=>{(0,t.default)(e.data.results)}))})}function g(t){localStorage.setItem("lang",t),e.default.changeLanguage(t)}e.default.init({lng:localStorage.getItem("lang"),debug:!0,returnObjects:!0,resources:{"en-US":{translation:{home:"Home","my-library":"My library","log-in":"Log in","log-out":"Log out",watched:"Watched",queue:"Queue","soon-in-theaters":"soon in theaters",rights:"| All rights reserved |",developed:"Developed with",students:"by GoIT Students",vote:"Vote / Vote",about:"About",genre:"Genre",popularity:"Popularity","original-title":"Original title","form-name":"Log In",description:"To log in, enter your email address and password","modal-login":"Log In",authorization:"Authorization with social networks","sign-up":"Sign up","sign-up-btn":"Sign up","remove-watched":"remove from watched","add-watched":"add to watched",email:"E-mail",password:"Password",search:"Search a movie","remove-queue":"remove from queue","add-queue":"add to queue",our:"Our",team:"Team","dev-pos":"Developer"}},"uk-UA":{translation:{home:"Головна","my-library":"Бібліотека","log-in":"Вхід","log-out":"Вихід",watched:"Переглянуті",queue:"Обране","soon-in-theaters":"скоро в кінотеатрах",rights:"| Всі права захищені |",developed:"Розроблено з",students:"Студентами GoIT",vote:"Оцінка / Проголосувало",about:"Опис",genre:"Жанр",popularity:"Популярність","original-title":"Оригінальна назва","form-name":"Вхід",description:"Для входу, введіть адресу електронної пошти та пароль","modal-login":"Вхід",authorization:"Авторизуйтесь з допомогою","sign-up":"Реєстрація","sign-up-btn":"Приєднатися","remove-watched":"видалити з переглянутих","add-watched":"додати до переглянутих",email:"Пошта",password:"Пароль",search:"Пошук фільмів","remove-queue":"видалити з обраного","add-queue":"додати до обраного",our:"Наша",team:"Команда","dev-pos":"Розробник"}},"ru-RU":{translation:{home:"Главная","my-library":"Библиотека","log-in":"Вход","log-out":"Выход",watched:"Просмотренные",queue:"Избранное","soon-in-theaters":"скоро в кинотеатрах",rights:"| Все права защищены |",developed:"Разработано с",students:"Студентами GoIT",vote:"Оценка / Проголосовало",about:"Описание",genre:"Жанр",popularity:"Популярность","original-title":"Оригинальное название","form-name":"Вход",description:"Для входа введите адрес электронной почты и пароль","modal-login":"Вход",authorization:"Авторизируйтесь с помощью","sign-up":"Регистрация","sign-up-btn":"Зарегистрироваться","remove-watched":"удалить из просмотренных","add-watched":"добавить в просмотренные",email:"Почта",password:"Пароль",search:"Поиск фильмов","remove-queue":"удалить из избранных","add-queue":"добавить в избранное",our:"Наша",team:"Команда","dev-pos":"Разработчик"}}}},function(t,o){localStorage.getItem("lang")||e.default.changeLanguage("en-US"),l(),d()}),e.default.on("languageChanged",()=>{l()});
},{"i18next":"yzJ1","../js/movies-grid":"t9LP","../js/api-requests":"unYu","./get-refs":"EGsz"}],"ARBQ":[function(require,module,exports) {
"use strict";var e=require("notiflix/build/notiflix-notify-aio"),t=require("firebase/app"),n=require("firebase/auth"),i=require("firebase/database"),o=p(require("basiclightbox"));require("../../node_modules/basiclightbox/src/styles/main.scss");var a=u(require("./get-refs")),s=require("./modal-movie-details"),l=require("./localization"),c=require("./translate"),r=u(require("./languages/notiflix.json"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}const g=r.default.auth.created,h=r.default.auth.failure,f=r.default.auth.login,m=r.default.auth.loginFail,y=r.default.auth.logwith.google,b=r.default.auth.logwith.facebook,v=r.default.auth.logwith.github,k=r.default.auth.logout,w={apiKey:"AIzaSyDru_yvb94CLLyga06XJjVjjbcRtcd4DxY",authDomain:"authentication-app-78afc.firebaseapp.com",databaseURL:"https://authentication-app-78afc-default-rtdb.firebaseio.com",projectId:"authentication-app-78afc",storageBucket:"authentication-app-78afc.appspot.com",messagingSenderId:"25662515291",appId:"1:25662515291:web:91dceb30df0dad99c1377e"},M=(0,t.initializeApp)(w),S=(0,n.getAuth)(),q=new n.GoogleAuthProvider,L=new n.FacebookAuthProvider,E=new n.GithubAuthProvider,I=(0,i.getDatabase)(),B=(0,a.default)();B.logoutBtn.style.display="none";const N=o.create('\n  <div class="modal">\n    <div class="modal-auth-container">\n      <div class="login-signup-container">\n        <h3 class="auth-container-title" data-key="form-name">Log in</h3>\n        <button id="openSignUpModalBtn" class="sign-up-btn" data-key="sign-up">Sign up</button>\n      </div>\n      <button type="button" id="close-modal-btn">\n        <svg width="25" height="25">\n          <use href="/Filmoteka/sprite.ba1893dc.svg#close-btn"></use>\n        </svg>\n      </button>\n        <p class="auth-container-text" data-key="description">To log in, enter your email address and password</p>\n        <input type="email" placeholder="E-mail" class="email-input" id="login-email" data-key="email">\n        <input type="password" placeholder="Password" class="passw-input" id="login-password" data-key="password">\n        <button class="login-btn" id="loginBtn" data-key="modal-login">Log in</button>\n        <p class="auth-google-text" data-key="authorization">Authorization with social networks</p>\n        <div class="auth-social">\n          <ul class="social-list">\n            <li class="social-items">\n              <a id="login-google" class="social-login-btn">\n                <svg width="25" height="25">\n                  <use href="/Filmoteka/sprite.ba1893dc.svg#icon-google"></use>\n                </svg>\n              </a>\n            </li>\n            <li class="social-items">\n              <a id="login-fb" class="social-login-btn fb-btn">\n                <svg width="25" height="25">\n                  <use href="/Filmoteka/sprite.ba1893dc.svg#facebook"></use>\n                </svg>\n              </a>\n            </li>\n            <li class="social-items">\n              <a id="login-github" class="social-login-btn git-btn">\n                <svg width="25" height="25">\n                  <use href="/Filmoteka/sprite.ba1893dc.svg#icon-github"</use>\n                </svg>\n              </a>\n            </li>            \n          </ul>\n        </div>\n      </div>\n  </div>\n',{onShow:e=>{e.element().querySelector("#close-modal-btn").onclick=e.close}}),P=o.create('\n  <div class="modal">\n  <div class="modal-auth-container">\n    <div class="login-signup-container">\n      <h3 class="auth-container-title" data-key="sign-up">Sign up</h3>\n      <button id="alreadyHaveAccount" class="login-up-btn" data-key="form-name">Log in</button>\n    </div>\n      <button type="button" id="close-modal-btn">\n        <svg width="25" height="25">\n          <use href="/Filmoteka/sprite.ba1893dc.svg#close-btn"></use>\n        </svg>\n      </button>\n        <input type="email" placeholder="E-mail" class="email-input sign-up" id="sign-email" data-key="email">\n        <input type="password" placeholder="Password" class="passw-input" id="sign-password" data-key="password">\n    <button class="login-btn" id="signUp" data-key="sign-up-btn">Sign up</button>\n  </div>\n\n</div>\n',{onShow:e=>{e.element().querySelector("#close-modal-btn").onclick=e.close}});function A(){P.close(),N.show(),document.querySelector("#openSignUpModalBtn").addEventListener("click",j),document.querySelector("#loginBtn").addEventListener("click",U),document.querySelector("#login-google").addEventListener("click",_),document.querySelector("#login-fb").addEventListener("click",x),document.querySelector("#login-github").addEventListener("click",D),(0,l.translateItems)(".modal-auth-container [data-key]")}function j(){N.close(),P.show(),document.querySelector("#alreadyHaveAccount").addEventListener("click",A),document.querySelector("#signUp").addEventListener("click",O),(0,l.translateItems)(".modal-auth-container [data-key]")}function O(){let t=document.getElementById("sign-email").value,i=document.getElementById("sign-password").value;(0,n.createUserWithEmailAndPassword)(S,t,i).then(t=>{e.Notify.success((0,c.translateMsg)(g),{position:"center-top"}),P.close()}).catch(t=>{e.Notify.failure((0,c.translateMsg)(h),{position:"center-top"}),console.log(t)})}function U(){let t=document.getElementById("login-email").value,i=document.getElementById("login-password").value;(0,n.signInWithEmailAndPassword)(S,t,i).then(t=>{e.Notify.success((0,c.translateMsg)(f),{position:"center-top"}),N.close()}).catch(t=>{e.Notify.failure((0,c.translateMsg)(m),{position:"center-top"}),console.log(t)})}function _(){(0,n.signInWithPopup)(S,q).then(t=>{F(t.user),N.close(),e.Notify.success((0,c.translateMsg)(y),{position:"center-top"})}).catch(t=>{e.Notify.failure((0,c.translateMsg)(h),{position:"center-top"}),console.log(t)})}function x(){(0,n.signInWithPopup)(S,L).then(t=>{F(t.user),N.close(),e.Notify.success((0,c.translateMsg)(b),{position:"center-top"})}).catch(t=>{e.Notify.failure((0,c.translateMsg)(h),{position:"center-top"}),console.log(t)})}function D(){(0,n.signInWithPopup)(S,E).then(t=>{F(t.user),N.close(),e.Notify.success((0,c.translateMsg)(v),{position:"center-top"})}).catch(t=>{e.Notify.failure((0,c.translateMsg)(h),{position:"center-top"}),console.log(t)})}function W(){(0,n.signOut)(S).then(()=>{e.Notify.success((0,c.translateMsg)(k),{position:"center-top"}),B.userDetails.innerHTML="",B.openSignInModalBtn.style.display="block",B.logoutBtn.style.display="none",location.reload()}).catch(t=>{e.Notify.failure((0,c.translateMsg)(h),{position:"center-top"}),console.log(t)})}function F(e){e.photoURL?B.userDetails.innerHTML=`\n  <img class="user-img" src="${e.photoURL}" width=25"px">\n  <p class="user-name">${e.displayName}</p>`:B.userDetails.innerHTML=`<p class="user-email">${e.email}</p>`}function z(e,t,n,o){(0,i.set)((0,i.ref)(I,"users/"+n),{Name:e,Email:t,Watched:s.watched,Queue:s.queue})}function H(e){const t=e.currentUser.uid;return(0,i.onValue)((0,i.ref)(I,"/users/"+t),e=>{},{onlyOnce:!0})}B.openSignInModalBtn.addEventListener("click",A),B.logoutBtn.addEventListener("click",W),(0,n.onAuthStateChanged)(S,e=>{if(e){document.querySelector(".menu_item_slide").classList.remove("position"),F(e),B.openSignInModalBtn.style.display="none",B.logoutBtn.style.display="block";const{displayName:t,email:n,uid:i,photoURL:o}=e;z(t,n,i,o)}else{document.querySelector(".menu_item_slide").classList.add("position")}});
},{"notiflix/build/notiflix-notify-aio":"MeeU","firebase/app":"QtzL","firebase/auth":"lHTY","firebase/database":"o4fG","basiclightbox":"BNjD","../../node_modules/basiclightbox/src/styles/main.scss":"yBio","./get-refs":"EGsz","./modal-movie-details":"dMVB","./localization":"kQRN","./translate":"nUSU","./languages/notiflix.json":"ANiD"}],"uLmF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.raf=void 0;var e=window,t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)};exports.raf=t;
},{}],"Xp2s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.caf=void 0;var e=window,o=e.cancelAnimationFrame||e.mozCancelAnimationFrame||function(e){clearTimeout(e)};exports.caf=o;
},{}],"CZet":[function(require,module,exports) {
"use strict";function e(){for(var e,r,t,n=arguments[0]||{},o=1,i=arguments.length;o<i;o++)if(null!==(e=arguments[o]))for(r in e)n!==(t=e[r])&&void 0!==t&&(n[r]=t);return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extend=e;
},{}],"JXzU":[function(require,module,exports) {
"use strict";function e(e){return["true","false"].indexOf(e)>=0?JSON.parse(e):e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkStorageValue=e;
},{}],"KYzG":[function(require,module,exports) {
"use strict";function e(e,t,r,o){if(o)try{e.setItem(t,r)}catch(s){}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setLocalStorage=e;
},{}],"Bg6Y":[function(require,module,exports) {
"use strict";function e(){var e=window.tnsId;return window.tnsId=e?e+1:1,"tns"+window.tnsId}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSlideId=e;
},{}],"aWbO":[function(require,module,exports) {
"use strict";function e(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBody=e;
},{}],"Q5Qx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.docElement=void 0;var e=document.documentElement;exports.docElement=e;
},{}],"fcMz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setFakeBody=o;var e=require("./docElement.js");function o(o){var t="";return o.fake&&(t=e.docElement.style.overflow,o.style.background="",o.style.overflow=e.docElement.style.overflow="hidden",e.docElement.appendChild(o)),t}
},{"./docElement.js":"Q5Qx"}],"HbSO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetFakeBody=t;var e=require("./docElement.js");function t(t,o){t.fake&&(t.remove(),e.docElement.style.overflow=o,e.docElement.offsetHeight)}
},{"./docElement.js":"Q5Qx"}],"P69K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calc=a;var e=require("./getBody.js"),r=require("./setFakeBody.js"),t=require("./resetFakeBody.js");function a(){var a=document,c=(0,e.getBody)(),o=(0,r.setFakeBody)(c),d=a.createElement("div"),s=!1;c.appendChild(d);try{for(var i,l="(10px * 10)",u=["calc"+l,"-moz-calc"+l,"-webkit-calc"+l],y=0;y<3;y++)if(i=u[y],d.style.width=i,100===d.offsetWidth){s=i.replace(l,"");break}}catch(f){}return c.fake?(0,t.resetFakeBody)(c,o):d.remove(),s}
},{"./getBody.js":"aWbO","./setFakeBody.js":"fcMz","./resetFakeBody.js":"HbSO"}],"OiMB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.percentageLayout=a;var e=require("./getBody.js"),t=require("./setFakeBody.js"),r=require("./resetFakeBody.js");function a(){var a,n=document,d=(0,e.getBody)(),s=(0,t.setFakeBody)(d),i=n.createElement("div"),o=n.createElement("div"),c="";i.className="tns-t-subp2",o.className="tns-t-ct";for(var l=0;l<70;l++)c+="<div></div>";return o.innerHTML=c,i.appendChild(o),d.appendChild(i),a=Math.abs(i.getBoundingClientRect().left-o.children[67].getBoundingClientRect().left)<2,d.fake?(0,r.resetFakeBody)(d,s):i.remove(),a}
},{"./getBody.js":"aWbO","./setFakeBody.js":"fcMz","./resetFakeBody.js":"HbSO"}],"RqKm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mediaquerySupport=d;var e=require("./getBody.js"),t=require("./setFakeBody.js"),s=require("./resetFakeBody.js");function d(){if(window.matchMedia||window.msMatchMedia)return!0;var d,o=document,i=(0,e.getBody)(),r=(0,t.setFakeBody)(i),a=o.createElement("div"),n=o.createElement("style"),l="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return n.type="text/css",a.className="tns-mq-test",i.appendChild(n),i.appendChild(a),n.styleSheet?n.styleSheet.cssText=l:n.appendChild(o.createTextNode(l)),d=window.getComputedStyle?window.getComputedStyle(a).position:a.currentStyle.position,i.fake?(0,s.resetFakeBody)(i,r):a.remove(),"absolute"===d}
},{"./getBody.js":"aWbO","./setFakeBody.js":"fcMz","./resetFakeBody.js":"HbSO"}],"PCGC":[function(require,module,exports) {
"use strict";function e(e,t){var r=document.createElement("style");return e&&r.setAttribute("media",e),t&&r.setAttribute("nonce",t),document.querySelector("head").appendChild(r),r.sheet?r.sheet:r.styleSheet}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStyleSheet=e;
},{}],"QcHY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addCSSRule=r;var e=require("./raf.js");function r(e,r,t,u){"insertRule"in e?e.insertRule(r+"{"+t+"}",u):e.addRule(r,t,u)}
},{"./raf.js":"uLmF"}],"gWdF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeCSSRule=r;var e=require("./raf.js");function r(e,r){"deleteRule"in e?e.deleteRule(r):e.removeRule(r)}
},{"./raf.js":"uLmF"}],"MFGc":[function(require,module,exports) {
"use strict";function e(e){return("insertRule"in e?e.cssRules:e.rules).length}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCssRulesLength=e;
},{}],"tGaD":[function(require,module,exports) {
"use strict";function e(e,t){return Math.atan2(e,t)*(180/Math.PI)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toDegree=e;
},{}],"Mrjx":[function(require,module,exports) {
"use strict";function e(e,t){var r=!1,o=Math.abs(90-Math.abs(e));return o>=90-t?r="horizontal":o<=t&&(r="vertical"),r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTouchDirection=e;
},{}],"pdKX":[function(require,module,exports) {
"use strict";function e(e,r,t){for(var o=0,c=e.length;o<c;o++)r.call(t,e[o],o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=e;
},{}],"Po7m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.classListSupport=void 0;var e="classList"in document.createElement("_");exports.classListSupport=e;
},{}],"Vyx8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"classListSupport",{enumerable:!0,get:function(){return s.classListSupport}}),exports.hasClass=void 0;var s=require("./classListSupport.js"),e=s.classListSupport?function(s,e){return s.classList.contains(e)}:function(s,e){return s.className.indexOf(e)>=0};exports.hasClass=e;
},{"./classListSupport.js":"Po7m"}],"Lofj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addClass=void 0;var s=require("./hasClass.js"),a=s.classListSupport?function(a,e){(0,s.hasClass)(a,e)||a.classList.add(e)}:function(a,e){(0,s.hasClass)(a,e)||(a.className+=" "+e)};exports.addClass=a;
},{"./hasClass.js":"Vyx8"}],"Dxsk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeClass=void 0;var s=require("./hasClass.js"),e=s.classListSupport?function(e,a){(0,s.hasClass)(e,a)&&e.classList.remove(a)}:function(e,a){(0,s.hasClass)(e,a)&&(e.className=e.className.replace(a,""))};exports.removeClass=e;
},{"./hasClass.js":"Vyx8"}],"qInb":[function(require,module,exports) {
"use strict";function t(t,e){return t.hasAttribute(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasAttr=t;
},{}],"nzPU":[function(require,module,exports) {
"use strict";function t(t,e){return t.getAttribute(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAttr=t;
},{}],"iXCM":[function(require,module,exports) {
"use strict";function e(e){return void 0!==e.item}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNodeList=e;
},{}],"rLyu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAttrs=e;var t=require("./isNodeList.js");function e(e,r){if(e=(0,t.isNodeList)(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(r))for(var o=e.length;o--;)for(var s in r)e[o].setAttribute(s,r[s])}
},{"./isNodeList.js":"iXCM"}],"hcgL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeAttrs=r;var e=require("./isNodeList.js");function r(r,t){r=(0,e.isNodeList)(r)||r instanceof Array?r:[r];for(var o=(t=t instanceof Array?t:[t]).length,s=r.length;s--;)for(var i=o;i--;)r[s].removeAttribute(t[i])}
},{"./isNodeList.js":"iXCM"}],"sN8R":[function(require,module,exports) {
"use strict";function e(e){for(var r=[],t=0,o=e.length;t<o;t++)r.push(e[t]);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayFromNodeList=e;
},{}],"rnIP":[function(require,module,exports) {
"use strict";function e(e,t){"none"!==e.style.display&&(e.style.display="none")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hideElement=e;
},{}],"m80X":[function(require,module,exports) {
"use strict";function e(e,s){"none"===e.style.display&&(e.style.display="")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.showElement=e;
},{}],"danC":[function(require,module,exports) {
"use strict";function e(e){return"none"!==window.getComputedStyle(e).display}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isVisible=e;
},{}],"P6nt":[function(require,module,exports) {
"use strict";function e(e){if("string"==typeof e){var t=[e],r=e.charAt(0).toUpperCase()+e.substr(1);["Webkit","Moz","ms","O"].forEach(function(o){"ms"===o&&"transform"!==e||t.push(o+r)}),e=t}for(var o=document.createElement("fakeelement"),n=(e.length,0);n<e.length;n++){var s=e[n];if(void 0!==o.style[s])return s}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.whichProperty=e;
},{}],"RteU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.has3DTransforms=o;var e=require("./getBody.js"),t=require("./setFakeBody.js"),r=require("./resetFakeBody.js");function o(o){if(!o)return!1;if(!window.getComputedStyle)return!1;var s,n=document,a=(0,e.getBody)(),d=(0,t.setFakeBody)(a),u=n.createElement("p"),i=o.length>9?"-"+o.slice(0,-9).toLowerCase()+"-":"";return i+="transform",a.insertBefore(u,null),u.style[o]="translate3d(1px,1px,1px)",s=window.getComputedStyle(u).getPropertyValue(i),a.fake?(0,r.resetFakeBody)(a,d):u.remove(),void 0!==s&&s.length>0&&"none"!==s}
},{"./getBody.js":"aWbO","./setFakeBody.js":"fcMz","./resetFakeBody.js":"HbSO"}],"W0ni":[function(require,module,exports) {
"use strict";function e(e,t){var r=!1;return/^Webkit/.test(e)?r="webkit"+t+"End":/^O/.test(e)?r="o"+t+"End":e&&(r=t.toLowerCase()+"end"),r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEndProperty=e;
},{}],"eAR5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.passiveOption=void 0;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(i){}var s=!!e&&{passive:!0};exports.passiveOption=s;
},{}],"YpMt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addEvents=t;var e=require("./passiveOption.js");function t(t,r,s){for(var i in r){var o=["touchstart","touchmove"].indexOf(i)>=0&&!s&&e.passiveOption;t.addEventListener(i,r[i],o)}}
},{"./passiveOption.js":"eAR5"}],"Ki4y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeEvents=t;var e=require("./passiveOption.js");function t(t,r){for(var o in r){var s=["touchstart","touchmove"].indexOf(o)>=0&&e.passiveOption;t.removeEventListener(o,r[o],s)}}
},{"./passiveOption.js":"eAR5"}],"wJcs":[function(require,module,exports) {
"use strict";function t(){return{topics:{},on:function(t,i){this.topics[t]=this.topics[t]||[],this.topics[t].push(i)},off:function(t,i){if(this.topics[t])for(var s=0;s<this.topics[t].length;s++)if(this.topics[t][s]===i){this.topics[t].splice(s,1);break}},emit:function(t,i){i.type=t,this.topics[t]&&this.topics[t].forEach(function(s){s(i,t)})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Events=t;
},{}],"t789":[function(require,module,exports) {
"use strict";function e(e,t,r,s,o,a,c){var i=Math.min(a,10),l=o.indexOf("%")>=0?"%":"px",n=(o=o.replace(l,""),Number(e.style[t].replace(r,"").replace(s,"").replace(l,""))),p=(o-n)/a*i;setTimeout(function o(){a-=i;n+=p;e.style[t]=r+n+l+s;a>0?setTimeout(o,i):c()},i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsTransform=e;
},{}],"HDE5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tns=void 0;var e=require("./helpers/raf.js"),t=require("./helpers/caf.js"),n=require("./helpers/extend.js"),r=require("./helpers/checkStorageValue.js"),a=require("./helpers/setLocalStorage.js"),i=require("./helpers/getSlideId.js"),o=require("./helpers/calc.js"),s=require("./helpers/percentageLayout.js"),l=require("./helpers/mediaquerySupport.js"),u=require("./helpers/createStyleSheet.js"),d=require("./helpers/addCSSRule.js"),c=require("./helpers/removeCSSRule.js"),f=require("./helpers/getCssRulesLength.js"),v=require("./helpers/toDegree.js"),h=require("./helpers/getTouchDirection.js"),p=require("./helpers/forEach.js"),m=require("./helpers/hasClass.js"),g=require("./helpers/addClass.js"),y=require("./helpers/removeClass.js"),C=require("./helpers/hasAttr.js"),E=require("./helpers/getAttr.js"),x=require("./helpers/setAttrs.js"),b=require("./helpers/removeAttrs.js"),S=require("./helpers/arrayFromNodeList.js"),T=require("./helpers/hideElement.js"),M=require("./helpers/showElement.js"),w=require("./helpers/isVisible.js"),A=require("./helpers/whichProperty.js"),L=require("./helpers/has3DTransforms.js"),j=require("./helpers/getEndProperty.js"),D=require("./helpers/addEvents.js"),R=require("./helpers/removeEvents.js"),q=require("./helpers/events.js"),B=require("./helpers/jsTransform.js");Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var N=function(P){P=(0,n.extend)({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},P||{});var H=document,k=window,I={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},O={},V=P.useLocalStorage;if(V){var W=navigator.userAgent,z=new Date;try{(O=k.localStorage)?(O.setItem(z,z),V=O.getItem(z)==z,O.removeItem(z)):V=!1,V||(O={})}catch(ra){V=!1}V&&(O.tnsApp&&O.tnsApp!==W&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){O.removeItem(e)}),localStorage.tnsApp=W)}var F=O.tC?(0,r.checkStorageValue)(O.tC):(0,a.setLocalStorage)(O,"tC",(0,o.calc)(),V),G=O.tPL?(0,r.checkStorageValue)(O.tPL):(0,a.setLocalStorage)(O,"tPL",(0,s.percentageLayout)(),V),Q=O.tMQ?(0,r.checkStorageValue)(O.tMQ):(0,a.setLocalStorage)(O,"tMQ",(0,l.mediaquerySupport)(),V),X=O.tTf?(0,r.checkStorageValue)(O.tTf):(0,a.setLocalStorage)(O,"tTf",(0,A.whichProperty)("transform"),V),Y=O.t3D?(0,r.checkStorageValue)(O.t3D):(0,a.setLocalStorage)(O,"t3D",(0,L.has3DTransforms)(X),V),K=O.tTDu?(0,r.checkStorageValue)(O.tTDu):(0,a.setLocalStorage)(O,"tTDu",(0,A.whichProperty)("transitionDuration"),V),_=O.tTDe?(0,r.checkStorageValue)(O.tTDe):(0,a.setLocalStorage)(O,"tTDe",(0,A.whichProperty)("transitionDelay"),V),J=O.tADu?(0,r.checkStorageValue)(O.tADu):(0,a.setLocalStorage)(O,"tADu",(0,A.whichProperty)("animationDuration"),V),U=O.tADe?(0,r.checkStorageValue)(O.tADe):(0,a.setLocalStorage)(O,"tADe",(0,A.whichProperty)("animationDelay"),V),Z=O.tTE?(0,r.checkStorageValue)(O.tTE):(0,a.setLocalStorage)(O,"tTE",(0,j.getEndProperty)(K,"Transition"),V),$=O.tAE?(0,r.checkStorageValue)(O.tAE):(0,a.setLocalStorage)(O,"tAE",(0,j.getEndProperty)(J,"Animation"),V),ee=k.console&&"function"==typeof k.console.warn,te=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],ne={};if(te.forEach(function(e){if("string"==typeof P[e]){var t=P[e],n=H.querySelector(t);if(ne[e]=t,!n||!n.nodeName)return void(ee&&console.warn("Can't find",P[e]));P[e]=n}}),!(P.container.children.length<1)){var re=P.responsive,ae=P.nested,ie="carousel"===P.mode;if(re){0 in re&&(P=(0,n.extend)(P,re[0]),delete re[0]);var oe={};for(var se in re){var le=re[se];le="number"==typeof le?{items:le}:le,oe[se]=le}re=oe,oe=null}if(ie||function e(t){for(var n in t)ie||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(P),!ie){P.axis="horizontal",P.slideBy="page",P.edgePadding=!1;var ue=P.animateIn,de=P.animateOut,ce=P.animateDelay,fe=P.animateNormal}var ve,he,pe="horizontal"===P.axis,me=H.createElement("div"),ge=H.createElement("div"),ye=P.container,Ce=ye.parentNode,Ee=ye.outerHTML,xe=ye.children,be=xe.length,Se=Hn(),Te=!1;re&&nr(),ie&&(ye.className+=" tns-vpfix");var Me,we,Ae,Le,je,De=P.autoWidth,Re=Vn("fixedWidth"),qe=Vn("edgePadding"),Be=Vn("gutter"),Ne=In(),Pe=Vn("center"),He=De?1:Math.floor(Vn("items")),ke=Vn("slideBy"),Ie=P.viewportMax||P.fixedWidthViewportWidth,Oe=Vn("arrowKeys"),Ve=Vn("speed"),We=P.rewind,ze=!We&&P.loop,Fe=Vn("autoHeight"),Ge=Vn("controls"),Qe=Vn("controlsText"),Xe=Vn("nav"),Ye=Vn("touch"),Ke=Vn("mouseDrag"),_e=Vn("autoplay"),Je=Vn("autoplayTimeout"),Ue=Vn("autoplayText"),Ze=Vn("autoplayHoverPause"),$e=Vn("autoplayResetOnVisibility"),et=(0,u.createStyleSheet)(null,Vn("nonce")),tt=P.lazyload,nt=P.lazyloadSelector,rt=[],at=ze?(Le=function(){if(De||Re&&!Ie)return be-1;var e=Re?"fixedWidth":"items",t=[];if((Re||P[e]<be)&&t.push(P[e]),re)for(var n in re){var r=re[n][e];r&&(Re||r<be)&&t.push(r)}return t.length||t.push(0),Math.ceil(Re?Ie/Math.min.apply(null,t):Math.max.apply(null,t))}(),je=ie?Math.ceil((5*Le-be)/2):4*Le-be,je=Math.max(Le,je),On("edgePadding")?je+1:je):0,it=ie?be+2*at:be+at,ot=!(!Re&&!De||ze),st=Re?Lr():null,lt=!ie||!ze,ut=pe?"left":"top",dt="",ct="",ft=Re?function(){return Pe&&!ze?be-1:Math.ceil(-st/(Re+Be))}:De?function(){for(var e=0;e<it;e++)if(Me[e]>=-st)return e}:function(){return Pe&&ie&&!ze?be-1:ze||ie?Math.max(0,it-Math.ceil(He)):it-1},vt=Bn(Vn("startIndex")),ht=vt,pt=(qn(),0),mt=De?null:ft(),gt=P.preventActionWhenRunning,yt=P.swipeAngle,Ct=!yt||"?",Et=!1,xt=P.onInit,bt=new q.Events,St=" tns-slider tns-"+P.mode,Tt=ye.id||(0,i.getSlideId)(),Mt=Vn("disable"),wt=!1,At=P.freezable,Lt=!(!At||De)&&tr(),jt=!1,Dt={click:kr,keydown:function(e){e=Qr(e);var t=[I.LEFT,I.RIGHT].indexOf(e.keyCode);t>=0&&(0===t?Zt.disabled||kr(e,-1):$t.disabled||kr(e,1))}},Rt={click:function(e){if(Et){if(gt)return;Pr()}var t=Xr(e=Qr(e));for(;t!==rn&&!(0,C.hasAttr)(t,"data-nav");)t=t.parentNode;if((0,C.hasAttr)(t,"data-nav")){var n=ln=Number((0,E.getAttr)(t,"data-nav")),r=Re||De?n*be/on:n*He,a=Ot?n:Math.min(Math.ceil(r),be-1);Hr(a,e),un===n&&(pn&&zr(),ln=-1)}},keydown:function(e){e=Qr(e);var t=H.activeElement;if(!(0,C.hasAttr)(t,"data-nav"))return;var n=[I.LEFT,I.RIGHT,I.ENTER,I.SPACE].indexOf(e.keyCode),r=Number((0,E.getAttr)(t,"data-nav"));n>=0&&(0===n?r>0&&Gr(nn[r-1]):1===n?r<on-1&&Gr(nn[r+1]):(ln=r,Hr(r,e)))}},qt={mouseover:function(){pn&&(Or(),mn=!0)},mouseout:function(){mn&&(Ir(),mn=!1)}},Bt={visibilitychange:function(){H.hidden?pn&&(Or(),yn=!0):yn&&(Ir(),yn=!1)}},Nt={keydown:function(e){e=Qr(e);var t=[I.LEFT,I.RIGHT].indexOf(e.keyCode);t>=0&&kr(e,0===t?-1:1)}},Pt={touchstart:Jr,touchmove:Ur,touchend:Zr,touchcancel:Zr},Ht={mousedown:Jr,mousemove:Ur,mouseup:Zr,mouseleave:Zr},kt=On("controls"),It=On("nav"),Ot=!!De||P.navAsThumbnails,Vt=On("autoplay"),Wt=On("touch"),zt=On("mouseDrag"),Ft="tns-slide-active",Gt="tns-slide-cloned",Qt="tns-complete",Xt={load:function(e){cr(Xr(e))},error:function(e){t=Xr(e),(0,g.addClass)(t,"failed"),fr(t);var t}},Yt="force"===P.preventScrollOnTouch;if(kt)var Kt,_t,Jt=P.controlsContainer,Ut=P.controlsContainer?P.controlsContainer.outerHTML:"",Zt=P.prevButton,$t=P.nextButton,en=P.prevButton?P.prevButton.outerHTML:"",tn=P.nextButton?P.nextButton.outerHTML:"";if(It)var nn,rn=P.navContainer,an=P.navContainer?P.navContainer.outerHTML:"",on=De?be:ea(),sn=0,ln=-1,un=Pn(),dn=un,cn="tns-nav-active",fn="Carousel Page ",vn=" (Current Slide)";if(Vt)var hn,pn,mn,gn,yn,Cn="forward"===P.autoplayDirection?1:-1,En=P.autoplayButton,xn=P.autoplayButton?P.autoplayButton.outerHTML:"",bn=["<span class='tns-visually-hidden'>"," animation</span>"];if(Wt||zt)var Sn,Tn,Mn={},wn={},An=!1,Ln=pe?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y};De||Rn(Mt||Lt),X&&(ut=X,dt="translate",Y?(dt+=pe?"3d(":"3d(0px, ",ct=pe?", 0px, 0px)":", 0px)"):(dt+=pe?"X(":"Y(",ct=")")),ie&&(ye.className=ye.className.replace("tns-vpfix","")),function(){On("gutter");me.className="tns-outer",ge.className="tns-inner",me.id=Tt+"-ow",ge.id=Tt+"-iw",""===ye.id&&(ye.id=Tt);St+=G||De?" tns-subpixel":" tns-no-subpixel",St+=F?" tns-calc":" tns-no-calc",De&&(St+=" tns-autowidth");St+=" tns-"+P.axis,ye.className+=St,ie?((ve=H.createElement("div")).id=Tt+"-mw",ve.className="tns-ovh",me.appendChild(ve),ve.appendChild(ge)):me.appendChild(ge);if(Fe){var e=ve||ge;e.className+=" tns-ah"}if(Ce.insertBefore(me,ye),ge.appendChild(ye),(0,p.forEach)(xe,function(e,t){(0,g.addClass)(e,"tns-item"),e.id||(e.id=Tt+"-item"+t),!ie&&fe&&(0,g.addClass)(e,fe),(0,x.setAttrs)(e,{"aria-hidden":"true",tabindex:"-1"})}),at){for(var t=H.createDocumentFragment(),n=H.createDocumentFragment(),r=at;r--;){var a=r%be,i=xe[a].cloneNode(!0);if((0,g.addClass)(i,Gt),(0,b.removeAttrs)(i,"id"),n.insertBefore(i,n.firstChild),ie){var o=xe[be-1-a].cloneNode(!0);(0,g.addClass)(o,Gt),(0,b.removeAttrs)(o,"id"),t.appendChild(o)}}ye.insertBefore(t,ye.firstChild),ye.appendChild(n),xe=ye.children}}(),function(){if(!ie)for(var e=vt,t=vt+Math.min(be,He);e<t;e++){var n=xe[e];n.style.left=100*(e-vt)/He+"%",(0,g.addClass)(n,ue),(0,y.removeClass)(n,fe)}pe&&(G||De?((0,d.addCSSRule)(et,"#"+Tt+" > .tns-item","font-size:"+k.getComputedStyle(xe[0]).fontSize+";",(0,f.getCssRulesLength)(et)),(0,d.addCSSRule)(et,"#"+Tt,"font-size:0;",(0,f.getCssRulesLength)(et))):ie&&(0,p.forEach)(xe,function(e,t){e.style.marginLeft=function(e){return F?F+"("+100*e+"% / "+it+")":100*e/it+"%"}(t)}));if(Q){if(K){var r=ve&&P.autoHeight?Xn(P.speed):"";(0,d.addCSSRule)(et,"#"+Tt+"-mw",r,(0,f.getCssRulesLength)(et))}r=Wn(P.edgePadding,P.gutter,P.fixedWidth,P.speed,P.autoHeight),(0,d.addCSSRule)(et,"#"+Tt+"-iw",r,(0,f.getCssRulesLength)(et)),ie&&(r=pe&&!De?"width:"+zn(P.fixedWidth,P.gutter,P.items)+";":"",K&&(r+=Xn(Ve)),(0,d.addCSSRule)(et,"#"+Tt,r,(0,f.getCssRulesLength)(et))),r=pe&&!De?Fn(P.fixedWidth,P.gutter,P.items):"",P.gutter&&(r+=Gn(P.gutter)),ie||(K&&(r+=Xn(Ve)),J&&(r+=Yn(Ve))),r&&(0,d.addCSSRule)(et,"#"+Tt+" > .tns-item",r,(0,f.getCssRulesLength)(et))}else{ie&&Fe&&(ve.style[K]=Ve/1e3+"s"),ge.style.cssText=Wn(qe,Be,Re,Fe),ie&&pe&&!De&&(ye.style.width=zn(Re,Be,He));var r=pe&&!De?Fn(Re,Be,He):"";Be&&(r+=Gn(Be)),r&&(0,d.addCSSRule)(et,"#"+Tt+" > .tns-item",r,(0,f.getCssRulesLength)(et))}if(re&&Q)for(var a in re){a=parseInt(a);var i=re[a],r="",o="",s="",l="",u="",c=De?null:Vn("items",a),v=Vn("fixedWidth",a),h=Vn("speed",a),m=Vn("edgePadding",a),C=Vn("autoHeight",a),E=Vn("gutter",a);K&&ve&&Vn("autoHeight",a)&&"speed"in i&&(o="#"+Tt+"-mw{"+Xn(h)+"}"),("edgePadding"in i||"gutter"in i)&&(s="#"+Tt+"-iw{"+Wn(m,E,v,h,C)+"}"),ie&&pe&&!De&&("fixedWidth"in i||"items"in i||Re&&"gutter"in i)&&(l="width:"+zn(v,E,c)+";"),K&&"speed"in i&&(l+=Xn(h)),l&&(l="#"+Tt+"{"+l+"}"),("fixedWidth"in i||Re&&"gutter"in i||!ie&&"items"in i)&&(u+=Fn(v,E,c)),"gutter"in i&&(u+=Gn(E)),!ie&&"speed"in i&&(K&&(u+=Xn(h)),J&&(u+=Yn(h))),u&&(u="#"+Tt+" > .tns-item{"+u+"}"),(r=o+s+l+u)&&et.insertRule("@media (min-width: "+a/16+"em) {"+r+"}",et.cssRules.length)}}(),Kn();var jn=ze?ie?function(){var e=pt,t=mt;e+=ke,t-=ke,qe?(e+=1,t-=1):Re&&(Ne+Be)%(Re+Be)&&(t-=1),at&&(vt>t?vt-=be:vt<e&&(vt+=be))}:function(){if(vt>mt)for(;vt>=pt+be;)vt-=be;else if(vt<pt)for(;vt<=mt-be;)vt+=be}:function(){vt=Math.max(pt,Math.min(mt,vt))},Dn=ie?function(){wr(ye,""),K||!Ve?(Rr(),Ve&&(0,w.isVisible)(ye)||Pr()):(0,B.jsTransform)(ye,ut,dt,ct,jr(),Ve,Pr),pe||$r()}:function(){rt=[];var e={};e[Z]=e[$]=Pr,(0,R.removeEvents)(xe[ht],e),(0,D.addEvents)(xe[vt],e),qr(ht,ue,de,!0),qr(vt,fe,ue),Z&&$&&Ve&&(0,w.isVisible)(ye)||Pr()};return{version:"2.9.4",getInfo:na,events:bt,goTo:Hr,play:function(){_e&&!pn&&(Wr(),gn=!1)},pause:function(){pn&&(zr(),gn=!0)},isOn:Te,updateSliderHeight:yr,refresh:Kn,destroy:function(){if(et.disabled=!0,et.ownerNode&&et.ownerNode.remove(),(0,R.removeEvents)(k,{resize:$n}),Oe&&(0,R.removeEvents)(H,Nt),Jt&&(0,R.removeEvents)(Jt,Dt),rn&&(0,R.removeEvents)(rn,Rt),(0,R.removeEvents)(ye,qt),(0,R.removeEvents)(ye,Bt),En&&(0,R.removeEvents)(En,{click:Fr}),_e&&clearInterval(hn),ie&&Z){var e={};e[Z]=Pr,(0,R.removeEvents)(ye,e)}Ye&&(0,R.removeEvents)(ye,Pt),Ke&&(0,R.removeEvents)(ye,Ht);var t=[Ee,Ut,en,tn,an,xn];for(var n in te.forEach(function(e,n){var r="container"===e?me:P[e];if("object"==typeof r&&r){var a=!!r.previousElementSibling&&r.previousElementSibling,i=r.parentNode;r.outerHTML=t[n],P[e]=a?a.nextElementSibling:i.firstElementChild}}),te=ue=de=ce=fe=pe=me=ge=ye=Ce=Ee=xe=be=he=Se=De=Re=qe=Be=Ne=He=ke=Ie=Oe=Ve=We=ze=Fe=et=tt=Me=rt=at=it=ot=st=lt=ut=dt=ct=ft=vt=ht=pt=mt=yt=Ct=Et=xt=bt=St=Tt=Mt=wt=At=Lt=jt=Dt=Rt=qt=Bt=Nt=Pt=Ht=kt=It=Ot=Vt=Wt=zt=Ft=Qt=Xt=we=Ge=Qe=Jt=Ut=Zt=$t=Kt=_t=Xe=rn=an=nn=on=sn=ln=un=dn=cn=fn=vn=_e=Je=Cn=Ue=Ze=En=xn=$e=bn=hn=pn=mn=gn=yn=Mn=wn=Sn=An=Tn=Ln=Ye=Ke=null,this)"rebuild"!==n&&(this[n]=null);Te=!1},rebuild:function(){return N((0,n.extend)(P,ne))}}}function Rn(e){e&&(Ge=Xe=Ye=Ke=Oe=_e=Ze=$e=!1)}function qn(){for(var e=ie?vt-at:vt;e<0;)e+=be;return e%be+1}function Bn(e){return e=e?Math.max(0,Math.min(ze?be-1:be-He,e)):0,ie?e+at:e}function Nn(e){for(null==e&&(e=vt),ie&&(e-=at);e<0;)e+=be;return Math.floor(e%be)}function Pn(){var e,t=Nn();return e=Ot?t:Re||De?Math.ceil((t+1)*on/be-1):Math.floor(t/He),!ze&&ie&&vt===mt&&(e=on-1),e}function Hn(){return k.innerWidth||H.documentElement.clientWidth||H.body.clientWidth}function kn(e){return"top"===e?"afterbegin":"beforeend"}function In(){var e=qe?2*qe-Be:0;return function e(t){if(null!=t){var n,r,a=H.createElement("div");return t.appendChild(a),r=(n=a.getBoundingClientRect()).right-n.left,a.remove(),r||e(t.parentNode)}}(Ce)-e}function On(e){if(P[e])return!0;if(re)for(var t in re)if(re[t][e])return!0;return!1}function Vn(e,t){if(null==t&&(t=Se),"items"===e&&Re)return Math.floor((Ne+Be)/(Re+Be))||1;var n=P[e];if(re)for(var r in re)t>=parseInt(r)&&e in re[r]&&(n=re[r][e]);return"slideBy"===e&&"page"===n&&(n=Vn("items")),ie||"slideBy"!==e&&"items"!==e||(n=Math.floor(n)),n}function Wn(e,t,n,r,a){var i="";if(void 0!==e){var o=e;t&&(o-=t),i=pe?"margin: 0 "+o+"px 0 "+e+"px;":"margin: "+e+"px 0 "+o+"px 0;"}else if(t&&!n){var s="-"+t+"px";i="margin: 0 "+(pe?s+" 0 0":"0 "+s+" 0")+";"}return!ie&&a&&K&&r&&(i+=Xn(r)),i}function zn(e,t,n){return e?(e+t)*it+"px":F?F+"("+100*it+"% / "+n+")":100*it/n+"%"}function Fn(e,t,n){var r;if(e)r=e+t+"px";else{ie||(n=Math.floor(n));var a=ie?it:n;r=F?F+"(100% / "+a+")":100/a+"%"}return r="width:"+r,"inner"!==ae?r+";":r+" !important;"}function Gn(e){var t="";!1!==e&&(t=(pe?"padding-":"margin-")+(pe?"right":"bottom")+": "+e+"px;");return t}function Qn(e,t){var n=e.substring(0,e.length-t).toLowerCase();return n&&(n="-"+n+"-"),n}function Xn(e){return Qn(K,18)+"transition-duration:"+e/1e3+"s;"}function Yn(e){return Qn(J,17)+"animation-duration:"+e/1e3+"s;"}function Kn(){if(On("autoHeight")||De||!pe){var t=ye.querySelectorAll("img");(0,p.forEach)(t,function(e){var t=e.src;tt||(t&&t.indexOf("data:image")<0?(e.src="",(0,D.addEvents)(e,Xt),(0,g.addClass)(e,"loading"),e.src=t):cr(e))}),(0,e.raf)(function(){pr((0,S.arrayFromNodeList)(t),function(){we=!0})}),On("autoHeight")&&(t=vr(vt,Math.min(vt+He-1,it-1))),tt?_n():(0,e.raf)(function(){pr((0,S.arrayFromNodeList)(t),_n)})}else ie&&Dr(),Un(),Zn()}function _n(){if(De&&be>1){var e=ze?vt:be-1;!function t(){var n=xe[e].getBoundingClientRect().left,r=xe[e-1].getBoundingClientRect().right;Math.abs(n-r)<=1?Jn():setTimeout(function(){t()},16)}()}else Jn()}function Jn(){pe&&!De||(Cr(),De?(st=Lr(),At&&(Lt=tr()),mt=ft(),Rn(Mt||Lt)):$r()),ie&&Dr(),Un(),Zn()}function Un(){if(Er(),me.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+lr()+"</span>  of "+be+"</div>"),Ae=me.querySelector(".tns-liveregion .current"),Vt){var e=_e?"stop":"start";En?(0,x.setAttrs)(En,{"data-action":e}):P.autoplayButtonOutput&&(me.insertAdjacentHTML(kn(P.autoplayPosition),'<button type="button" data-action="'+e+'">'+bn[0]+e+bn[1]+Ue[0]+"</button>"),En=me.querySelector("[data-action]")),En&&(0,D.addEvents)(En,{click:Fr}),_e&&(Wr(),Ze&&(0,D.addEvents)(ye,qt),$e&&(0,D.addEvents)(ye,Bt))}if(It){if(rn)(0,x.setAttrs)(rn,{"aria-label":"Carousel Pagination"}),nn=rn.children,(0,p.forEach)(nn,function(e,t){(0,x.setAttrs)(e,{"data-nav":t,tabindex:"-1","aria-label":fn+(t+1),"aria-controls":Tt})});else{for(var t="",n=Ot?"":'style="display:none"',r=0;r<be;r++)t+='<button type="button" data-nav="'+r+'" tabindex="-1" aria-controls="'+Tt+'" '+n+' aria-label="'+fn+(r+1)+'"></button>';t='<div class="tns-nav" aria-label="Carousel Pagination">'+t+"</div>",me.insertAdjacentHTML(kn(P.navPosition),t),rn=me.querySelector(".tns-nav"),nn=rn.children}if(ta(),K){var a=K.substring(0,K.length-18).toLowerCase(),i="transition: all "+Ve/1e3+"s";a&&(i="-"+a+"-"+i),(0,d.addCSSRule)(et,"[aria-controls^="+Tt+"-item]",i,(0,f.getCssRulesLength)(et))}(0,x.setAttrs)(nn[un],{"aria-label":fn+(un+1)+vn}),(0,b.removeAttrs)(nn[un],"tabindex"),(0,g.addClass)(nn[un],cn),(0,D.addEvents)(rn,Rt)}kt&&(Jt||Zt&&$t||(me.insertAdjacentHTML(kn(P.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+Tt+'">'+Qe[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+Tt+'">'+Qe[1]+"</button></div>"),Jt=me.querySelector(".tns-controls")),Zt&&$t||(Zt=Jt.children[0],$t=Jt.children[1]),P.controlsContainer&&(0,x.setAttrs)(Jt,{"aria-label":"Carousel Navigation",tabindex:"0"}),(P.controlsContainer||P.prevButton&&P.nextButton)&&(0,x.setAttrs)([Zt,$t],{"aria-controls":Tt,tabindex:"-1"}),(P.controlsContainer||P.prevButton&&P.nextButton)&&((0,x.setAttrs)(Zt,{"data-controls":"prev"}),(0,x.setAttrs)($t,{"data-controls":"next"})),Kt=br(Zt),_t=br($t),Mr(),Jt?(0,D.addEvents)(Jt,Dt):((0,D.addEvents)(Zt,Dt),(0,D.addEvents)($t,Dt))),rr()}function Zn(){if(ie&&Z){var e={};e[Z]=Pr,(0,D.addEvents)(ye,e)}Ye&&(0,D.addEvents)(ye,Pt,P.preventScrollOnTouch),Ke&&(0,D.addEvents)(ye,Ht),Oe&&(0,D.addEvents)(H,Nt),"inner"===ae?bt.on("outerResized",function(){er(),bt.emit("innerLoaded",na())}):(re||Re||De||Fe||!pe)&&(0,D.addEvents)(k,{resize:$n}),Fe&&("outer"===ae?bt.on("innerLoaded",hr):Mt||hr()),dr(),Mt?or():Lt&&ir(),bt.on("indexChanged",mr),"inner"===ae&&bt.emit("innerLoaded",na()),"function"==typeof xt&&xt(na()),Te=!0}function $n(t){(0,e.raf)(function(){er(Qr(t))})}function er(e){if(Te){"outer"===ae&&bt.emit("outerResized",na(e)),Se=Hn();var t,n=he,r=!1;re&&(nr(),(t=n!==he)&&bt.emit("newBreakpointStart",na(e)));var a,i,o=He,s=Mt,l=Lt,u=Oe,v=Ge,h=Xe,m=Ye,C=Ke,E=_e,x=Ze,b=$e,S=vt;if(t){var w=Re,A=Fe,L=Qe,j=Pe,q=Ue;if(!Q)var B=Be,N=qe}if(Oe=Vn("arrowKeys"),Ge=Vn("controls"),Xe=Vn("nav"),Ye=Vn("touch"),Pe=Vn("center"),Ke=Vn("mouseDrag"),_e=Vn("autoplay"),Ze=Vn("autoplayHoverPause"),$e=Vn("autoplayResetOnVisibility"),t&&(Mt=Vn("disable"),Re=Vn("fixedWidth"),Ve=Vn("speed"),Fe=Vn("autoHeight"),Qe=Vn("controlsText"),Ue=Vn("autoplayText"),Je=Vn("autoplayTimeout"),Q||(qe=Vn("edgePadding"),Be=Vn("gutter"))),Rn(Mt),Ne=In(),pe&&!De||Mt||(Cr(),pe||($r(),r=!0)),(Re||De)&&(st=Lr(),mt=ft()),(t||Re)&&(He=Vn("items"),ke=Vn("slideBy"),(i=He!==o)&&(Re||De||(mt=ft()),jn())),t&&Mt!==s&&(Mt?or():function(){if(!wt)return;if(et.disabled=!1,ye.className+=St,Dr(),ze)for(var e=at;e--;)ie&&(0,M.showElement)(xe[e]),(0,M.showElement)(xe[it-e-1]);if(!ie)for(var t=vt,n=vt+be;t<n;t++){var r=xe[t],a=t<vt+He?ue:fe;r.style.left=100*(t-vt)/He+"%",(0,g.addClass)(r,a)}ar(),wt=!1}()),At&&(t||Re||De)&&(Lt=tr())!==l&&(Lt?(Rr(jr(Bn(0))),ir()):(!function(){if(!jt)return;qe&&Q&&(ge.style.margin="");if(at)for(var e="tns-transparent",t=at;t--;)ie&&(0,y.removeClass)(xe[t],e),(0,y.removeClass)(xe[it-t-1],e);ar(),jt=!1}(),r=!0)),Rn(Mt||Lt),_e||(Ze=$e=!1),Oe!==u&&(Oe?(0,D.addEvents)(H,Nt):(0,R.removeEvents)(H,Nt)),Ge!==v&&(Ge?Jt?(0,M.showElement)(Jt):(Zt&&(0,M.showElement)(Zt),$t&&(0,M.showElement)($t)):Jt?(0,T.hideElement)(Jt):(Zt&&(0,T.hideElement)(Zt),$t&&(0,T.hideElement)($t))),Xe!==h&&(Xe?((0,M.showElement)(rn),ta()):(0,T.hideElement)(rn)),Ye!==m&&(Ye?(0,D.addEvents)(ye,Pt,P.preventScrollOnTouch):(0,R.removeEvents)(ye,Pt)),Ke!==C&&(Ke?(0,D.addEvents)(ye,Ht):(0,R.removeEvents)(ye,Ht)),_e!==E&&(_e?(En&&(0,M.showElement)(En),pn||gn||Wr()):(En&&(0,T.hideElement)(En),pn&&zr())),Ze!==x&&(Ze?(0,D.addEvents)(ye,qt):(0,R.removeEvents)(ye,qt)),$e!==b&&($e?(0,D.addEvents)(H,Bt):(0,R.removeEvents)(H,Bt)),t){if(Re===w&&Pe===j||(r=!0),Fe!==A&&(Fe||(ge.style.height="")),Ge&&Qe!==L&&(Zt.innerHTML=Qe[0],$t.innerHTML=Qe[1]),En&&Ue!==q){var k=_e?1:0,I=En.innerHTML,O=I.length-q[k].length;I.substring(O)===q[k]&&(En.innerHTML=I.substring(0,O)+Ue[k])}}else Pe&&(Re||De)&&(r=!0);if((i||Re&&!De)&&(on=ea(),ta()),(a=vt!==S)?(bt.emit("indexChanged",na()),r=!0):i?a||mr():(Re||De)&&(dr(),Er(),sr()),i&&!ie&&function(){for(var e=vt+Math.min(be,He),t=it;t--;){var n=xe[t];t>=vt&&t<e?((0,g.addClass)(n,"tns-moving"),n.style.left=100*(t-vt)/He+"%",(0,g.addClass)(n,ue),(0,y.removeClass)(n,fe)):n.style.left&&(n.style.left="",(0,g.addClass)(n,fe),(0,y.removeClass)(n,ue)),(0,y.removeClass)(n,de)}setTimeout(function(){(0,p.forEach)(xe,function(e){(0,y.removeClass)(e,"tns-moving")})},300)}(),!Mt&&!Lt){if(t&&!Q&&(qe===N&&Be===B||(ge.style.cssText=Wn(qe,Be,Re,Ve,Fe)),pe)){ie&&(ye.style.width=zn(Re,Be,He));var V=Fn(Re,Be,He)+Gn(Be);(0,c.removeCSSRule)(et,(0,f.getCssRulesLength)(et)-1),(0,d.addCSSRule)(et,"#"+Tt+" > .tns-item",V,(0,f.getCssRulesLength)(et))}Fe&&hr(),r&&(Dr(),ht=vt)}t&&bt.emit("newBreakpointEnd",na(e))}}function tr(){if(!Re&&!De)return be<=(Pe?He-(He-1)/2:He);var e=Re?(Re+Be)*be:Me[be],t=qe?Ne+2*qe:Ne+Be;return Pe&&(t-=Re?(Ne-Re)/2:(Ne-(Me[vt+1]-Me[vt]-Be))/2),e<=t}function nr(){for(var e in he=0,re)e=parseInt(e),Se>=e&&(he=e)}function rr(){!_e&&En&&(0,T.hideElement)(En),!Xe&&rn&&(0,T.hideElement)(rn),Ge||(Jt?(0,T.hideElement)(Jt):(Zt&&(0,T.hideElement)(Zt),$t&&(0,T.hideElement)($t)))}function ar(){_e&&En&&(0,M.showElement)(En),Xe&&rn&&(0,M.showElement)(rn),Ge&&(Jt?(0,M.showElement)(Jt):(Zt&&(0,M.showElement)(Zt),$t&&(0,M.showElement)($t)))}function ir(){if(!jt){if(qe&&(ge.style.margin="0px"),at)for(var e="tns-transparent",t=at;t--;)ie&&(0,g.addClass)(xe[t],e),(0,g.addClass)(xe[it-t-1],e);rr(),jt=!0}}function or(){if(!wt){if(et.disabled=!0,ye.className=ye.className.replace(St.substring(1),""),(0,b.removeAttrs)(ye,["style"]),ze)for(var e=at;e--;)ie&&(0,T.hideElement)(xe[e]),(0,T.hideElement)(xe[it-e-1]);if(pe&&ie||(0,b.removeAttrs)(ge,["style"]),!ie)for(var t=vt,n=vt+be;t<n;t++){var r=xe[t];(0,b.removeAttrs)(r,["style"]),(0,y.removeClass)(r,ue),(0,y.removeClass)(r,fe)}rr(),wt=!0}}function sr(){var e=lr();Ae.innerHTML!==e&&(Ae.innerHTML=e)}function lr(){var e=ur(),t=e[0]+1,n=e[1]+1;return t===n?t+"":t+" to "+n}function ur(e){null==e&&(e=jr());var t,n,r,a=vt;if(Pe||qe?(De||Re)&&(n=-(parseFloat(e)+qe),r=n+Ne+2*qe):De&&(n=Me[vt],r=n+Ne),De)Me.forEach(function(e,i){i<it&&((Pe||qe)&&e<=n+.5&&(a=i),r-e>=.5&&(t=i))});else{if(Re){var i=Re+Be;Pe||qe?(a=Math.floor(n/i),t=Math.ceil(r/i-1)):t=a+Math.ceil(Ne/i)-1}else if(Pe||qe){var o=He-1;if(Pe?(a-=o/2,t=vt+o/2):t=vt+o,qe){var s=qe*He/Ne;a-=s,t+=s}a=Math.floor(a),t=Math.ceil(t)}else t=a+He-1;a=Math.max(a,0),t=Math.min(t,it-1)}return[a,t]}function dr(){if(tt&&!Mt){var e=ur();e.push(nt),vr.apply(null,e).forEach(function(e){if(!(0,m.hasClass)(e,Qt)){var t={};t[Z]=function(e){e.stopPropagation()},(0,D.addEvents)(e,t),(0,D.addEvents)(e,Xt),e.src=(0,E.getAttr)(e,"data-src");var n=(0,E.getAttr)(e,"data-srcset");n&&(e.srcset=n),(0,g.addClass)(e,"loading")}})}}function cr(e){(0,g.addClass)(e,"loaded"),fr(e)}function fr(e){(0,g.addClass)(e,Qt),(0,y.removeClass)(e,"loading"),(0,R.removeEvents)(e,Xt)}function vr(e,t,n){var r=[];for(n||(n="img");e<=t;)(0,p.forEach)(xe[e].querySelectorAll(n),function(e){r.push(e)}),e++;return r}function hr(){var t=vr.apply(null,ur());(0,e.raf)(function(){pr(t,yr)})}function pr(t,n){return we?n():(t.forEach(function(e,n){!tt&&e.complete&&fr(e),(0,m.hasClass)(e,Qt)&&t.splice(n,1)}),t.length?void(0,e.raf)(function(){pr(t,n)}):n())}function mr(){dr(),Er(),sr(),Mr(),function(){if(Xe&&(un=ln>=0?ln:Pn(),ln=-1,un!==dn)){var e=nn[dn],t=nn[un];(0,x.setAttrs)(e,{tabindex:"-1","aria-label":fn+(dn+1)}),(0,y.removeClass)(e,cn),(0,x.setAttrs)(t,{"aria-label":fn+(un+1)+vn}),(0,b.removeAttrs)(t,"tabindex"),(0,g.addClass)(t,cn),dn=un}}()}function gr(e,t){for(var n=[],r=e,a=Math.min(e+t,it);r<a;r++)n.push(xe[r].offsetHeight);return Math.max.apply(null,n)}function yr(){var e=Fe?gr(vt,He):gr(at,be),t=ve||ge;t.style.height!==e&&(t.style.height=e+"px")}function Cr(){Me=[0];var e=pe?"left":"top",t=pe?"right":"bottom",n=xe[0].getBoundingClientRect()[e];(0,p.forEach)(xe,function(r,a){a&&Me.push(r.getBoundingClientRect()[e]-n),a===it-1&&Me.push(r.getBoundingClientRect()[t]-n)})}function Er(){var e=ur(),t=e[0],n=e[1];(0,p.forEach)(xe,function(e,r){r>=t&&r<=n?(0,C.hasAttr)(e,"aria-hidden")&&((0,b.removeAttrs)(e,["aria-hidden","tabindex"]),(0,g.addClass)(e,Ft)):(0,C.hasAttr)(e,"aria-hidden")||((0,x.setAttrs)(e,{"aria-hidden":"true",tabindex:"-1"}),(0,y.removeClass)(e,Ft))})}function xr(e){return e.nodeName.toLowerCase()}function br(e){return"button"===xr(e)}function Sr(e){return"true"===e.getAttribute("aria-disabled")}function Tr(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function Mr(){if(Ge&&!We&&!ze){var e=Kt?Zt.disabled:Sr(Zt),t=_t?$t.disabled:Sr($t),n=vt<=pt,r=!We&&vt>=mt;n&&!e&&Tr(Kt,Zt,!0),!n&&e&&Tr(Kt,Zt,!1),r&&!t&&Tr(_t,$t,!0),!r&&t&&Tr(_t,$t,!1)}}function wr(e,t){K&&(e.style[K]=t)}function Ar(e){return null==e&&(e=vt),De?(Ne-(qe?Be:0)-(Me[e+1]-Me[e]-Be))/2:Re?(Ne-Re)/2:(He-1)/2}function Lr(){var e=Ne+(qe?Be:0)-(Re?(Re+Be)*it:Me[it]);return Pe&&!ze&&(e=Re?-(Re+Be)*(it-1)-Ar():Ar(it-1)-Me[it-1]),e>0&&(e=0),e}function jr(e){var t;if(null==e&&(e=vt),pe&&!De)if(Re)t=-(Re+Be)*e,Pe&&(t+=Ar());else{var n=X?it:He;Pe&&(e-=Ar()),t=100*-e/n}else t=-Me[e],Pe&&De&&(t+=Ar());return ot&&(t=Math.max(t,st)),t+=!pe||De||Re?"px":"%"}function Dr(e){wr(ye,"0s"),Rr(e)}function Rr(e){null==e&&(e=jr()),ye.style[ut]=dt+e+ct}function qr(e,t,n,r){var a=e+He;ze||(a=Math.min(a,it));for(var i=e;i<a;i++){var o=xe[i];r||(o.style.left=100*(i-vt)/He+"%"),ce&&_&&(o.style[_]=o.style[U]=ce*(i-e)/1e3+"s"),(0,y.removeClass)(o,t),(0,g.addClass)(o,n),r&&rt.push(o)}}function Br(e,t){lt&&jn(),(vt!==ht||t)&&(bt.emit("indexChanged",na()),bt.emit("transitionStart",na()),Fe&&hr(),pn&&e&&["click","keydown"].indexOf(e.type)>=0&&zr(),Et=!0,Dn())}function Nr(e){return e.toLowerCase().replace(/-/g,"")}function Pr(e){if(ie||Et){if(bt.emit("transitionEnd",na(e)),!ie&&rt.length>0)for(var t=0;t<rt.length;t++){var n=rt[t];n.style.left="",U&&_&&(n.style[U]="",n.style[_]=""),(0,y.removeClass)(n,de),(0,g.addClass)(n,fe)}if(!e||!ie&&e.target.parentNode===ye||e.target===ye&&Nr(e.propertyName)===Nr(ut)){if(!lt){var r=vt;jn(),vt!==r&&(bt.emit("indexChanged",na()),Dr())}"inner"===ae&&bt.emit("innerLoaded",na()),Et=!1,ht=vt}}}function Hr(e,t){if(!Lt)if("prev"===e)kr(t,-1);else if("next"===e)kr(t,1);else{if(Et){if(gt)return;Pr()}var n=Nn(),r=0;if("first"===e?r=-n:"last"===e?r=ie?be-He-n:be-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(t||(e=Math.max(0,Math.min(be-1,e))),r=e-n)),!ie&&r&&Math.abs(r)<He){var a=r>0?1:-1;r+=vt+r-be>=pt?be*a:2*be*a*-1}vt+=r,ie&&ze&&(vt<pt&&(vt+=be),vt>mt&&(vt-=be)),Nn(vt)!==Nn(ht)&&Br(t)}}function kr(e,t){if(Et){if(gt)return;Pr()}var n;if(!t){for(var r=Xr(e=Qr(e));r!==Jt&&[Zt,$t].indexOf(r)<0;)r=r.parentNode;var a=[Zt,$t].indexOf(r);a>=0&&(n=!0,t=0===a?-1:1)}if(We){if(vt===pt&&-1===t)return void Hr("last",e);if(vt===mt&&1===t)return void Hr("first",e)}t&&(vt+=ke*t,De&&(vt=Math.floor(vt)),Br(n||e&&"keydown"===e.type?e:null))}function Ir(){hn=setInterval(function(){kr(null,Cn)},Je),pn=!0}function Or(){clearInterval(hn),pn=!1}function Vr(e,t){(0,x.setAttrs)(En,{"data-action":e}),En.innerHTML=bn[0]+e+bn[1]+t}function Wr(){Ir(),En&&Vr("stop",Ue[1])}function zr(){Or(),En&&Vr("start",Ue[0])}function Fr(){pn?(zr(),gn=!0):(Wr(),gn=!1)}function Gr(e){e.focus()}function Qr(e){return Yr(e=e||k.event)?e.changedTouches[0]:e}function Xr(e){return e.target||k.event.srcElement}function Yr(e){return e.type.indexOf("touch")>=0}function Kr(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _r(){return(0,h.getTouchDirection)((0,v.toDegree)(wn.y-Mn.y,wn.x-Mn.x),yt)===P.axis}function Jr(e){if(Et){if(gt)return;Pr()}_e&&pn&&Or(),An=!0,Tn&&((0,t.caf)(Tn),Tn=null);var n=Qr(e);bt.emit(Yr(e)?"touchStart":"dragStart",na(e)),!Yr(e)&&["img","a"].indexOf(xr(Xr(e)))>=0&&Kr(e),wn.x=Mn.x=n.clientX,wn.y=Mn.y=n.clientY,ie&&(Sn=parseFloat(ye.style[ut].replace(dt,"")),wr(ye,"0s"))}function Ur(n){if(An){var r=Qr(n);wn.x=r.clientX,wn.y=r.clientY,ie?Tn||(Tn=(0,e.raf)(function(){!function n(r){if(!Ct)return void(An=!1);(0,t.caf)(Tn);An&&(Tn=(0,e.raf)(function(){n(r)}));"?"===Ct&&(Ct=_r());if(Ct){!Yt&&Yr(r)&&(Yt=!0);try{r.type&&bt.emit(Yr(r)?"touchMove":"dragMove",na(r))}catch(s){}var a=Sn,i=Ln(wn,Mn);if(!pe||Re||De)a+=i,a+="px";else{var o=X?i*He*100/((Ne+Be)*it):100*i/(Ne+Be);a+=o,a+="%"}ye.style[ut]=dt+a+ct}}(n)})):("?"===Ct&&(Ct=_r()),Ct&&(Yt=!0)),("boolean"!=typeof n.cancelable||n.cancelable)&&Yt&&n.preventDefault()}}function Zr(n){if(An){Tn&&((0,t.caf)(Tn),Tn=null),ie&&wr(ye,""),An=!1;var r=Qr(n);wn.x=r.clientX,wn.y=r.clientY;var a=Ln(wn,Mn);if(Math.abs(a)){if(!Yr(n)){var i=Xr(n);(0,D.addEvents)(i,{click:function e(t){Kr(t),(0,R.removeEvents)(i,{click:e})}})}ie?Tn=(0,e.raf)(function(){if(pe&&!De){var e=-a*He/(Ne+Be);e=a>0?Math.floor(e):Math.ceil(e),vt+=e}else{var t=-(Sn+a);if(t<=0)vt=pt;else if(t>=Me[it-1])vt=mt;else for(var r=0;r<it&&t>=Me[r];)vt=r,t>Me[r]&&a<0&&(vt+=1),r++}Br(n,a),bt.emit(Yr(n)?"touchEnd":"dragEnd",na(n))}):Ct&&kr(n,a>0?-1:1)}}"auto"===P.preventScrollOnTouch&&(Yt=!1),yt&&(Ct="?"),_e&&!pn&&Ir()}function $r(){(ve||ge).style.height=Me[vt+He]-Me[vt]+"px"}function ea(){var e=Re?(Re+Be)*be/Ne:be/He;return Math.min(Math.ceil(e),be)}function ta(){if(Xe&&!Ot&&on!==sn){var e=sn,t=on,n=M.showElement;for(sn>on&&(e=on,t=sn,n=T.hideElement);e<t;)n(nn[e]),e++;sn=on}}function na(e){return{container:ye,slideItems:xe,navContainer:rn,navItems:nn,controlsContainer:Jt,hasControls:kt,prevButton:Zt,nextButton:$t,items:He,slideBy:ke,cloneCount:at,slideCount:be,slideCountNew:it,index:vt,indexCached:ht,displayIndex:qn(),navCurrentIndex:un,navCurrentIndexCached:dn,pages:on,pagesCached:sn,sheet:et,isOn:Te,event:e||{}}}ee&&console.warn("No slides found in",P.container)};exports.tns=N;
},{"./helpers/raf.js":"uLmF","./helpers/caf.js":"Xp2s","./helpers/extend.js":"CZet","./helpers/checkStorageValue.js":"JXzU","./helpers/setLocalStorage.js":"KYzG","./helpers/getSlideId.js":"Bg6Y","./helpers/calc.js":"P69K","./helpers/percentageLayout.js":"OiMB","./helpers/mediaquerySupport.js":"RqKm","./helpers/createStyleSheet.js":"PCGC","./helpers/addCSSRule.js":"QcHY","./helpers/removeCSSRule.js":"gWdF","./helpers/getCssRulesLength.js":"MFGc","./helpers/toDegree.js":"tGaD","./helpers/getTouchDirection.js":"Mrjx","./helpers/forEach.js":"pdKX","./helpers/hasClass.js":"Vyx8","./helpers/addClass.js":"Lofj","./helpers/removeClass.js":"Dxsk","./helpers/hasAttr.js":"qInb","./helpers/getAttr.js":"nzPU","./helpers/setAttrs.js":"rLyu","./helpers/removeAttrs.js":"hcgL","./helpers/arrayFromNodeList.js":"sN8R","./helpers/hideElement.js":"rnIP","./helpers/showElement.js":"m80X","./helpers/isVisible.js":"danC","./helpers/whichProperty.js":"P6nt","./helpers/has3DTransforms.js":"RteU","./helpers/getEndProperty.js":"W0ni","./helpers/addEvents.js":"YpMt","./helpers/removeEvents.js":"Ki4y","./helpers/events.js":"wJcs","./helpers/jsTransform.js":"t789"}],"wCur":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=r(require("basiclightbox"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=l?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function n(t){const r=document.querySelector(".btn-open-trailer"),n=e.create(`\n                <div class="modal">\n                        <iframe width="640" height="480" frameborder="0" allowfullscreen allow='autoplay'\n                                src="https://www.youtube.com/embed/${t[0].key}?autoplay=1" >\n                        </iframe>\n                        <button type="button" class="modal-trailer-close-btn">\n                                <svg width="35" height="35" fill="#fff" xmlns="http://www.w3.org/2000/svg" ><path d="m8 8 14 14M8 22 22 8" stroke="#000" stroke-width="2"></path></svg>\n                        </button>\n                </div>\n        `,{onShow:e=>{e.element().querySelector(".modal-trailer-close-btn").onclick=e.close}});r.addEventListener("click",()=>{n.show()})}
},{"basiclightbox":"BNjD"}],"wzuc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u,exports.slider=c;var e=n(require("../js/get-refs")),t=require("tiny-slider/src/tiny-slider"),r=n(require("../js/api-requests")),a=n(require("../js/modal-movie-details")),i=n(require("./modal-trailer")),s=require("./localization");function n(e){return e&&e.__esModule?e:{default:e}}const d=(0,e.default)(),o=new r.default;function u(e){if(window.screen.width>=1024)return e.map(e=>{const{poster_path:t,id:r}=e,a=`<a><img src="${l(t)}" alt="" data-id="${r}"/></a>`;return d.slider.insertAdjacentHTML("beforeend",a)}),c(),c().play();c().destroy()}function l(e){return null===e?"https://wipfilms.net/wp-content/data/posters/tt0338683.jpg":`https://image.tmdb.org/t/p/w500${e}`}function c(){return(0,t.tns)({container:".slider",items:9,controlsContainer:".slider",navContainer:!1,navAsThumbnails:!1,autoplay:!0,autoplayTimeout:3e3,autoplayButton:!1,autoplayButtonOutput:!1,speed:1e3,nav:!1,rewind:!1,mouseDrag:!0})}function p(){o.getMoviesTrailer().then(e=>{(0,i.default)(e.data.results)})}d.slider.addEventListener("click",e=>{e.target.parentNode.classList.contains("tns-slide-active")&&(o.id=e.target.dataset.id,o.getMoviesById().then(e=>{(0,a.default)(e.data),(0,s.translateItems)(".modal-card [data-key]"),setTimeout(()=>{p()},500)}))});
},{"../js/get-refs":"EGsz","tiny-slider/src/tiny-slider":"HDE5","../js/api-requests":"unYu","../js/modal-movie-details":"dMVB","./modal-trailer":"wCur","./localization":"kQRN"}],"jPMh":[function(require,module,exports) {
var define;
var t;!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof t&&t.amd?t([],n):"object"==typeof exports?exports.Pagination=n():(e.tui=e.tui||{},e.tui.Pagination=n())}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=10)}([function(t,e,n){"use strict";t.exports=function(t,e){var n,i,s,r,o=Object.prototype.hasOwnProperty;for(s=1,r=arguments.length;s<r;s+=1)for(i in n=arguments[s])o.call(n,i)&&(t[i]=n[i]);return t}},function(t,e,n){"use strict";t.exports=function(t){return void 0===t}},function(t,e,n){"use strict";t.exports=function(t){return t instanceof Array}},function(t,e,n){"use strict";var i=n(2),s=n(17),r=n(6);t.exports=function(t,e,n){i(t)?s(t,e,n):r(t,e,n)}},function(t,e,n){"use strict";t.exports=function(t){return"string"==typeof t||t instanceof String}},function(t,e,n){"use strict";t.exports=function(t){return t instanceof Function}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i;for(i in n=n||null,t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))break}},function(t,e,n){"use strict";var i=n(18),s=n(0);t.exports=function(t,e){var n;return e||(e=t,t=null),n=e.init||function(){},t&&i(n,t),e.hasOwnProperty("static")&&(s(n,e.static),delete e.static),s(n.prototype,e),n}},function(t,e,n){"use strict";var i=n(2);t.exports=function(t,e,n){var s,r;if(n=n||0,!i(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(r=e.length,s=n;n>=0&&s<r;s+=1)if(e[s]===t)return s;return-1}},function(t,e,n){"use strict";var i=n(29),s=n(30),r=n(5),o={capitalizeFirstLetter:function(t){return t.substring(0,1).toUpperCase()+t.substring(1,t.length)},isContained:function(t,e){return!!e&&(t===e||e.contains(t))},createElementByTemplate:function(t,e){var n=document.createElement("div"),s=r(t)?t(e):i(t,e);return n.innerHTML=s,n.firstChild},bind:function(t,e){var n,i=Array.prototype.slice;return t.bind?t.bind.apply(t,i.call(arguments,1)):(n=i.call(arguments,2),function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)})},sendHostName:function(){s("pagination","UA-129987462-1")}};t.exports=o},function(t,e,n){"use strict";n(11),t.exports=n(12)},function(t,e,n){},function(t,e,n){"use strict";var i=n(13),s=n(7),r=n(0),o=n(1),a=n(20),u=n(9),c={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},p=s({init:function(t,e){this._options=r({},c,e),this._currentPage=0,this._view=new a(t,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(t){this._currentPage=t||this._options.page},_getLastPage:function(){var t=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return t||1},_getPageIndex:function(t){var e;return this._options.centerAlign?(e=t-Math.floor(this._options.visiblePages/2),e=Math.max(e,1),e=Math.min(e,this._getLastPage()-this._options.visiblePages+1)):Math.ceil(t/this._options.visiblePages)},_getRelativePage:function(t){var e="prev"===t,n=this.getCurrentPage();return e?n-1:n+1},_getMorePageIndex:function(t){var e=this._getPageIndex(this.getCurrentPage()),n=this._options.visiblePages,i="prev"===t;return this._options.centerAlign?i?e-1:e+n:i?(e-1)*n:e*n+1},_convertToValidPage:function(t){var e=this._getLastPage();return t=Math.max(t,1),t=Math.min(t,e)},_paginate:function(t){var e=this._makeViewData(t||this._options.page);this._setCurrentPage(t),this._view.update(e)},_makeViewData:function(t){var e={},n=this._getLastPage(),i=this._getPageIndex(t),s=this._getPageIndex(n),r=this._getEdge(t);return e.leftPageNumber=r.left,e.rightPageNumber=r.right,e.prevMore=i>1,e.nextMore=i<s,e.page=t,e.currentPageIndex=t,e.lastPage=n,e.lastPageListIndex=n,e},_getEdge:function(t){var e,n,i,s=this._getLastPage(),r=this._options.visiblePages,o=this._getPageIndex(t);return this._options.centerAlign?(i=Math.floor(r/2),(n=(e=Math.max(t-i,1))+r-1)>s&&(e=Math.max(s-r+1,1),n=s)):(e=(o-1)*r+1,n=o*r,n=Math.min(n,s)),{left:e,right:n}},_onClickHandler:function(t,e){switch(t){case"first":e=1;break;case"prev":e=this._getRelativePage("prev");break;case"next":e=this._getRelativePage("next");break;case"prevMore":e=this._getMorePageIndex("prev");break;case"nextMore":e=this._getMorePageIndex("next");break;case"last":e=this._getLastPage();break;default:if(!e)return}this.movePageTo(e)},reset:function(t){o(t)&&(t=this._options.totalItems),this._options.totalItems=t,this._paginate(1)},movePageTo:function(t){t=this._convertToValidPage(t),this.invoke("beforeMove",{page:t})&&(this._paginate(t),this.fire("afterMove",{page:t}))},setTotalItems:function(t){this._options.totalItems=t},setItemsPerPage:function(t){this._options.itemsPerPage=t},getCurrentPage:function(){return this._currentPage||this._options.page}});i.mixin(p),t.exports=p},function(t,e,n){"use strict";var i=n(0),s=n(14),r=n(4),o=n(16),a=n(2),u=n(5),c=n(3),p=/\s+/g;function l(){this.events=null,this.contexts=null}l.mixin=function(t){i(t.prototype,l.prototype)},l.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},l.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&((e=n[t])||(e=[],n[t]=e),n=e),n},l.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},l.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},l.prototype._memorizeContext=function(t){var e,n;s(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1?e[n][1]+=1:e.push([t,1]))},l.prototype._forgetContext=function(t){var e,n;s(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},l.prototype._bindEvent=function(t,e,n){var i=this._safeEvent(t);this._memorizeContext(n),i.push(this._getHandlerItem(e,n))},l.prototype.on=function(t,e,n){var i=this;r(t)?(t=t.split(p),c(t,function(t){i._bindEvent(t,e,n)})):o(t)&&(n=e,c(t,function(t,e){i.on(e,t,n)}))},l.prototype.once=function(t,e,n){var i=this;if(o(t))return n=e,void c(t,function(t,e){i.once(e,t,n)});this.on(t,function s(){e.apply(n,arguments),i.off(t,s,n)},n)},l.prototype._spliceMatches=function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n;i+=1)!0===e(t[i])&&(t.splice(i,1),n-=1,i-=1)},l.prototype._matchHandler=function(t){var e=this;return function(n){var i=t===n.handler;return i&&e._forgetContext(n.context),i}},l.prototype._matchContext=function(t){var e=this;return function(n){var i=t===n.context;return i&&e._forgetContext(n.context),i}},l.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(i){var s=t===i.handler,r=e===i.context,o=s&&r;return o&&n._forgetContext(i.context),o}},l.prototype._offByEventName=function(t,e){var n=this,i=u(e),s=n._matchHandler(e);t=t.split(p),c(t,function(t){var e=n._safeEvent(t);i?n._spliceMatches(e,s):(c(e,function(t){n._forgetContext(t.context)}),n.events[t]=[])})},l.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);c(this._safeEvent(),function(t){e._spliceMatches(t,n)})},l.prototype._offByObject=function(t,e){var n,i=this;this._indexOfContext(t)<0?c(t,function(t,e){i.off(e,t)}):r(e)?(n=this._matchContext(t),i._spliceMatches(this._safeEvent(e),n)):u(e)?(n=this._matchHandlerAndContext(e,t),c(this._safeEvent(),function(t){i._spliceMatches(t,n)})):(n=this._matchContext(t),c(this._safeEvent(),function(t){i._spliceMatches(t,n)}))},l.prototype.off=function(t,e){r(t)?this._offByEventName(t,e):arguments.length?u(t)?this._offByHandler(t):o(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},l.prototype.fire=function(t){this.invoke.apply(this,arguments)},l.prototype.invoke=function(t){var e,n,i,s;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),i=0;e[i];){if(!1===(s=e[i]).handler.apply(s.context,n))return!1;i+=1}return!0},l.prototype.hasListener=function(t){return this.getListenerLength(t)>0},l.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=l},function(t,e,n){"use strict";var i=n(1),s=n(15);t.exports=function(t){return!i(t)&&!s(t)}},function(t,e,n){"use strict";t.exports=function(t){return null===t}},function(t,e,n){"use strict";t.exports=function(t){return t===Object(t)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i=0,s=t.length;for(n=n||null;i<s&&!1!==e.call(n,t[i],i,t);i+=1);}},function(t,e,n){"use strict";var i=n(19);t.exports=function(t,e){var n=i(e.prototype);n.constructor=t,t.prototype=n}},function(t,e,n){"use strict";t.exports=function(t){function e(){}return e.prototype=t,new e}},function(t,e,n){"use strict";var i=n(3),s=n(7),r=n(21),o=n(22),a=n(24),u=n(25),c=n(0),p=n(4),l=n(28),f=n(9),h={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},g=["first","prev","next","last"],_=["prev","next"],d=s({init:function(t,e,n){this._containerElement=null,this._firstItemClassName=e.firstItemClassName,this._lastItemClassName=e.lastItemClassName,this._template=c({},h,e.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(t),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(n)},_setRootElement:function(t){if(p(t)?t=document.getElementById(t)||document.querySelector(t):t.jquery&&(t=t[0]),!l(t))throw new Error("The container element is invalid.");this._containerElement=t},_setMoveButtons:function(){i(g,function(t){this._buttons[t]=f.createElementByTemplate(this._template.moveButton,{type:t})},this)},_setDisabledMoveButtons:function(){i(g,function(t){var e="disabled"+f.capitalizeFirstLetter(t);this._buttons[e]=f.createElementByTemplate(this._template.disabledMoveButton,{type:t})},this)},_setMoreButtons:function(){i(_,function(t){var e=t+"More";this._buttons[e]=f.createElementByTemplate(this._template.moreButton,{type:t})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(t){var e;e=t.page>1?this._buttons.first:this._buttons.disabledFirst,this._getContainerElement().appendChild(e)},_appendPrevButton:function(t){var e;e=t.currentPageIndex>1?this._buttons.prev:this._buttons.disabledPrev,this._getContainerElement().appendChild(e)},_appendNextButton:function(t){var e;e=t.currentPageIndex<t.lastPageListIndex?this._buttons.next:this._buttons.disabledNext,this._getContainerElement().appendChild(e)},_appendLastButton:function(t){var e;e=t.page<t.lastPage?this._buttons.last:this._buttons.disabledLast,this._getContainerElement().appendChild(e)},_appendPrevMoreButton:function(t){var e;t.prevMore&&(e=this._buttons.prevMore,u(e,this._firstItemClassName),this._getContainerElement().appendChild(e))},_appendNextMoreButton:function(t){var e;t.nextMore&&(e=this._buttons.nextMore,u(e,this._lastItemClassName),this._getContainerElement().appendChild(e))},_appendPages:function(t){var e,n,i=t.leftPageNumber,s=t.rightPageNumber;for(n=i;n<=s;n+=1)n===t.page?e=f.createElementByTemplate(this._template.currentPage,{page:n}):(e=f.createElementByTemplate(this._template.page,{page:n}),this._enabledPageElements.push(e)),n!==i||t.prevMore||u(e,this._firstItemClassName),n!==s||t.nextMore||u(e,this._lastItemClassName),this._getContainerElement().appendChild(e)},_attachClickEvent:function(t){var e=this._getContainerElement();o(e,"click",function(e){var n,i,s=r(e);a(e),(i=this._getButtonType(s))||(n=this._getPageNumber(s)),t(i,n)},this)},_getButtonType:function(t){var e,n=this._buttons;return i(n,function(n,i){return!f.isContained(t,n)||(e=i,!1)},this),e},_getPageNumber:function(t){var e,n=this._findPageElement(t);return n&&(e=parseInt(n.innerText,10)),e},_findPageElement:function(t){for(var e,n=0,i=this._enabledPageElements.length;n<i;n+=1)if(e=this._enabledPageElements[n],f.isContained(t,e))return e;return null},_empty:function(){this._enabledPageElements=[],i(this._buttons,function(t,e){this._buttons[e]=t.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(t){this._empty(),this._appendFirstButton(t),this._appendPrevButton(t),this._appendPrevMoreButton(t),this._appendPages(t),this._appendNextMoreButton(t),this._appendNextButton(t),this._appendLastButton(t)}});t.exports=d},function(t,e,n){"use strict";t.exports=function(t){return t.target||t.srcElement}},function(t,e,n){"use strict";var i=n(4),s=n(3),r=n(23);function o(t,e,n,i){function o(e){n.call(i||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,o):"attachEvent"in t&&t.attachEvent("on"+e,o),function(t,e,n,i){var o=r(t,e),a=!1;s(o,function(t){return t.handler!==n||(a=!0,!1)}),a||o.push({handler:n,wrappedHandler:i})}(t,e,n,o)}t.exports=function(t,e,n,r){i(e)?s(e.split(/\s+/g),function(e){o(t,e,n,r)}):s(e,function(e,i){o(t,i,e,n)})}},function(t,e,n){"use strict";var i="_feEventKey";t.exports=function(t,e){var n,s=t[i];return s||(s=t[i]={}),(n=s[e])||(n=s[e]=[]),n}},function(t,e,n){"use strict";t.exports=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,n){"use strict";var i=n(3),s=n(8),r=n(26),o=n(27);t.exports=function(t){var e,n=Array.prototype.slice.call(arguments,1),a=t.classList,u=[];a?i(n,function(e){t.classList.add(e)}):((e=r(t))&&(n=[].concat(e.split(/\s+/),n)),i(n,function(t){s(t,u)<0&&u.push(t)}),o(t,u))}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t){return t&&t.className?i(t.className.baseVal)?t.className:t.className.baseVal:""}},function(t,e,n){"use strict";var i=n(2),s=n(1);t.exports=function(t,e){e=(e=i(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),s(t.className.baseVal)?t.className=e:t.className.baseVal=e}},function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof HTMLElement?t&&(t instanceof HTMLElement||!!t.nodeType):!(!t||!t.nodeType)}},function(t,e,n){"use strict";var i=n(8),s=n(3),r=n(2),o=n(4),a=n(0),u=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,p=/\[\s?|\s?\]/,l=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,f=/\./,h=/^["']\w+["']$/,g=/"|'/g,_=/^-?\d+\.?\d*$/,d=2,v={if:function(t,e,n){var i=function(t,e){var n=[t],i=[],r=0,o=0;return s(e,function(t,s){0===t.indexOf("if")?r+=1:"/if"===t?r-=1:r||0!==t.indexOf("elseif")&&"else"!==t||(n.push("else"===t?["true"]:t.split(" ").slice(1)),i.push(e.slice(o,s)),o=s+1)}),i.push(e.slice(o)),{exps:n,sourcesInsideIf:i}}(t,e),r=!1,o="";return s(i.exps,function(t,e){return(r=b(t,n))&&(o=P(i.sourcesInsideIf[e],n)),!r}),o},each:function(t,e,n){var i=b(t,n),o=r(i)?"@index":"@key",u={},c="";return s(i,function(t,i){u[o]=i,u["@this"]=t,a(n,u),c+=P(e.slice(),n)}),c},with:function(t,e,n){var s=i("as",t),r=t[s+1],o=b(t.slice(0,s),n),u={};return u[r]=o,P(e,a(n,u))||""}},m=3==="a".split(/a/).length?function(t,e){return t.split(e)}:function(t,e){var n,i,s=[],r=0;for(e.global||(e=new RegExp(e,"g")),n=e.exec(t);null!==n;)i=n.index,s.push(t.slice(r,i)),r=i+n[0].length,n=e.exec(t);return s.push(t.slice(r)),s};function x(t,e){var n,i=e[t];return"true"===t?i=!0:"false"===t?i=!1:h.test(t)?i=t.replace(g,""):c.test(t)?i=x((n=t.split(p))[0],e)[x(n[1],e)]:l.test(t)?i=x((n=t.split(f))[0],e)[n[1]]:_.test(t)&&(i=parseFloat(t)),i}function y(t,e,n){for(var i,s,r,a,u=v[t],c=1,p=0+d,l=e[p];c&&o(l);)0===l.indexOf(t)?c+=1:0===l.indexOf("/"+t)&&(c-=1,i=p),l=e[p+=d];if(c)throw Error(t+" needs {{/"+t+"}} expression.");return e[0]=u(e[0].split(" ").slice(1),(s=0,r=i,(a=e.splice(s+1,r-s)).pop(),a),n),e}function b(t,e){var n=x(t[0],e);return n instanceof Function?function(t,e,n){var i=[];return s(e,function(t){i.push(x(t,n))}),t.apply(null,i)}(n,t.slice(1),e):n}function P(t,e){for(var n,i,s,r=1,a=t[r];o(a);)i=(n=a.split(" "))[0],v[i]?(s=y(i,t.splice(r,t.length-r),e),t=t.concat(s)):t[r]=b(n,e),a=t[r+=d];return t.join("")}t.exports=function(t,e){return P(m(t,u),e)}},function(t,e,n){"use strict";var i=n(1),s=n(31),r=6048e5;t.exports=function(t,e){var n=location.hostname,o="TOAST UI "+t+" for "+n+": Statistics",a=window.localStorage.getItem(o);(i(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(t){return(new Date).getTime()-t>r}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||s("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})},1e3)))}},function(t,e,n){"use strict";var i=n(6);t.exports=function(t,e){var n=document.createElement("img"),s="";return i(e,function(t,e){s+="&"+e+"="+t}),s=s.substring(1),n.src=t+"?"+s,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}}])});
},{}],"o8lo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=i(require("tui-pagination")),t=i(require("../js/api-requests")),a=i(require("./movies-grid")),s=i(require("../js/get-refs"));function i(e){return e&&e.__esModule?e:{default:e}}const n=new t.default,u=(0,s.default)();function l(t){const s=document.getElementById("tui-pagination-container");let i={totalItems:t,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};const l=window.matchMedia("(max-width: 768px)");function r(e){e.matches&&(i.visiblePages=3)}l.addEventListener("change",r),r(l),new e.default(s,i).on("afterMove",function(e){u.gallery.innerHTML="",n.page=e.page,n.getPopularMovies().then(e=>{(0,a.default)(e.data.results)})})}
},{"tui-pagination":"jPMh","../js/api-requests":"unYu","./movies-grid":"t9LP","../js/get-refs":"EGsz"}],"zkgv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=l(require("./get-refs")),t=l(require("../js/api-requests")),r=l(require("../js/movies-grid")),a=l(require("../js/modal-movie-details")),i=l(require("../js/slider")),o=l(require("./modal-trailer")),n=l(require("./pagination")),s=require("./localization");function l(e){return e&&e.__esModule?e:{default:e}}const d=new t.default,u=(0,e.default)();function c(){u.gallery.innerHTML="",d.resetPage(),d.getPopularMovies().then(e=>{(0,n.default)(e.data.total_results),(0,r.default)(e.data.results),g()})}function f(){d.getMoviesById().then(e=>{(0,a.default)(e.data),(0,s.translateItems)(".modal-card [data-key]")})}function g(){document.querySelector(".gallery").addEventListener("click",e=>{d.id=e.target.dataset.id,f(),setTimeout(()=>{m()},500)})}function m(){d.getMoviesTrailer().then(e=>{(0,o.default)(e.data.results)})}arrowTop.onclick=function(){window.scrollTo({pageXOffset:pageXOffset,top:0,behavior:"smooth"})},window.addEventListener("scroll",function(){arrowTop.hidden=pageYOffset<document.documentElement.clientHeight}),d.getUpcomingMovies().then(e=>{(0,i.default)(e.data.results)});
},{"./get-refs":"EGsz","../js/api-requests":"unYu","../js/movies-grid":"t9LP","../js/modal-movie-details":"dMVB","../js/slider":"wzuc","./modal-trailer":"wCur","./pagination":"o8lo","./localization":"kQRN"}],"xE66":[function(require,module,exports) {
"use strict";var e=s(require("../js/get-refs"));function s(e){return e&&e.__esModule?e:{default:e}}const a=(0,e.default)();function i(e){e.preventDefault(),a.form.classList.add("is-hidden"),a.btnSectionInLibrary.classList.remove("is-hidden"),a.btnSectionInLibrary.classList.add("btn-list"),a.homePage.classList.remove("current"),a.libraryPage.classList.add("current"),a.headerByClass.classList.remove("header"),a.headerByTeg.classList.add("header-library"),a.search.classList.add("is-hidden"),a.pagination.classList.add("pagination-off"),a.search.innerHTML=""}a.libraryPage.addEventListener("click",i);
},{"../js/get-refs":"EGsz"}],"qVFM":[function(require,module,exports) {
module.exports=[{id:"1",name:"Vladimir Rudnyk",description:"Team Lead",image:"https://i.ibb.co/TrZJdnp/Vladimir.jpg",github:"",linkdIn:"",telegram:""},{id:"2",name:"Maxim Steblyna",description:"Scrum Master",image:"https://i.ibb.co/yqWZSmP/Maksim.jpg",github:"",linkdIn:"",telegram:"https://t.me/albiorix_ua"},{id:"3",name:"Maxim Samsonenko",description:"Developer",image:"https://i.ibb.co/rtJK4WH/Maksim-Samsonenko.jpg",github:"",linkdIn:"",telegram:""},{id:"4",name:"Olha Mashtaler",description:"Developer",image:"https://i.ibb.co/rfjKwnR/olha.jpg",github:"",linkdIn:"",telegram:""},{id:"5",name:"Anastasiia Tyshkevych",description:"Developer",image:"https://i.ibb.co/pRXgQtX/anastasiia.jpg",github:"",linkdIn:"",telegram:"https://t.me/anastasiia_tyshkevych"},{id:"6",name:"Ihor Khomenko",description:"Developer",image:"https://i.ibb.co/4txhz2s/ihor-khomenko.jpg",github:"",linkdIn:"",telegram:"https://t.me/igor_homenko"},{id:"7",name:"Liudmyla Nedosheva",description:"Developer",image:"https://i.ibb.co/3pHf8Jq/Ludmila.jpg",github:"",linkdIn:"",telegram:"https://t.me/NeLyudmyla"},{id:"8",name:"Ihor Kozlov",description:"Developer",image:"https://i.ibb.co/bRKCsqt/ihor-kozlov.jpg",github:"",linkdIn:"",telegram:"https://t.me/IgorKozloff"},{id:"9",name:"Yevgenii Vashchenko",description:"Developer",image:"https://i.ibb.co/nmH6rmw/Zhenya.jpg",github:"",linkdIn:"",telegram:""}];
},{}],"pAws":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof e&&e.amd?e([],r):"object"==typeof exports?exports.Handlebars=r():t.Handlebars=r()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";var n=r(1).default,o=r(2).default;t.__esModule=!0;var a=n(r(3)),i=o(r(36)),u=o(r(5)),l=n(r(4)),s=n(r(37)),c=o(r(43));function f(){var e=new a.HandlebarsEnvironment;return l.extend(e,a),e.SafeString=i.default,e.Exception=u.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=s,e.template=function(t){return s.template(t,e)},e}var p=f();p.create=f,c.default(p),p.default=p,t.default=p,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},t.__esModule=!0},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,r){"use strict";var n=r(2).default;t.__esModule=!0,t.HandlebarsEnvironment=c;var o=r(4),a=n(r(5)),i=r(9),u=r(29),l=n(r(31)),s=r(32);t.VERSION="4.7.7";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function c(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},i.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===o.toString.call(e))o.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===o.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){s.resetLoggedProperties()}};var f=l.default.log;t.log=f,t.createFrame=o.createFrame,t.logger=l.default},function(e,t){"use strict";t.__esModule=!0,t.extend=i,t.indexOf=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!o.test(e))return e;return e.replace(n,a)},t.isEmpty=function(e){return!e&&0!==e||!(!s(e)||0!==e.length)},t.createFrame=function(e){var t=i({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,o=/[&<>"'`=]/;function a(e){return r[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}var u=Object.prototype.toString;t.toString=u;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)}),t.isFunction=l;var s=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===u.call(e)};t.isArray=s},function(e,t,r){"use strict";var n=r(6).default;t.__esModule=!0;var o=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(e,t){var r=t&&t.loc,i=void 0,u=void 0,l=void 0,s=void 0;r&&(i=r.start.line,u=r.end.line,l=r.start.column,s=r.end.column,e+=" - "+i+":"+l);for(var c=Error.prototype.constructor.call(this,e),f=0;f<o.length;f++)this[o[f]]=c[o[f]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{r&&(this.lineNumber=i,this.endLineNumber=u,n?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=l,this.endColumn=s))}catch(p){}}a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t,r){e.exports={default:r(7),__esModule:!0}},function(e,t,r){var n=r(8);e.exports=function(e,t,r){return n.setDesc(e,t,r)}},function(e,t){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(e,t,r){"use strict";var n=r(2).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),a.default(e),i.default(e),u.default(e),l.default(e),s.default(e),c.default(e)},t.moveHelperToHooks=function(e,t,r){e.helpers[t]&&(e.hooks[t]=e.helpers[t],r||delete e.helpers[t])};var o=n(r(10)),a=n(r(11)),i=n(r(24)),u=n(r(25)),l=n(r(26)),s=n(r(27)),c=n(r(28))},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,r){var o=r.inverse,a=r.fn;if(!0===t)return a(this);if(!1===t||null==t)return o(this);if(n.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):o(this);if(r.data&&r.ids){var i=n.createFrame(r.data);i.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:i}}return a(t,r)})},e.exports=t.default},function(e,t,r){(function(n){"use strict";var o=r(12).default,a=r(2).default;t.__esModule=!0;var i=r(4),u=a(r(5));t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new u.default("Must pass iterator to #each");var r,a=t.fn,l=t.inverse,s=0,c="",f=void 0,p=void 0;function d(t,r,n){f&&(f.key=t,f.index=r,f.first=0===r,f.last=!!n,p&&(f.contextPath=p+t)),c+=a(e[t],{data:f,blockParams:i.blockParams([e[t],t],[p+t,null])})}if(t.data&&t.ids&&(p=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(f=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var h=e.length;s<h;s++)s in e&&d(s,s,s===e.length-1);else if(n.Symbol&&e[n.Symbol.iterator]){for(var v=[],m=e[n.Symbol.iterator](),g=m.next();!g.done;g=m.next())v.push(g.value);for(h=(e=v).length;s<h;s++)d(s,s,s===e.length-1)}else r=void 0,o(e).forEach(function(e){void 0!==r&&d(r,s-1),r=e,s++}),void 0!==r&&d(r,s-1,!0);return 0===s&&(c=l(this)),c})},e.exports=t.default}).call(t,function(){return this}())},function(e,t,r){e.exports={default:r(13),__esModule:!0}},function(e,t,r){r(14),e.exports=r(20).Object.keys},function(e,t,r){var n=r(15);r(17)("keys",function(e){return function(t){return e(n(t))}})},function(e,t,r){var n=r(16);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(18),o=r(20),a=r(23);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",i)}},function(e,t,r){var n=r(19),o=r(20),a=r(21),i=function(e,t,r){var u,l,s,c=e&i.F,f=e&i.G,p=e&i.S,d=e&i.P,h=e&i.B,v=e&i.W,m=f?o:o[t]||(o[t]={}),g=f?n:p?n[t]:(n[t]||{}).prototype;for(u in f&&(r=t),r)(l=!c&&g&&u in g)&&u in m||(s=l?g[u]:r[u],m[u]=f&&"function"!=typeof g[u]?r[u]:h&&l?a(s,n):v&&g[u]==s?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(s):d&&"function"==typeof s?a(Function.call,s):s,d&&((m.prototype||(m.prototype={}))[u]=s))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(22);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){"use strict";var n=r(2).default;t.__esModule=!0;var o=n(r(5));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,r){"use strict";var n=r(2).default;t.__esModule=!0;var o=r(4),a=n(r(5));t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,r){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=r.hash.level?o=r.hash.level:r.data&&null!=r.data.level&&(o=r.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t,r){return e?r.lookupProperty(e,t):e})},e.exports=t.default},function(e,t,r){"use strict";var n=r(2).default;t.__esModule=!0;var o=r(4),a=n(r(5));t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var r=t.fn;if(o.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&((n=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),r(e,{data:n,blockParams:o.blockParams([e],[n&&n.contextPath])})})},e.exports=t.default},function(e,t,r){"use strict";var n=r(2).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var o=n(r(30))},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4);t.default=function(e){e.registerDecorator("inline",function(e,t,r,o){var a=e;return t.partials||(t.partials={},a=function(o,a){var i=r.partials;r.partials=n.extend({},i,t.partials);var u=e(o,a);return r.partials=i,u}),t.partials[o.args[0]]=o.fn,a})},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n=r(4),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];console[t].apply(console,n)}}};t.default=o,e.exports=t.default},function(e,t,r){"use strict";var n=r(33).default,o=r(12).default,a=r(1).default;t.__esModule=!0,t.createProtoAccessControl=function(e){var t=n(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var r=n(null);return r.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,r){return s("function"==typeof e?t.methods:t.properties,r)},t.resetLoggedProperties=function(){o(l).forEach(function(e){delete l[e]})};var i=r(35),u=a(r(31)),l=n(null);function s(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==l[e]&&(l[e]=!0,u.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},function(e,t,r){e.exports={default:r(34),__esModule:!0}},function(e,t,r){var n=r(8);e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){"use strict";var n=r(33).default;t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.extend.apply(void 0,[n(null)].concat(t))};var o=r(4)},function(e,t){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},function(e,t,r){"use strict";var n=r(38).default,o=r(12).default,a=r(1).default,i=r(2).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,r=s.COMPILER_REVISION;if(t>=s.LAST_COMPATIBLE_COMPILER_REVISION&&t<=s.COMPILER_REVISION)return;if(t<s.LAST_COMPATIBLE_COMPILER_REVISION){var n=s.REVISION_CHANGES[r],o=s.REVISION_CHANGES[t];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new l.default("No environment passed to template");if(!e||!e.main)throw new l.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&7===e.compiler[0];var a={strict:function(e,t,r){if(!(e&&t in e))throw new l.default('"'+t+'" not defined in '+e,{loc:r});return a.lookupProperty(e,t)},lookupProperty:function(e,t){var r=e[t];return null==r?r:Object.prototype.hasOwnProperty.call(e,t)?r:p.resultIsAllowed(r,a.protoAccessControl,t)?r:void 0},lookup:function(e,t){for(var r=e.length,n=0;n<r;n++){var o=e[n]&&a.lookupProperty(e[n],t);if(null!=o)return e[n][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:u.escapeExpression,invokePartial:function(r,n,o){o.hash&&(n=u.extend({},n,o.hash),o.ids&&(o.ids[0]=!0));r=t.VM.resolvePartial.call(this,r,n,o);var a=u.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=t.VM.invokePartial.call(this,r,n,a);null==i&&t.compile&&(o.partials[o.name]=t.compile(r,e.compilerOptions,t),i=o.partials[o.name](n,a));if(null!=i){if(o.indent){for(var s=i.split("\n"),c=0,f=s.length;c<f&&(s[c]||c+1!==f);c++)s[c]=o.indent+s[c];i=s.join("\n")}return i}throw new l.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var r=e[t];return r.decorator=e[t+"_d"],r},programs:[],program:function(e,t,r,n,o){var a=this.programs[e],i=this.fn(e);return t||o||n||r?a=d(this,e,i,t,r,n,o):a||(a=this.programs[e]=d(this,e,i)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=u.extend({},t,e)),r},nullContext:n({}),noop:t.VM.noop,compilerInfo:e.compiler};function i(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.data;i._setup(r),!r.partial&&e.useData&&(n=function(e,t){t&&"root"in t||((t=t?s.createFrame(t):{}).root=e);return t}(t,n));var o=void 0,u=e.useBlockParams?[]:void 0;function l(t){return""+e.main(a,t,a.helpers,a.partials,n,u,o)}return e.useDepths&&(o=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(l=v(e.main,l,a,r.depths||[],n,u))(t,r)}return i.isTop=!0,i._setup=function(n){if(n.partial)a.protoAccessControl=n.protoAccessControl,a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators,a.hooks=n.hooks;else{var i=u.extend({},t.helpers,n.helpers);!function(e,t){o(e).forEach(function(r){var n=e[r];e[r]=function(e,t){var r=t.lookupProperty;return f.wrapHelper(e,function(e){return u.extend({lookupProperty:r},e)})}(n,t)})}(i,a),a.helpers=i,e.usePartial&&(a.partials=a.mergeIfNeeded(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=u.extend({},t.decorators,n.decorators)),a.hooks={},a.protoAccessControl=p.createProtoAccessControl(n);var l=n.allowCallsToHelperMissing||r;c.moveHelperToHooks(a,"helperMissing",l),c.moveHelperToHooks(a,"blockHelperMissing",l)}},i._child=function(t,r,n,o){if(e.useBlockParams&&!n)throw new l.default("must pass block params");if(e.useDepths&&!o)throw new l.default("must pass parent depths");return d(a,t,e[t],r,0,n,o)},i},t.wrapProgram=d,t.resolvePartial=function(e,t,r){e?e.call||r.name||(r.name=e,e=r.partials[e]):e="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name];return e},t.invokePartial=function(e,t,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var o=void 0;r.fn&&r.fn!==h&&function(){r.data=s.createFrame(r.data);var e=r.fn;o=r.data["partial-block"]=function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=s.createFrame(r.data),r.data["partial-block"]=n,e(t,r)},e.partials&&(r.partials=u.extend({},r.partials,e.partials))}();void 0===e&&o&&(e=o);if(void 0===e)throw new l.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)},t.noop=h;var u=a(r(4)),l=i(r(5)),s=r(3),c=r(9),f=r(42),p=r(32);function d(e,t,r,n,o,a,i){function u(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=i;return!i||t==i[0]||t===e.nullContext&&null===i[0]||(u=[t].concat(i)),r(e,t,e.helpers,e.partials,o.data||n,a&&[o.blockParams].concat(a),u)}return(u=v(r,u,e,i,n,a)).program=t,u.depth=i?i.length:0,u.blockParams=o||0,u}function h(){return""}function v(e,t,r,n,o,a){if(e.decorator){var i={};t=e.decorator(t,i,r,n&&n[0],o,a,n),u.extend(t,i)}return t}},function(e,t,r){e.exports={default:r(39),__esModule:!0}},function(e,t,r){r(40),e.exports=r(20).Object.seal},function(e,t,r){var n=r(41);r(17)("seal",function(e){return function(t){return e&&n(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){var r=arguments[arguments.length-1];return arguments[arguments.length-1]=t(r),e.apply(this,arguments)}}},function(e,t){(function(r){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==r?r:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default}).call(t,function(){return this}())}])});
},{}],"RO8d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=l(require("handlebars/dist/handlebars.runtime"));function l(n){return n&&n.__esModule?n:{default:n}}const e=n.default.template({1:function(n,l,e,a,t){var o,s=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,c="function",r=n.escapeExpression,u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"        <li id='"+r(typeof(o=null!=(o=u(e,"id")||(null!=l?u(l,"id"):l))?o:i)===c?o.call(s,{name:"id",hash:{},data:t,loc:{start:{line:8,column:16},end:{line:8,column:22}}}):o)+"' class='card'>\n          <a href='#"+r(typeof(o=null!=(o=u(e,"id")||(null!=l?u(l,"id"):l))?o:i)===c?o.call(s,{name:"id",hash:{},data:t,loc:{start:{line:9,column:20},end:{line:9,column:26}}}):o)+"' class='link'>\n            <div class='card__content'>\n              <div class='imgBox'>\n                <img class='imgBox__img' src='"+r(typeof(o=null!=(o=u(e,"image")||(null!=l?u(l,"image"):l))?o:i)===c?o.call(s,{name:"image",hash:{},data:t,loc:{start:{line:12,column:46},end:{line:12,column:55}}}):o)+"' alt='"+r(typeof(o=null!=(o=u(e,"name")||(null!=l?u(l,"name"):l))?o:i)===c?o.call(s,{name:"name",hash:{},data:t,loc:{start:{line:12,column:62},end:{line:12,column:70}}}):o)+"' />\n              </div>\n              <div class='contentBox'>\n                <h3 class='contentBox__title' data-key='dev-name'>"+r(typeof(o=null!=(o=u(e,"name")||(null!=l?u(l,"name"):l))?o:i)===c?o.call(s,{name:"name",hash:{},data:t,loc:{start:{line:15,column:66},end:{line:15,column:74}}}):o)+"<br />\n                  <span class='contentBox__subtitle' data-key='dev-pos'>"+r(typeof(o=null!=(o=u(e,"description")||(null!=l?u(l,"description"):l))?o:i)===c?o.call(s,{name:"description",hash:{},data:t,loc:{start:{line:16,column:72},end:{line:16,column:87}}}):o)+"</span></h3>\n              </div>\n            </div>\n          </a>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(n,l,e,a,t){var o;return"<div class='team-section'>\n  <div class='team-section__container'>\n    <h2 class='team__title'>\n      <span class='team-title-accent' data-key='our'>Our </span><span data-key='team'>Team</span>\n    </h2>\n    <ul class='cards-container js-team list'>\n"+(null!=(o=(n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]})(e,"each").call(null!=l?l:n.nullContext||{},l,{name:"each",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:7,column:6},end:{line:21,column:15}}}))?o:"")+"    </ul>\n  </div>\n</div>"},useData:!0});var a=e;exports.default=a;
},{"handlebars/dist/handlebars.runtime":"pAws"}],"SVxB":[function(require,module,exports) {
"use strict";var e=c(require("../team-card.json")),t=o(require("basiclightbox"));require("../../node_modules/basiclightbox/src/styles/main.scss");var r=c(require("../team-card.hbs"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=c?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function c(e){return e&&e.__esModule?e:{default:e}}const a=document.querySelector(".js-team-link");function s(){const n=(0,r.default)(e.default);function o(e){"team__title"===e.target.classList.value||"team__title_accent"===e.target.classList.value||"basicLightbox"===e.target.classList.value?a.close():a.show(),"dark"===localStorage.getItem("theme")&&document.querySelector(".team-section").classList.add("dark-bg")}function c(e){"Escape"===e.code?a.close():a.show()}document.addEventListener("click",o),document.addEventListener("keydown",c);const a=t.create(n,{onShow:()=>{document.body.style.overflow="hidden"},onClose:()=>{document.body.style.overflow="visible",document.removeEventListener("click",o),document.removeEventListener("keydown",c)}});a.show()}a.addEventListener("click",s);
},{"../team-card.json":"qVFM","basiclightbox":"BNjD","../../node_modules/basiclightbox/src/styles/main.scss":"yBio","../team-card.hbs":"RO8d"}],"dLxY":[function(require,module,exports) {
function l(l,n,u){var e,t,o,a,r;function i(){var c=Date.now()-a;c<n&&c>=0?e=setTimeout(i,n-c):(e=null,u||(r=l.apply(o,t),o=t=null))}null==n&&(n=100);var c=function(){o=this,t=arguments,a=Date.now();var c=u&&!e;return e||(e=setTimeout(i,n)),c&&(r=l.apply(o,t),o=t=null),r};return c.clear=function(){e&&(clearTimeout(e),e=null)},c.flush=function(){e&&(r=l.apply(o,t),o=t=null,clearTimeout(e),e=null)},c}l.debounce=l,module.exports=l;
},{}],"RP5I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=i(require("tui-pagination"));require("../sass/layout/_pagination.scss");var t=i(require("../js/api-requests")),a=i(require("../js/movies-grid")),s=i(require("../js/get-refs"));function i(e){return e&&e.__esModule?e:{default:e}}const n=new t.default,u=(0,s.default)();function r(t,s){const i=document.getElementById("tui-pagination-container"),r={totalItems:t,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},l=window.matchMedia("(max-width: 768px)");function o(e){e.matches&&(r.visiblePages=3)}l.addEventListener("change",o),o(l);const p=new e.default(i,r);p.off("afterMove",function(e){u.gallery.innerHTML="",n.page=e.page,n.getPopularMovies().then(e=>{(0,a.default)(e.data.results)})}),p.on("afterMove",function(e){n.page=e.page,u.gallery.innerHTML="",n.query=s,n.getSearchMovies().then(e=>{(0,a.default)(e.data.results)})})}
},{"tui-pagination":"jPMh","../sass/layout/_pagination.scss":"yBio","../js/api-requests":"unYu","../js/movies-grid":"t9LP","../js/get-refs":"EGsz"}],"xgpU":[function(require,module,exports) {
"use strict";var e=f(require("../js/api-requests")),t=f(require("debounce")),r=f(require("../js/get-refs")),a=require("notiflix/build/notiflix-notify-aio"),u=f(require("../js/movies-grid")),i=f(require("../js/onStart"));require("../sass/layout/_pagination.scss");var s=f(require("./pagination-searchQuery")),n=require("./translate"),l=f(require("./languages/notiflix.json"));function f(e){return e&&e.__esModule?e:{default:e}}const o=l.default.apifilms.failure,d=new e.default,q=(0,r.default)();function c(e){e.preventDefault(),d.resetPage();const t=q.searchInput.value;""!==t?(q.gallery.innerHTML="",g(t,u.default)):(0,i.default)()}function g(e,t){d.query=e,d.getSearchMovies().then(r=>{(0,s.default)(r.data.total_results,e),0!==r.data.results.length?t(r.data.results):a.Notify.failure((0,n.translateMsg)(o))})}q.form.addEventListener("input",(0,t.default)(c,500));
},{"../js/api-requests":"unYu","debounce":"dLxY","../js/get-refs":"EGsz","notiflix/build/notiflix-notify-aio":"MeeU","../js/movies-grid":"t9LP","../js/onStart":"zkgv","../sass/layout/_pagination.scss":"yBio","./pagination-searchQuery":"RP5I","./translate":"nUSU","./languages/notiflix.json":"ANiD"}],"Focm":[function(require,module,exports) {
"use strict";require("./sass/main.scss"),require("./js/authorization");var e=n(require("./js/get-refs")),t=n(require("./js/onStart")),r=n(require("./js/api-requests"));require("./js/library-page");var a=n(require("./js/movies-grid")),s=n(require("./js/page-switcher")),u=n(require("./js/team-modal"));require("./js/range-of-search-film");var o=n(require("./js/pagination-searchQuery"));function n(e){return e&&e.__esModule?e:{default:e}}const l=new r.default,i=(0,e.default)();function c(e){e.preventDefault();const{elements:{searchQuery:t}}=e.currentTarget;i.gallery.innerHTML="",l.query=t.value,l.getSearchMovies().then(e=>{console.log(e.data),(0,a.default)(e.data.results),(0,o.default)(e.data.total_results,t)}),t.value=""}function d(){try{"dark"===localStorage.getItem("theme")?(document.querySelector(".bg").classList.add("dark"),document.querySelector(".themetoggle span").textContent="nightlight_round"):(document.querySelector(".bg").classList.remove("dark"),document.querySelector(".themetoggle span").textContent="wb_sunny")}catch(e){}}i.form.addEventListener("submit",c),(0,t.default)(),document.querySelector(".themetoggle").addEventListener("click",e=>{e.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),d()}),d();
},{"./sass/main.scss":"clu1","./js/authorization":"ARBQ","./js/get-refs":"EGsz","./js/onStart":"zkgv","./js/api-requests":"unYu","./js/library-page":"xE66","./js/movies-grid":"t9LP","./js/page-switcher":"NFa6","./js/team-modal":"SVxB","./js/range-of-search-film":"xgpU","./js/pagination-searchQuery":"RP5I"}]},{},["Focm"], null)
//# sourceMappingURL=/Filmoteka/src.05dde56d.js.map